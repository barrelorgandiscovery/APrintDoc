{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bienvenue dans l'aide en ligne du programme APrint Studio APrint / Studio APrint Studio a \u00e9t\u00e9 con\u00e7u comme un environnement de travail pour les arrangeurs d'orgues de barbarie pour faciliter la cr\u00e9ation et la pr\u00e9servation de morceaux de musique. Le logiciel permet \u00e9galement la cr\u00e9ation de nouvelles oeuvres, et propose une validation num\u00e9rique de la notation musicale vis \u00e0 vis des capacit\u00e9s des instruments de musique m\u00e9canique. Une attention toute particuli\u00e8re est donn\u00e9e \u00e0 la simplicit\u00e9 d'utilisation (grand public / amateur / professionnel). La perfection est atteinte, non pas lorsqu'il n'y a plus rien \u00e0 ajouter, mais lorsqu'il n'y a plus rien \u00e0 retirer. - Antoine de Saint-Exup\u00e9ry. APrint Studio est r\u00e9alis\u00e9 en tant que logiciel Libre , permettant aux utilisateurs d'adapter le programme en fonction de leurs besoins. Le code source du programme est accessible dans chaque installation, dans le fichier .jar (archive ZIP). APrint Studio utilise des standard ouverts pour les fichiers (fichiers textes, fichier zip, fichiers wav), pour garantir la lisibilit\u00e9 des donn\u00e9es avec n'importe quel logiciel compl\u00e9mentaire. APrint Studio est extensible. Des scripts et Un m\u00e9canisme d'extension permettent de brancher de nouvelles fonctionnalit\u00e9s dans le logiciel sans avoir \u00e0 conna\u00eetre les d\u00e9tails du fonctionnement interne. Ce qui prenait les jours, prend maintenant des minutes. Principales Fonctionnalit\u00e9s offertes D\u00e9finition d'instrument, et impression de gammes, de patrons de cartons (incluant la d\u00e9finition sonore) Import de fichiers midi, et v\u00e9rification des contraintes associ\u00e9es \u00e0 l'instrument Num\u00e9risation de cartons \u00e0 partir de divers syst\u00e8mes d'acquisition, reconnaissance I.A. des trous Perforation de carton, en utilisant des machines CNC, (GRBL), poin\u00e7onnage et Lazer Export de video, fichier Wav, Ogg des cr\u00e9ations Cr\u00e9ation de PDF, impression de poncifs Cr\u00e9ation de fichier DXF/SVG de cartons, pianorolls, patron de rouleaux de boites \u00e0 musique Support des instruments type Artiston avec des Disques cartons ou m\u00e9tal Support des boites \u00e0 musiques \u00e0 rouleaux ou cylindres Atelier de transformation / transposition d'un instrument \u00e0 un autre (Model editor) Concepts APrint Studio utilise des fichiers Book , pouvant \u00eatre directement cr\u00e9\u00e9 \u00e0 partir de fichier MIDI. Ce type de fichier pr\u00e9serve l'ensemble des sp\u00e9cificit\u00e9s des instruments simples ou complexes (registres, commandes diverses). Des scan de cartons \u00e0 partir de Video, Machine sp\u00e9ciales, ou Scanner peuvent \u00e9galement \u00eatre sauvegard\u00e9s au format BookImage (Version 2020) L'utilisation des sons r\u00e9els d'instruments influe \u00e9galement de fa\u00e7on importante sur la composition ou l'arrangement de morceaux sp\u00e9cifiquement \u00e9crits pour les orgues de barbarie. Nous esp\u00e9rons pouvoir offrir les fonctionnalit\u00e9s n\u00e9cessaires aux arrangeurs / amateurs pour exploiter au mieux toutes les capacit\u00e9s des orgues de barbarie et \u00e9ventuellement d\u00e9clencher des vocations pour faire vivre ces instruments merveilleux. Utilisation APrint Studio a \u00e9t\u00e9 test\u00e9e et est utilis\u00e9 sur les OS suivants (Windows XP/Vista/8/10, Linux, Mac). Les liens Barrel Organ Discovery Site Web - Toutes les ressources sont accessibles de cette page - http://www.barrel-organ-discovery.org Qui Sommes nous, que faisons nous, pourquoi ? - http://www.barrel-organ-discovery.org/site/about.html Lien directe vers la page du logiciel APrint Studio : - http://www.barrel-organ-discovery.org/site/download.html Tous les instruments publiques : - http://www.barrel-organ-discovery.org/instruments/ Tous les travaux sur les perfos CNC : - http://www.barrel-organ-discovery.org/site/krunch.html Contribuer sur les logiciels, documentations ---------------------------------------------------------- L'ensemble des \u00e9l\u00e9ments et logiciels sont disponibles sur la plateforme Github.com , cette plateforme permet d'am\u00e9liorer les logiciels, faire des nouveaux logiciels \u00e0 partir des \u00e9l\u00e9ments https://github.com/barrelorgandiscovery On y retrouve : - Le site web (pages) - la documentation (pages) - le projet APrint Studio et toutes ses fonctionnalit\u00e9s (numerisation, per\u00e7age, modification ... ) - MidiSaver (projet arduino, de numerisation de cartons) - GRBL Punch (pilotage commande numerique, pour perfo)","title":"Home"},{"location":"#bienvenue-dans-laide-en-ligne-du-programme-aprint-studio","text":"","title":"Bienvenue dans l'aide en ligne du programme APrint Studio"},{"location":"#aprint-studio","text":"APrint Studio a \u00e9t\u00e9 con\u00e7u comme un environnement de travail pour les arrangeurs d'orgues de barbarie pour faciliter la cr\u00e9ation et la pr\u00e9servation de morceaux de musique. Le logiciel permet \u00e9galement la cr\u00e9ation de nouvelles oeuvres, et propose une validation num\u00e9rique de la notation musicale vis \u00e0 vis des capacit\u00e9s des instruments de musique m\u00e9canique. Une attention toute particuli\u00e8re est donn\u00e9e \u00e0 la simplicit\u00e9 d'utilisation (grand public / amateur / professionnel). La perfection est atteinte, non pas lorsqu'il n'y a plus rien \u00e0 ajouter, mais lorsqu'il n'y a plus rien \u00e0 retirer. - Antoine de Saint-Exup\u00e9ry. APrint Studio est r\u00e9alis\u00e9 en tant que logiciel Libre , permettant aux utilisateurs d'adapter le programme en fonction de leurs besoins. Le code source du programme est accessible dans chaque installation, dans le fichier .jar (archive ZIP). APrint Studio utilise des standard ouverts pour les fichiers (fichiers textes, fichier zip, fichiers wav), pour garantir la lisibilit\u00e9 des donn\u00e9es avec n'importe quel logiciel compl\u00e9mentaire. APrint Studio est extensible. Des scripts et Un m\u00e9canisme d'extension permettent de brancher de nouvelles fonctionnalit\u00e9s dans le logiciel sans avoir \u00e0 conna\u00eetre les d\u00e9tails du fonctionnement interne. Ce qui prenait les jours, prend maintenant des minutes.","title":"APrint / Studio"},{"location":"#principales-fonctionnalites-offertes","text":"D\u00e9finition d'instrument, et impression de gammes, de patrons de cartons (incluant la d\u00e9finition sonore) Import de fichiers midi, et v\u00e9rification des contraintes associ\u00e9es \u00e0 l'instrument Num\u00e9risation de cartons \u00e0 partir de divers syst\u00e8mes d'acquisition, reconnaissance I.A. des trous Perforation de carton, en utilisant des machines CNC, (GRBL), poin\u00e7onnage et Lazer Export de video, fichier Wav, Ogg des cr\u00e9ations Cr\u00e9ation de PDF, impression de poncifs Cr\u00e9ation de fichier DXF/SVG de cartons, pianorolls, patron de rouleaux de boites \u00e0 musique Support des instruments type Artiston avec des Disques cartons ou m\u00e9tal Support des boites \u00e0 musiques \u00e0 rouleaux ou cylindres Atelier de transformation / transposition d'un instrument \u00e0 un autre (Model editor)","title":"Principales Fonctionnalit\u00e9s offertes"},{"location":"#concepts","text":"APrint Studio utilise des fichiers Book , pouvant \u00eatre directement cr\u00e9\u00e9 \u00e0 partir de fichier MIDI. Ce type de fichier pr\u00e9serve l'ensemble des sp\u00e9cificit\u00e9s des instruments simples ou complexes (registres, commandes diverses). Des scan de cartons \u00e0 partir de Video, Machine sp\u00e9ciales, ou Scanner peuvent \u00e9galement \u00eatre sauvegard\u00e9s au format BookImage (Version 2020) L'utilisation des sons r\u00e9els d'instruments influe \u00e9galement de fa\u00e7on importante sur la composition ou l'arrangement de morceaux sp\u00e9cifiquement \u00e9crits pour les orgues de barbarie. Nous esp\u00e9rons pouvoir offrir les fonctionnalit\u00e9s n\u00e9cessaires aux arrangeurs / amateurs pour exploiter au mieux toutes les capacit\u00e9s des orgues de barbarie et \u00e9ventuellement d\u00e9clencher des vocations pour faire vivre ces instruments merveilleux.","title":"Concepts"},{"location":"#utilisation","text":"APrint Studio a \u00e9t\u00e9 test\u00e9e et est utilis\u00e9 sur les OS suivants (Windows XP/Vista/8/10, Linux, Mac).","title":"Utilisation"},{"location":"#les-liens-barrel-organ-discovery","text":"Site Web - Toutes les ressources sont accessibles de cette page - http://www.barrel-organ-discovery.org Qui Sommes nous, que faisons nous, pourquoi ? - http://www.barrel-organ-discovery.org/site/about.html Lien directe vers la page du logiciel APrint Studio : - http://www.barrel-organ-discovery.org/site/download.html Tous les instruments publiques : - http://www.barrel-organ-discovery.org/instruments/ Tous les travaux sur les perfos CNC : - http://www.barrel-organ-discovery.org/site/krunch.html Contribuer sur les logiciels, documentations ---------------------------------------------------------- L'ensemble des \u00e9l\u00e9ments et logiciels sont disponibles sur la plateforme Github.com , cette plateforme permet d'am\u00e9liorer les logiciels, faire des nouveaux logiciels \u00e0 partir des \u00e9l\u00e9ments https://github.com/barrelorgandiscovery On y retrouve : - Le site web (pages) - la documentation (pages) - le projet APrint Studio et toutes ses fonctionnalit\u00e9s (numerisation, per\u00e7age, modification ... ) - MidiSaver (projet arduino, de numerisation de cartons) - GRBL Punch (pilotage commande numerique, pour perfo)","title":"Les liens Barrel Organ Discovery"},{"location":"product/1-premiers-pas/","text":"Premiers pas avec APrint studio APrint studio est un outil propos\u00e9 aux arrangeurs de cartons d'orgue de barbarie, celui-ci concerne et se concentre sur les derni\u00e8res \u00e9tapes de cr\u00e9ation de cartons. L'ensemble de l'arrangement musical est r\u00e9alis\u00e9 avec un autre logiciel musical (Harmony Assistant, Cubase, Sibellius ... etc). Pour pouvoir \u00eatre ensuite utilis\u00e9 dans APrint Studio, il est alors n\u00e9cessaire de passer par le format Pivot MIDI pour pouvoir \u00eatre transform\u00e9 en carton virtuel sous APrint Studio. La premi\u00e8re \u00e9tape du logiciel est donc la r\u00e9cup\u00e9ration d'une composition musicale r\u00e9alis\u00e9e avec un instrument avec un logiciel d'arrangement, que l'on souhaite finaliser en carton. Premier Import \u00e0 partir d'un fichier MIDI L'import est donc la premi\u00e8re \u00e9tape r\u00e9alis\u00e9e pour cr\u00e9er un carton, cette \u00e9tape consiste \u00e0 r\u00e9cup\u00e9rer un arrangement musical d'un s\u00e9quenceur MIDI pour le transformer en carton. On pr\u00e9f\u00e8rera dans un premier temps importer un fichier MIDI sur l'instrument pour lequel il a \u00e9t\u00e9 arrang\u00e9. Les changements d'instruments peuvent \u00eatre envisag\u00e9s par la suite, en utilisant les termes de base, accompagnement ou chant pour faire les conversions (c'est beaucoup plus pratique). Pour r\u00e9aliser l'import, le logiciel utilise la d\u00e9finition d'un instrument. Dans l'instrument, sa gamme d\u00e9finit la position des notes et les pistes associ\u00e9es \u00e0 ces notes. Il est donc capable, en fonction des notes pr\u00e9sentes dans le fichier MIDI, de les associer \u00e0 une piste sur le carton. Les notes chevauchantes ou dupliqu\u00e9es sont conserv\u00e9es pour permettre leur correction. Cependant le jeu les supprime pour s'approcher au mieux de la r\u00e9action de l'instrument. L'export par d\u00e9faut en MIDI par contre effectue une fusion des trous pour n'avoir au final qu'une seule note fusionn\u00e9e pour l'ensemble des trous chevauch\u00e9s. Dans son fonctionnement, plusieurs transformations sont r\u00e9alis\u00e9es au pr\u00e9alable, afin de simplifier la r\u00e9cup\u00e9ration. Une premi\u00e8re transformation est donc la fusion de l'ensemble des pistes du fichier MIDI , ainsi les notes sont reconnues ind\u00e9pendemment de leur organisation dans le fichier MIDI, (cette strat\u00e9gie donne le plus de r\u00e9sultats) La seconde transformation concerne les percussions , en effet certaines percussions sont d\u00e9cal\u00e9es par rapport \u00e0 leur pilotage. Ceci est pris en charge par le logiciel dans la d\u00e9finition de la percussion (retard + longueur fixe). \u200b Glissez le fichier midi sur la fen\u00eatre principale La fen\u00eatre de choix de l'instrument appara\u00eet Cliquez sur le bouton \"Afficher le carton\", pour terminer la transformation du fichier MIDI Le carton associ\u00e9 au fichier midi est cr\u00e9\u00e9. Premier r\u00e9sultat d'import Le premier import peut ne pas \u00eatre tr\u00e8s int\u00e9ressant car la r\u00e9cup\u00e9ration du fichier MIDI ou la transformation est inadapt\u00e9e. Il y a alors deux possibilit\u00e9s : soit adapter le fichier midi et ses notes ou faire un petit script pour sp\u00e9cifier comment adapter et lire le fichier MIDI. Tout d\u00e9pend si l'op\u00e9ration est r\u00e9alis\u00e9e une seule ou plusieurs fois. Une section de cette aide est d\u00e9di\u00e9e \u00e0 la cr\u00e9ation d'un script d'import. Plusieurs tentatives peuvent \u00eatre n\u00e9cessaires pour un bon r\u00e9sultat final. Adaptation des contraintes de l'instrument Dans le panneau de droite, les contraintes associ\u00e9es \u00e0 l'instrument (\u00e0 partir de sa gamme) sont affich\u00e9es, celles ci peuvent \u00eatre recalcul\u00e9es au fur et \u00e0 mesure de la progression du travail.","title":"Utiliser un fichier Midi"},{"location":"product/1-premiers-pas/#premiers-pas-avec-aprint-studio","text":"APrint studio est un outil propos\u00e9 aux arrangeurs de cartons d'orgue de barbarie, celui-ci concerne et se concentre sur les derni\u00e8res \u00e9tapes de cr\u00e9ation de cartons. L'ensemble de l'arrangement musical est r\u00e9alis\u00e9 avec un autre logiciel musical (Harmony Assistant, Cubase, Sibellius ... etc). Pour pouvoir \u00eatre ensuite utilis\u00e9 dans APrint Studio, il est alors n\u00e9cessaire de passer par le format Pivot MIDI pour pouvoir \u00eatre transform\u00e9 en carton virtuel sous APrint Studio. La premi\u00e8re \u00e9tape du logiciel est donc la r\u00e9cup\u00e9ration d'une composition musicale r\u00e9alis\u00e9e avec un instrument avec un logiciel d'arrangement, que l'on souhaite finaliser en carton.","title":"Premiers pas avec APrint studio"},{"location":"product/1-premiers-pas/#premier-import-a-partir-dun-fichier-midi","text":"L'import est donc la premi\u00e8re \u00e9tape r\u00e9alis\u00e9e pour cr\u00e9er un carton, cette \u00e9tape consiste \u00e0 r\u00e9cup\u00e9rer un arrangement musical d'un s\u00e9quenceur MIDI pour le transformer en carton. On pr\u00e9f\u00e8rera dans un premier temps importer un fichier MIDI sur l'instrument pour lequel il a \u00e9t\u00e9 arrang\u00e9. Les changements d'instruments peuvent \u00eatre envisag\u00e9s par la suite, en utilisant les termes de base, accompagnement ou chant pour faire les conversions (c'est beaucoup plus pratique). Pour r\u00e9aliser l'import, le logiciel utilise la d\u00e9finition d'un instrument. Dans l'instrument, sa gamme d\u00e9finit la position des notes et les pistes associ\u00e9es \u00e0 ces notes. Il est donc capable, en fonction des notes pr\u00e9sentes dans le fichier MIDI, de les associer \u00e0 une piste sur le carton. Les notes chevauchantes ou dupliqu\u00e9es sont conserv\u00e9es pour permettre leur correction. Cependant le jeu les supprime pour s'approcher au mieux de la r\u00e9action de l'instrument. L'export par d\u00e9faut en MIDI par contre effectue une fusion des trous pour n'avoir au final qu'une seule note fusionn\u00e9e pour l'ensemble des trous chevauch\u00e9s. Dans son fonctionnement, plusieurs transformations sont r\u00e9alis\u00e9es au pr\u00e9alable, afin de simplifier la r\u00e9cup\u00e9ration. Une premi\u00e8re transformation est donc la fusion de l'ensemble des pistes du fichier MIDI , ainsi les notes sont reconnues ind\u00e9pendemment de leur organisation dans le fichier MIDI, (cette strat\u00e9gie donne le plus de r\u00e9sultats) La seconde transformation concerne les percussions , en effet certaines percussions sont d\u00e9cal\u00e9es par rapport \u00e0 leur pilotage. Ceci est pris en charge par le logiciel dans la d\u00e9finition de la percussion (retard + longueur fixe). \u200b Glissez le fichier midi sur la fen\u00eatre principale La fen\u00eatre de choix de l'instrument appara\u00eet Cliquez sur le bouton \"Afficher le carton\", pour terminer la transformation du fichier MIDI Le carton associ\u00e9 au fichier midi est cr\u00e9\u00e9.","title":"Premier Import \u00e0 partir d'un fichier MIDI"},{"location":"product/1-premiers-pas/#premier-resultat-dimport","text":"Le premier import peut ne pas \u00eatre tr\u00e8s int\u00e9ressant car la r\u00e9cup\u00e9ration du fichier MIDI ou la transformation est inadapt\u00e9e. Il y a alors deux possibilit\u00e9s : soit adapter le fichier midi et ses notes ou faire un petit script pour sp\u00e9cifier comment adapter et lire le fichier MIDI. Tout d\u00e9pend si l'op\u00e9ration est r\u00e9alis\u00e9e une seule ou plusieurs fois. Une section de cette aide est d\u00e9di\u00e9e \u00e0 la cr\u00e9ation d'un script d'import. Plusieurs tentatives peuvent \u00eatre n\u00e9cessaires pour un bon r\u00e9sultat final.","title":"Premier r\u00e9sultat d'import"},{"location":"product/1-premiers-pas/#adaptation-des-contraintes-de-linstrument","text":"Dans le panneau de droite, les contraintes associ\u00e9es \u00e0 l'instrument (\u00e0 partir de sa gamme) sont affich\u00e9es, celles ci peuvent \u00eatre recalcul\u00e9es au fur et \u00e0 mesure de la progression du travail.","title":"Adaptation des contraintes de l'instrument"},{"location":"product/2-exportmidi/","text":"R\u00e9aliser des exports MIDI pour les instruments automatis\u00e9s APrint Studio permet l'export des fichiers de carton, en fichiers MIDI adapt\u00e9s \u00e0 l'utilisation par des outils automatiques. Que ce soient des perforatrices ou des instruments MIDIfi\u00e9s. Il est fr\u00e9quent que les fichiers MIDI issus de l'arrangement ne correspondent pas aux attentes en termes op\u00e9rationnels. Un bouton d'export MIDI dans la vue carton permet d'exporter le carton en fichier MIDI. Ce bouton effectue les op\u00e9rations suivantes : Export au format MIDI 0, les pistes sont fusionn\u00e9es pour n'avoir plus qu'un seul Track. Ce format est beaucoup plus facile \u00e0 lire par les cartes sp\u00e9cialis\u00e9es Fusion des trous ou des notes supperpos\u00e9es Homog\u00e9n\u00e9isation du tempo: en effet un seul tempo est utilis\u00e9 en d\u00e9but de fichier MIDI. Les autres tempos (ou tempi) sont alors enlev\u00e9s pour \u00e9liminer leur interpr\u00e9tation par un lecteur de carte MIDI. Cette fonction est \u00e9galement tr\u00e8s utilis\u00e9e pour les perforatrices automatiques prenant des fichiers MIDI en entr\u00e9e .","title":"Exports vers Midi"},{"location":"product/2-exportmidi/#realiser-des-exports-midi-pour-les-instruments-automatises","text":"APrint Studio permet l'export des fichiers de carton, en fichiers MIDI adapt\u00e9s \u00e0 l'utilisation par des outils automatiques. Que ce soient des perforatrices ou des instruments MIDIfi\u00e9s. Il est fr\u00e9quent que les fichiers MIDI issus de l'arrangement ne correspondent pas aux attentes en termes op\u00e9rationnels. Un bouton d'export MIDI dans la vue carton permet d'exporter le carton en fichier MIDI. Ce bouton effectue les op\u00e9rations suivantes : Export au format MIDI 0, les pistes sont fusionn\u00e9es pour n'avoir plus qu'un seul Track. Ce format est beaucoup plus facile \u00e0 lire par les cartes sp\u00e9cialis\u00e9es Fusion des trous ou des notes supperpos\u00e9es Homog\u00e9n\u00e9isation du tempo: en effet un seul tempo est utilis\u00e9 en d\u00e9but de fichier MIDI. Les autres tempos (ou tempi) sont alors enlev\u00e9s pour \u00e9liminer leur interpr\u00e9tation par un lecteur de carte MIDI. Cette fonction est \u00e9galement tr\u00e8s utilis\u00e9e pour les perforatrices automatiques prenant des fichiers MIDI en entr\u00e9e .","title":"R\u00e9aliser des exports MIDI pour les instruments automatis\u00e9s"},{"location":"product/3-piloterinstrumentmidi/","text":"Piloter un instrument MIDI APrint Studio permet le pilotage d'un instrument midi \u00e0 partir du jeu de la vue carton (play). Le menu Options de la fen\u00eatre principale permet la s\u00e9lection du sous syst\u00e8me de jeu utilis\u00e9 pour la restitution sonore. Cette restitution peut \u00eatre interne \u00e0 l'ordinateur en utilisant une synth\u00e8se \u00e0 partir des \u00e9chantillons sonores de l'instrument. En s\u00e9lectionnant une interfa\u00e7e MIDI, ou une sortie USB MIDI le jeu d'un carton pilotera alors directement l'instrument. Transcription par d\u00e9faut en MIDI d'un Carton Virtuel Par d\u00e9faut, la transcription en MIDI est effectu\u00e9e \u00e0 partir de la gamme de l'instrument, celle ci donne par d\u00e9faut une correspondance MIDI pour : les notes (le code midi est utilis\u00e9) et les percussions (le code midi et nom de la percussion est utilis\u00e9 pour la correspondance), les percussions sont envoy\u00e9es sur le canal 10. Transcription MIDI personnalis\u00e9e par script dans un instrument La transcription de carton vers midi peut \u00eatre personnalis\u00e9 pour s'adapter \u00e0 la commande r\u00e9elle de l'instrument. Il s'agit ici de faire la correspondance entre les pistes du carton et les ordres MIDI envoy\u00e9s vers l'instrument. Cette transcription personnalis\u00e9e prend la forme d'un script associ\u00e9 \u00e0 l'instrument et sauvegard\u00e9 dans l'instrument utilis\u00e9 avec le carton virtuel. Si plusieurs scripts existent, un choix de la transcription est propos\u00e9 \u00e0 l'utilisateur. Ces scripts peuvent \u00eatre \u00e9tendus et adapt\u00e9s en fonction du pilotage de l'instrument. Ci dessous un exemple de script r\u00e9alis\u00e9 pour piloter un instrument et ses registres avec des commandes MIDI sp\u00e9cifiques : import org.barrelorgandiscovery.playsubsystem.* import org.barrelorgandiscovery.virtualbook.transformation.importer.* import org.barrelorgandiscovery.virtualbook.* def vb = virtualbook; def notemapping = [:] for(int i = 0 ; i < 43 ; i ++) { def md = [channel : 13, note : 35 + 6 + i] notemapping[i] = md } // fin chant for (int i = 43 ; i < 51 ; i ++) { def md = [channel : 14, note : 20 + 35 + i - 43] notemapping[i] = md } // contre chant // DO notemapping[51] = [channel : 14, note : 55 + 51 - 43] // DO # notemapping[52] = [channel : 14, note : 55 + 52 - 43] // RE notemapping[53] = [channel : 14, note : 55 + 76 - 3 - 43 ] // RE# notemapping[54] = [channel : 14, note : 55 + 77 - 3 - 43] // MI notemapping[55] = [channel : 14, note : 55 + 78 - 3 - 43 ] // contre chant for (int i = 56 ; i < 76 ; i ++) { def md = [channel : 14, note : 55 + i - 3 - 43] notemapping[i] = md } // registres // channel 15 - (ou 14 \u00e0 partir de zero) // declenche notemapping[77] = [channel :14 , note : 36] // registres, notation sur les broches def mregistre = [ 79 : [14 , 61] , //viloncell 80 : [15 , 57], //flute 8 82 : [14 , 57], // bourdon 83 : [14 , 59], // voix celeste 84 : [15 , 4], // sax 85 : [14 , 62], // flute dans le chant 86 : [14 , 51], //trompette 87 : [14 , 52], // udamaris 88 : [14 , 50], // violon dans le chant 89 : [15 , 19], // xylophone dans le chant 90 : [14 , 62], // Flute harmonique 91 : [15 , 2], // Flute de 8 92 : [15 , 17], // accordeon 93 : [14 , 64], // forte 94 : [14 , 49], // bonrdon dans le chant 95 : [14 , 53] // vibraphone ] mregistre.each { k, v -> notemapping[k - 1] = [channel : v[0] - 1 , note : v[1] + 35] } // percussions for (int i = 96; i <= 105 ; i ++) { notemapping[i] = [channel : 14, note : 55 + (80 + i - 96) - 3 - 43 ] } def m = new MidiFile() def holes = vb.getHolesCopy() // declanche ON byte[] data = [ 0x9E, 36,127 ] def n = new MidiGenericEvent(0, data) m.add(n) holes.each { def nn = notemapping[it.track] if (nn != null) { if (nn == 77) { // declenche // off , puis on byte[] data1 = [ 0x8E, 36,127 ] m.add( new MidiGenericEvent(it.timestamp, data1) ) byte[] data2 = [ 0x9E, 36,127 ] m.add( new MidiGenericEvent(it.timestamp + it.length, data2) ) } else { def n2 = new MidiNote(it.timestamp, it.length, nn.note, 0 , nn.channel) m.add(n2) } } } return m","title":"Piloter des instruments MIDI"},{"location":"product/3-piloterinstrumentmidi/#piloter-un-instrument-midi","text":"APrint Studio permet le pilotage d'un instrument midi \u00e0 partir du jeu de la vue carton (play). Le menu Options de la fen\u00eatre principale permet la s\u00e9lection du sous syst\u00e8me de jeu utilis\u00e9 pour la restitution sonore. Cette restitution peut \u00eatre interne \u00e0 l'ordinateur en utilisant une synth\u00e8se \u00e0 partir des \u00e9chantillons sonores de l'instrument. En s\u00e9lectionnant une interfa\u00e7e MIDI, ou une sortie USB MIDI le jeu d'un carton pilotera alors directement l'instrument.","title":"Piloter un instrument MIDI"},{"location":"product/3-piloterinstrumentmidi/#transcription-par-defaut-en-midi-dun-carton-virtuel","text":"Par d\u00e9faut, la transcription en MIDI est effectu\u00e9e \u00e0 partir de la gamme de l'instrument, celle ci donne par d\u00e9faut une correspondance MIDI pour : les notes (le code midi est utilis\u00e9) et les percussions (le code midi et nom de la percussion est utilis\u00e9 pour la correspondance), les percussions sont envoy\u00e9es sur le canal 10.","title":"Transcription par d\u00e9faut en MIDI d'un Carton Virtuel"},{"location":"product/3-piloterinstrumentmidi/#transcription-midi-personnalisee-par-script-dans-un-instrument","text":"La transcription de carton vers midi peut \u00eatre personnalis\u00e9 pour s'adapter \u00e0 la commande r\u00e9elle de l'instrument. Il s'agit ici de faire la correspondance entre les pistes du carton et les ordres MIDI envoy\u00e9s vers l'instrument. Cette transcription personnalis\u00e9e prend la forme d'un script associ\u00e9 \u00e0 l'instrument et sauvegard\u00e9 dans l'instrument utilis\u00e9 avec le carton virtuel. Si plusieurs scripts existent, un choix de la transcription est propos\u00e9 \u00e0 l'utilisateur. Ces scripts peuvent \u00eatre \u00e9tendus et adapt\u00e9s en fonction du pilotage de l'instrument. Ci dessous un exemple de script r\u00e9alis\u00e9 pour piloter un instrument et ses registres avec des commandes MIDI sp\u00e9cifiques : import org.barrelorgandiscovery.playsubsystem.* import org.barrelorgandiscovery.virtualbook.transformation.importer.* import org.barrelorgandiscovery.virtualbook.* def vb = virtualbook; def notemapping = [:] for(int i = 0 ; i < 43 ; i ++) { def md = [channel : 13, note : 35 + 6 + i] notemapping[i] = md } // fin chant for (int i = 43 ; i < 51 ; i ++) { def md = [channel : 14, note : 20 + 35 + i - 43] notemapping[i] = md } // contre chant // DO notemapping[51] = [channel : 14, note : 55 + 51 - 43] // DO # notemapping[52] = [channel : 14, note : 55 + 52 - 43] // RE notemapping[53] = [channel : 14, note : 55 + 76 - 3 - 43 ] // RE# notemapping[54] = [channel : 14, note : 55 + 77 - 3 - 43] // MI notemapping[55] = [channel : 14, note : 55 + 78 - 3 - 43 ] // contre chant for (int i = 56 ; i < 76 ; i ++) { def md = [channel : 14, note : 55 + i - 3 - 43] notemapping[i] = md } // registres // channel 15 - (ou 14 \u00e0 partir de zero) // declenche notemapping[77] = [channel :14 , note : 36] // registres, notation sur les broches def mregistre = [ 79 : [14 , 61] , //viloncell 80 : [15 , 57], //flute 8 82 : [14 , 57], // bourdon 83 : [14 , 59], // voix celeste 84 : [15 , 4], // sax 85 : [14 , 62], // flute dans le chant 86 : [14 , 51], //trompette 87 : [14 , 52], // udamaris 88 : [14 , 50], // violon dans le chant 89 : [15 , 19], // xylophone dans le chant 90 : [14 , 62], // Flute harmonique 91 : [15 , 2], // Flute de 8 92 : [15 , 17], // accordeon 93 : [14 , 64], // forte 94 : [14 , 49], // bonrdon dans le chant 95 : [14 , 53] // vibraphone ] mregistre.each { k, v -> notemapping[k - 1] = [channel : v[0] - 1 , note : v[1] + 35] } // percussions for (int i = 96; i <= 105 ; i ++) { notemapping[i] = [channel : 14, note : 55 + (80 + i - 96) - 3 - 43 ] } def m = new MidiFile() def holes = vb.getHolesCopy() // declanche ON byte[] data = [ 0x9E, 36,127 ] def n = new MidiGenericEvent(0, data) m.add(n) holes.each { def nn = notemapping[it.track] if (nn != null) { if (nn == 77) { // declenche // off , puis on byte[] data1 = [ 0x8E, 36,127 ] m.add( new MidiGenericEvent(it.timestamp, data1) ) byte[] data2 = [ 0x9E, 36,127 ] m.add( new MidiGenericEvent(it.timestamp + it.length, data2) ) } else { def n2 = new MidiNote(it.timestamp, it.length, nn.note, 0 , nn.channel) m.add(n2) } } } return m","title":"Transcription MIDI personnalis\u00e9e par script dans un instrument"},{"location":"product/ArticlePriseDeSonEconomique/","text":"Ce document aborde des concepts \u00e9l\u00e9mentaires ainsi que des pr\u00e9cautions pour la prise de son amateur, avec pour principe de pr\u00e9server une bonne qualit\u00e9 \u00e0 un budget mod\u00e9r\u00e9. En suivant la th\u00e9orie en trame de fond, des trucs et astuces sp\u00e9cifiques sont inclus pour permettre au lecteur de reproduire mon syst\u00e8me utilis\u00e9 lors d'enregistrement de banque de sons sur le site MMD. La Th\u00e9orie L'accoustique de la pi\u00e8ce et la distance du microphone La cha\u00eene d'enregistrement d\u00e9bute avec la source sonore et son environnement. Une premi\u00e8re chose est le son direct, qui dans un sens est un vrai signal. Une autre est l'environnement qui cr\u00e9e des r\u00e9verb\u00e9rations mais aussi qui peut ajouter d'autres sons comme les spectateurs ou des bruits divers, d\u00e9sir\u00e9s ou non. Une premi\u00e8re observation est que le niveau du son direct d\u00e9croit de 6 dB (niveau de pression sonore divis\u00e9e par deux) \u00e0 chaque fois que l'on double la distance \u00e0 la source. Le son, lorsqu'il est \u00e9mit dans une pi\u00e8ce, rebondit contre toutes les surfaces et parfois cr\u00e9e plus ou moins des champs de sons plus diffus. A chaque rebond, une fraction du son est absorb\u00e9e, ainsi le son r\u00e9verb\u00e9r\u00e9 s'estombe progressivement. Une caract\u00e9ristique importante est le temps de r\u00e9verb\u00e9ration, qui d\u00e9finit le temps pour lequel le son r\u00e9verb\u00e9r\u00e9 est diminu\u00e9 de 60 dB apr\u00e8s que la source ait \u00e9t\u00e9 arr\u00eat\u00e9e. (d'apr\u00e8s W.C. Sabine qui au d\u00e9but de l'accoustique de pi\u00e8ce au MIT dans les ann\u00e9es 1900 sollicita une pi\u00e8ce avec un tuyau d'orgue et mesura le temps d'extinction). Les temps de r\u00e9verb\u00e9ration typiques dans une salle \u00e0 manger sont de 0.5s, pour un auditorium de 0.5 \u00e0 0.8s, pour une salle de concert, 0.8-1.5 secs, pour une \u00e9glise 1.5 secs ou plus. Le temps de r\u00e9verb\u00e9ration T en secondes peut \u00eatre estim\u00e9 en utilisant la formule de Sabine : T = 55*V/(cA) V est le volume de la pi\u00e8ce en M3, c la vitesse du son (343m/s) et A la surface d'absorption en M2. La surface d'absorpsion est une repr\u00e9sentation fictive de la pi\u00e8ce \"sans perte\" \u00e0 exception d'un trou, d'une surface A. Toutes les ondes \u00e9nerg\u00e9tiques sonores rencontrant cette surface sont perdues. En Pratique, A=S*Alpha o\u00f9 S est l'aire physique de la surface. Alpha a pour valeur 0.02 pour du b\u00e9ton, 0.10 pour du bois et jusqu'\u00e0 0.50 pour des rideaux. Le calcul du temps de r\u00e9verb\u00e9ration pour une pi\u00e8ce \u00e0 partir des surfaces est connu pour ne pas \u00eatre tr\u00e8s fiable. En pratique, on effectue souvent une mesure du temps de r\u00e9verb\u00e9ration \u00e0 partir d'une excitation, C.a.d \u00e0 partir d'un claquement de main ou un tir. Apr\u00e8s cela, connaissant T et V, on peut calculer A \u00e0 partir de la formule de Sabine. Une seconde observation est que le niveau de ce champ de r\u00e9verb\u00e9ration est ind\u00e9pendant de la localisation dans la pi\u00e8ce, les ondes sonores r\u00e9verb\u00e9r\u00e9es voyagent plusieurs fois dans les dimensions de la pi\u00e8ce. A une certaine distance de la source, l'\"angle de r\u00e9verb\u00e9ration\", le niveau sonore \"direct\" est \u00e9gal au niveau de r\u00e9verb\u00e9ration. Dans une salle \u00e0 manger la distance typique est 0.7m, dans une salle de concert 4-8m. Cela peut \u00eatre calcul\u00e9 \u00e0 partir de la formule r=sqrt(1/16pi). Ce \"r\" est essentiel pour placer un microphone d'enregistrement. Plac\u00e9 plus pr\u00e8s de la source que le rayon de r\u00e9verb\u00e9ration, le son direct sera plus fort. Plus loin les r\u00e9verb\u00e9rations domineront, ce qui peut \u00eatre pris pour de la st\u00e9r\u00e9o, mais sans plus d'int\u00e9r\u00eats. De toutes fa\u00e7ons, les perceptions humaines inclues l'\"Effet Haas\" (l'effet de pr\u00e9c\u00e9dence, la loi de la premi\u00e8re onde). Vous pouvez toujours \u00e9couter la direction incidente d'un son (le situer) quand le son direct est plus important de 10dB par rapport \u00e0 la r\u00e9verb\u00e9ration. C'est pourquoi l'interpr\u00e9tation sonore du cerveau d\u00e9tecte que le son direct vient plus rapidement que ses r\u00e9verb\u00e9rations. En synth\u00e8se : la distance du microphone de l'objet contr\u00f4le le ratio entre le son direct et les r\u00e9verb\u00e9rations et l'enregistrement st\u00e9r\u00e9o en utilisant une distance de microphone de plus de trois fois du rayon de r\u00e9verb\u00e9ration contient tr\u00e8s peu d'informations directionnelles sur la source. Les r\u00e9sonances de pi\u00e8ce peut \u00eatre un probl\u00e8me lorsqu'elles sont largement espac\u00e9es en terme de demi tons aux basses fr\u00e9quences. Dans une pi\u00e8ce \u00e0 faibles r\u00e9sonances, certains emplacements peuvent avoir un haut niveau sonore et \u00e0 d'autres endroits presque pas de sons. Ce comportement diff\u00e8re entre les notes mais vers les hautes fr\u00e9quences , les r\u00e9sonances de la pi\u00e8ce deviennent de plus en plus proches et ne peuvent \u00eatre d\u00e9tect\u00e9es s\u00e9par\u00e9ment. La fr\u00e9quence Schroeder fs = 1900 *sqrt (T / V), o\u00f9 T est le temps de r\u00e9verb\u00e9ration en secondes, V est le volume de la pi\u00e8ce en m\u00e8tres cubes, nous indique la fr\u00e9quence limite de division au dessus de laquelle les r\u00e9sonances ne sont plus un probl\u00e8me car celles - ci deviennent suffisamment proches les unes des autres. Dans une salle \u00e0 manger fs est typiquement au dessus de 100Hz, dans une salle de concert : 20 Hz. Les personnes de la HiFi devraient savoir qu'il est sans espoir d'avoir une r\u00e9ponse de basse uniforme dans une petite pi\u00e8ce, sauf si celle ci est fortement amortie avec des meubles rembourr\u00e9s ou d'autres moyens afin de faire baisser le facteur T. Il y a une raison pour qu'une pi\u00e8ce d'\u00e9coute soit d'un volume suffisant, sinon vous \u00eates li\u00e9s \u00e0 des problemes avec la distribution des sons de basses. Un autre probl\u00e8me peut survenir lorsque la pi\u00e8ce a de grandes surfaces parall\u00e8les peu amorties. Alors le champ de r\u00e9verb\u00e9ration peut avoir de fortes composantes non diffuses, avec des pics de r\u00e9sonances p\u00e9riodiques et des \u00e9chos fluctuants, de telle sorte que vous pouvez \"\u00e9couter la salle\" dans l'enregistreent comme un confinement d\u00e9plaisant et \"teint\u00e9\". Normalement on ne remarque pas cet effet en \u00e9tant soit m\u00eame dans la pi\u00e8ce, parce que notre syst\u00e8me de perception s'adapte et le compense (il calibre sa compensation par rapport aux bruits, mouvements et paroles). Cette compensation n'apparait pas avec un syst\u00e8me d'enregistrement. Microphones Un microphone a toujours un diaphragme l\u00e9ger et petit qui suit le mouvement du son re\u00e7u. Ce mouvement est converti en un signal \u00e9lectrique, disponible dans le fil de connection du microphone. Dans le champ des types de conversion m\u00e9canique/\u00e9lectrique, un microphone peut \u00eatre \"Electrostatique\" (condensateur et electrets) ou \"electrodynamic\", sans mentionner les autres types \u00e9sot\u00e9riques ou utilisant de vieux principes, maintenant rarement utilis\u00e9s. Les microphones Electrostatiques ont toujours besoin d'une alimentation \u00e9lectrique utilis\u00e9e dans amplificateur Haute / Basse imp\u00e9dance, les condenseurs n\u00e9cessitent une polarisation utilisant un haut voltage. Cette alimentation peut \u00eatre prise d'une batterie \u00e0 l'int\u00e9rieur ou \u00e0 proximit\u00e9 de la capsule, ne pas oublier de l'\u00e9teindre apr\u00e8s usage. Les syst\u00e8mes professionnels sont fr\u00e9quemment aliment\u00e9 par une alimentation 'phantom' utilisant typiquement 48V \u00e0 partir d'une table de mixage ou d'un pr\u00e9amplificateur, utilisant le m\u00eame c\u00e2ble que le microphone. Les microphones \u00e9lectrostatiques ont une r\u00e9ponse fr\u00e9quentielle plate, couvrant toute la plage de fr\u00e9quences audio. Les microphones dynamiques g\u00e9n\u00e8rent leur sorties par induction dans un conducteur, se d\u00e9pla\u00e7ant par le son, dans un champ magn\u00e9tique. Ils n'ont pas besoin d'alimentation compl\u00e9mentaires mais ont toujours une plage de fr\u00e9quences limit\u00e9e, typiquement entre 50Hz et 15Khz. M\u00eame les microphones de bonne qualit\u00e9 d\u00e9rivent consid\u00e9rablement d'une r\u00e9ponse fr\u00e9quentielle plate. Dans une perspective d'enregistrement des propri\u00e9t\u00e9s directionelles, un crit\u00e8re discriminant est \u00e9galement la pression et le gradient de pression des microphones, combin\u00e9 avec d'autres caract\u00e9ristiques. Dans un microphone \u00e0 pression, le son atteint seulement une face du diaphragme. Il mesure la pression sonore instantan\u00e9e locale, qui est ind\u00e9pendant de la direction du son car la capsule est petite \u00e0 comparer avec la longueur d'onde. Ce type est omnidirectionnel et parfois appel\u00e9 \"boule\" Dans un microphone \u00e0 gradient de pression, le son atteint les deux faces du diaphragme et mesure la diff\u00e9rence de pression. Ceci est proportionnel \u00e0 la v\u00e9locit\u00e9 des particules d'air dans l'onde sonore, ceci est caract\u00e9ris\u00e9 par la \"v\u00e9locit\u00e9\" ou vitesse du microphone. Ceci caract\u00e9rise la directionnalit\u00e9 du microphone. Donc une sensibilit\u00e9 devant ou derri\u00e8re mais pas sur les c\u00f4t\u00e9s, le type est parfois appel\u00e9 'fighre of eight'. Ces deux principes peuvent \u00eatre combin\u00e9s dans des microphones avec plusieurs propri\u00e9t\u00e9s directionnelles. Par exemple la somme de chacun effectuera un rendu \"cardioide\", avec une sensibilit\u00e9 nominale en face des h\u00e9misph\u00e8res mais avec une perte dans le contr\u00f4le de la r\u00e9ponse fr\u00e9quentielle. La plupart des microphones fonctionnent bien \u00e0 des niveaux sonores jusqu'\u00e0 130 dB. Au del\u00e0, les membranes sollicit\u00e9es peuvent entrer dans des d\u00e9placement non lin\u00e9raires, li\u00e9 \u00e0 leur fixation ou taper sur l'\u00e9lectrode, il y aura alors des distorsions d'intermodulation. Un microphone de mesure typique mesure jusqu'\u00e0 20 dB de plus mais d'un autre cot\u00e9 a une sensibilit\u00e9 plus basse et un niveau de bruit plus haut. Enregistrement st\u00e9r\u00e9o L'objectif d'un enregistrement st\u00e9r\u00e9o est de communiquer une image \u00e0 celui qui \u00e9coute, en transmettant une sensation de distance et de direction de la source sonore. Cela effectue un rendu plus clair, les sources diff\u00e9rentes de sons sont s\u00e9parables et sont beaucoup moins embrouill\u00e9es les unes par rapport aux autres. Normalement on souhaiterait \u00e9galement contr\u00f4ler le niveau de r\u00e9verb\u00e9ration pour cr\u00e9er l'ambiance. Cet aspect est r\u00e9alis\u00e9 en s\u00e9lectionnant la distance entre les microphones et la source. Un des plus vieux types de microphone est dans un sens le meilleur, pour ne pas le nommer, une t\u00eate articifielle avec une paire de microphones \u00e0 pression o\u00f9 sont situ\u00e9s les canaux auditifs. La t\u00eate b\u00eatement interf\u00e8re avec le champ de sons de fa\u00e7on \"correcte\", les signaux des microphones proposent une vraie repr\u00e9sentation de ce que l'on entendrait soi-m\u00eame avec respectivement l'oreille gauche et droite. L'effet d'ombrage de la t\u00eate ainsi que les diff\u00e9rences de temps inter aural sont automatiquement pris en compte. N'importe comment, pour une \u00e9coute optimale et r\u00e9aliste il faut \u00e9galement le reproduire en cons\u00e9quence. En utilisant des \u00e9couteurs, ainsi les deux canaux st\u00e9r\u00e9o sont gard\u00e9s s\u00e9par\u00e9s. Cette fa\u00e7on est la restitution la plus proche et la plus approchante d'une \u00e9coute enregistr\u00e9e \u00e0 un emplacement donn\u00e9. L'annexe ci dessous d\u00e9crit les essais sur une t\u00eate artificielle. Pour un enregistrement st\u00e9r\u00e9o en utilisant des moyens classiques, est l'utilisation d'un syst\u00e8me XY o\u00f9 deux microphones directionels sont plac\u00e9s au m\u00eame endroit, ce que l'on peut avoir avec un microphone st\u00e9r\u00e9o conventionnel. Actuellement, pour les enregistrements professionnels, le plus souvent le syst\u00e8me AB est utilis\u00e9, deux microphones distanc\u00e9s de 20cm \u00e0 2m, omnidirectionnels et de pr\u00e9f\u00e9rence cardioides. Ce systeme n'est pas compatible avec le Mono, lorsque les deux signaux sont ajout\u00e9s, il y a des interf\u00e9rences \"dips\" dans la r\u00e9ponse fr\u00e9quentielle \u00e0 cause de la diff\u00e9rence de distance des deux microphones. Les t\u00eates artificielles sont rarement utilis\u00e9es dans les prises de son commerciales. Une raison est que ces prises de son sont principalement utilis\u00e9es pour une restitution sur des haut parleurs o\u00f9 les canaux sont mix\u00e9s. Une autre raison est que lorsque les sources sonores ne sont pas \"petites\" au compar\u00e9 de la pi\u00e8ce (par exemple un gros orchestre ou un orgue). Alors il peut \u00eatre impossible de trouver une place unique o\u00f9 le son est suffisamment bon pour l'enregistrement. Alors l'ing\u00e9nieur du son peut contr\u00f4ler les propri\u00e9t\u00e9s de chaque resultat st\u00e9r\u00e9o de la piste, avec l'objectif de cr\u00e9er une image accoustique acceptable. Une prise de son commerciale est principalement un produit et pas forcement un son 'naturel'. Historiquement, de tous temps les crit\u00e8res et m\u00e9thodes appropri\u00e9es pour effectuer un \"vrai\" enregistrement, de m\u00eame que les go\u00fbt ont toujours \u00e9t\u00e9 un grand d\u00e9bat. Un joli effet de st\u00e9reo est que les sources de bruits sont souvent localis\u00e9es ailleurs que la source sonore d'int\u00e9r\u00eat, l'auditeur peut alors les entendre loin de lui. Le mixage Le climat \u00e9lectromagn\u00e9tique \u00e0 l'int\u00e9rieur d'un ordinateur est extr\u00eamement hostile pour les signaux faibles de circuits analogiques, des beeps ou signaux non al\u00e9atoires peuvent \u00eatre inject\u00e9s. Afin de se pr\u00e9munir de cela, les signaux en provenance des microphones devraient \u00eatre amen\u00e9s dans des c\u00e2bles blind\u00e9s et tenus \u00e0 l'\u00e9cart des \u00e9quipements provoquant des sources d'interf\u00e9rences. Dans des circonstances particuli\u00e8res, il peut arriver que la carte son de l'ordinateur ne poss\u00e8de pas d'entr\u00e9e microphone, \u00e0 la place il faut utiliser une connectique \"line in\" pour un signal fort. M\u00eame si cela n'est pas absolument n\u00e9cessaire, il est souhaitable d'ins\u00e9rer une console de mixage entre le microphone et l'ordinateur. Un argument en faveur de la table de mixage est qu'elle propose la pr\u00e9amplification n\u00e9cessaire et l'alimentation associ\u00e9e n\u00e9cessaire aux microphones. Il est \u00e9galement beaucoup plus facile de param\u00e9trer l'acquisition avec de bons vieux boutons et de tout faire \u00e0 la souris de l'ordinateur. Il est souhaitable de laisser uniquement \u00e0 l'ordinateur les ordres de jeu, d'enregistrement et de gestion des fichiers. Une Chaine professionnelle d'aquisition utilisant des convertisseurs analogiques num\u00e9riques de 24 ou 48 bits juste apr\u00e8s le Microphone serait trop co\u00fbteuse pour un amateur. Les m\u00e9langeurs (ou mixer) disposent d'une sortie casque avec un volume s\u00e9par\u00e9 pour le contr\u00f4le de l'aquisition. L'utilisation d'\u00e9couteurs ferm\u00e9s qui \"d\u00e9connectent\" du son ambiant. Lors de l'enregistrement il est pr\u00e9f\u00e9rable de ne plus entendre le son ambiant mais le son enregistr\u00e9, qui provient bien de l'enregistrement. Le meilleur est de pouvoir s'isoler dans une pi\u00e8ce s\u00e9par\u00e9e de la salle d'enregistrement. Les enregistreurs Les enregistrements analogiques (par exemple : cassettes ) ne sont actuellement plus du tout comp\u00e9titif face \u00e0 un PC moderne, pour le prix et la qualit\u00e9 d'enregistrement. Une bonne option pour une meilleure transportabilit\u00e9 est d'utiliser un lecteur Digital DAT mais c'est une alternative assez co\u00fbteuse (1000 $), cependant ces appareils sont en proie \u00e0 des probl\u00e8mes de d\u00e9faillance et de compatibilit\u00e9 avec d'autres lecteurs. Un enregistreur minidisk est une solution plus \u00e9conomique (300 $), mais \u00e0 cause de son encodage de donn\u00e9es incluant des compressions, il y a quelques pertes mineures dans la qualit\u00e9 du son et le m\u00e9dia utilis\u00e9 est pour l'instant en question vis \u00e0 vis de sa p\u00e9r\u00e9nit\u00e9 pour l'archivage. La plage de fr\u00e9quences d'un ordinateur et son bruit th\u00e9orique (96dB) (signal / bruit) surpassent clairement les enregistreurs analogiques. Les ordinateurs Apple Macintosh sont historiquement les premiers dans le domaine du son et tr\u00e8s utilis\u00e9 dans la profession, mais les ordinateurs IBM PC Windows ont essentiellement pris. Un syst\u00e8me de base illustr\u00e9 ci dessous, o\u00f9 les blocks en bas montre les composants clef d'enregistrement d'un ordinateur PC. Le format CD stereo 44.1 Khz et en 16bits est un standard de facto pour un bon enregistrement. C'est le format du moment pour l'enregistrement et utilise de la m\u00e9moire, \u00e0 hauteur de 180Kb/s ou 11 Mb/minute pour la restitution. Un premier pr\u00e9requis est un disque dur suffisamment rapide et un gros disque dur, ce qui n'est plus un probleme de nos jours. Une interface Analogique / Num\u00e9rique est utilis\u00e9e dans les cartes son de l'ordinateur. Le rapport Signal / Bruit est typiquement autour de 75dB et meilleur que les enregistreurs analogiques. Le logiciel central utilis\u00e9 est un Editeur, avec diff\u00e9rentes fonctions. Premi\u00e8rement, pour piloter l'enregistrement et stocker le r\u00e9sultat : Fournit un bouton Enregistrement (Record), Play (jouer), et Stop. Contr\u00f4ler l'enregistrement et le format de stockage, la vitesse d'\u00e9chantillonage et la profondeur d'encodage (8/16/24/48 bits) D\u00e9finir le nom du fichier En second lieu, pour les post-traitements apr\u00e8s que l'enregistrement ait \u00e9t\u00e9 r\u00e9alis\u00e9 : Couper et Trancher les d\u00e9but et fins Appliquer des \"effets\" comme l'\u00e9galisation, filtrage de bruits, etc ... Convertir un enregistrement dans un autre format comme le MP3 Derni\u00e8rement le PC doit avoir un graveur pour la cr\u00e9ation de CD. Ainsi vous pouvez graver des fichiers WAV 44.1kHz, 16 bits st\u00e9r\u00e9o en un CD audio standard. Les graveurs sont souvent fournis avec un logiciel d'\u00e9dition. Il faut \u00eatre au courant des capacit\u00e9s du graveur pour utiliser des CD-RW reinscriptibles, tr\u00e8s pratiques pour des stockages interm\u00e9diaires. Exemples d'\u00e9quipements Ceci est une \u00e9num\u00e9ration simple de mon \u00e9quipement actuel. Les Pi\u00e8ces Un salon bien feutr\u00e9 peut \u00eatre utilis\u00e9 mais peut \u00eatre que vous n'appr\u00e9cierez pas la couleur \"feutr\u00e9\" d\u00e9nu\u00e9e de r\u00e9verb\u00e9rations. Une petite pi\u00e8ce peu amortie est g\u00e9n\u00e9ralement catastrophique, ceci accentue les r\u00e9verb\u00e9rations de la pi\u00e8ce, ce qui colorera l'enregistrement et donne une impression de confinement. Mes meilleurs r\u00e9sultats d'enregistrement de mon orgue dans une petite pi\u00e8ce est l'entr\u00e9e de mon hall d'immeuble. La pi\u00e8ce n'est pas plus grande d'une salle \u00e0 manquer et peu amortie mais est augment\u00e9e d'un petit escalier ouvert, ce qui fonctionne bien avec la r\u00e9verb\u00e9ration de la pi\u00e8ce. Un truc et astuce est de mettre un \u00e9pais matelas contre le mur derri\u00e8re le microphone. C'est une solution contre les interf\u00e9rences de r\u00e9verb\u00e9ration de l'arri\u00e8re. Avec une source sonore importante dans une petite pi\u00e8ce, comme par exemple certains orgues, la distance de rayon de r\u00e9verb\u00e9ration est difficile \u00e0 tenir en pratique.","title":"ArticlePriseDeSonEconomique"},{"location":"product/ArticlePriseDeSonEconomique/#la-theorie","text":"L'accoustique de la pi\u00e8ce et la distance du microphone La cha\u00eene d'enregistrement d\u00e9bute avec la source sonore et son environnement. Une premi\u00e8re chose est le son direct, qui dans un sens est un vrai signal. Une autre est l'environnement qui cr\u00e9e des r\u00e9verb\u00e9rations mais aussi qui peut ajouter d'autres sons comme les spectateurs ou des bruits divers, d\u00e9sir\u00e9s ou non. Une premi\u00e8re observation est que le niveau du son direct d\u00e9croit de 6 dB (niveau de pression sonore divis\u00e9e par deux) \u00e0 chaque fois que l'on double la distance \u00e0 la source. Le son, lorsqu'il est \u00e9mit dans une pi\u00e8ce, rebondit contre toutes les surfaces et parfois cr\u00e9e plus ou moins des champs de sons plus diffus. A chaque rebond, une fraction du son est absorb\u00e9e, ainsi le son r\u00e9verb\u00e9r\u00e9 s'estombe progressivement. Une caract\u00e9ristique importante est le temps de r\u00e9verb\u00e9ration, qui d\u00e9finit le temps pour lequel le son r\u00e9verb\u00e9r\u00e9 est diminu\u00e9 de 60 dB apr\u00e8s que la source ait \u00e9t\u00e9 arr\u00eat\u00e9e. (d'apr\u00e8s W.C. Sabine qui au d\u00e9but de l'accoustique de pi\u00e8ce au MIT dans les ann\u00e9es 1900 sollicita une pi\u00e8ce avec un tuyau d'orgue et mesura le temps d'extinction). Les temps de r\u00e9verb\u00e9ration typiques dans une salle \u00e0 manger sont de 0.5s, pour un auditorium de 0.5 \u00e0 0.8s, pour une salle de concert, 0.8-1.5 secs, pour une \u00e9glise 1.5 secs ou plus. Le temps de r\u00e9verb\u00e9ration T en secondes peut \u00eatre estim\u00e9 en utilisant la formule de Sabine : T = 55*V/(cA) V est le volume de la pi\u00e8ce en M3, c la vitesse du son (343m/s) et A la surface d'absorption en M2. La surface d'absorpsion est une repr\u00e9sentation fictive de la pi\u00e8ce \"sans perte\" \u00e0 exception d'un trou, d'une surface A. Toutes les ondes \u00e9nerg\u00e9tiques sonores rencontrant cette surface sont perdues. En Pratique, A=S*Alpha o\u00f9 S est l'aire physique de la surface. Alpha a pour valeur 0.02 pour du b\u00e9ton, 0.10 pour du bois et jusqu'\u00e0 0.50 pour des rideaux. Le calcul du temps de r\u00e9verb\u00e9ration pour une pi\u00e8ce \u00e0 partir des surfaces est connu pour ne pas \u00eatre tr\u00e8s fiable. En pratique, on effectue souvent une mesure du temps de r\u00e9verb\u00e9ration \u00e0 partir d'une excitation, C.a.d \u00e0 partir d'un claquement de main ou un tir. Apr\u00e8s cela, connaissant T et V, on peut calculer A \u00e0 partir de la formule de Sabine. Une seconde observation est que le niveau de ce champ de r\u00e9verb\u00e9ration est ind\u00e9pendant de la localisation dans la pi\u00e8ce, les ondes sonores r\u00e9verb\u00e9r\u00e9es voyagent plusieurs fois dans les dimensions de la pi\u00e8ce. A une certaine distance de la source, l'\"angle de r\u00e9verb\u00e9ration\", le niveau sonore \"direct\" est \u00e9gal au niveau de r\u00e9verb\u00e9ration. Dans une salle \u00e0 manger la distance typique est 0.7m, dans une salle de concert 4-8m. Cela peut \u00eatre calcul\u00e9 \u00e0 partir de la formule r=sqrt(1/16pi). Ce \"r\" est essentiel pour placer un microphone d'enregistrement. Plac\u00e9 plus pr\u00e8s de la source que le rayon de r\u00e9verb\u00e9ration, le son direct sera plus fort. Plus loin les r\u00e9verb\u00e9rations domineront, ce qui peut \u00eatre pris pour de la st\u00e9r\u00e9o, mais sans plus d'int\u00e9r\u00eats. De toutes fa\u00e7ons, les perceptions humaines inclues l'\"Effet Haas\" (l'effet de pr\u00e9c\u00e9dence, la loi de la premi\u00e8re onde). Vous pouvez toujours \u00e9couter la direction incidente d'un son (le situer) quand le son direct est plus important de 10dB par rapport \u00e0 la r\u00e9verb\u00e9ration. C'est pourquoi l'interpr\u00e9tation sonore du cerveau d\u00e9tecte que le son direct vient plus rapidement que ses r\u00e9verb\u00e9rations. En synth\u00e8se : la distance du microphone de l'objet contr\u00f4le le ratio entre le son direct et les r\u00e9verb\u00e9rations et l'enregistrement st\u00e9r\u00e9o en utilisant une distance de microphone de plus de trois fois du rayon de r\u00e9verb\u00e9ration contient tr\u00e8s peu d'informations directionnelles sur la source. Les r\u00e9sonances de pi\u00e8ce peut \u00eatre un probl\u00e8me lorsqu'elles sont largement espac\u00e9es en terme de demi tons aux basses fr\u00e9quences. Dans une pi\u00e8ce \u00e0 faibles r\u00e9sonances, certains emplacements peuvent avoir un haut niveau sonore et \u00e0 d'autres endroits presque pas de sons. Ce comportement diff\u00e8re entre les notes mais vers les hautes fr\u00e9quences , les r\u00e9sonances de la pi\u00e8ce deviennent de plus en plus proches et ne peuvent \u00eatre d\u00e9tect\u00e9es s\u00e9par\u00e9ment. La fr\u00e9quence Schroeder fs = 1900 *sqrt (T / V), o\u00f9 T est le temps de r\u00e9verb\u00e9ration en secondes, V est le volume de la pi\u00e8ce en m\u00e8tres cubes, nous indique la fr\u00e9quence limite de division au dessus de laquelle les r\u00e9sonances ne sont plus un probl\u00e8me car celles - ci deviennent suffisamment proches les unes des autres. Dans une salle \u00e0 manger fs est typiquement au dessus de 100Hz, dans une salle de concert : 20 Hz. Les personnes de la HiFi devraient savoir qu'il est sans espoir d'avoir une r\u00e9ponse de basse uniforme dans une petite pi\u00e8ce, sauf si celle ci est fortement amortie avec des meubles rembourr\u00e9s ou d'autres moyens afin de faire baisser le facteur T. Il y a une raison pour qu'une pi\u00e8ce d'\u00e9coute soit d'un volume suffisant, sinon vous \u00eates li\u00e9s \u00e0 des problemes avec la distribution des sons de basses. Un autre probl\u00e8me peut survenir lorsque la pi\u00e8ce a de grandes surfaces parall\u00e8les peu amorties. Alors le champ de r\u00e9verb\u00e9ration peut avoir de fortes composantes non diffuses, avec des pics de r\u00e9sonances p\u00e9riodiques et des \u00e9chos fluctuants, de telle sorte que vous pouvez \"\u00e9couter la salle\" dans l'enregistreent comme un confinement d\u00e9plaisant et \"teint\u00e9\". Normalement on ne remarque pas cet effet en \u00e9tant soit m\u00eame dans la pi\u00e8ce, parce que notre syst\u00e8me de perception s'adapte et le compense (il calibre sa compensation par rapport aux bruits, mouvements et paroles). Cette compensation n'apparait pas avec un syst\u00e8me d'enregistrement.","title":"La Th\u00e9orie"},{"location":"product/ArticlePriseDeSonEconomique/#microphones","text":"Un microphone a toujours un diaphragme l\u00e9ger et petit qui suit le mouvement du son re\u00e7u. Ce mouvement est converti en un signal \u00e9lectrique, disponible dans le fil de connection du microphone. Dans le champ des types de conversion m\u00e9canique/\u00e9lectrique, un microphone peut \u00eatre \"Electrostatique\" (condensateur et electrets) ou \"electrodynamic\", sans mentionner les autres types \u00e9sot\u00e9riques ou utilisant de vieux principes, maintenant rarement utilis\u00e9s. Les microphones Electrostatiques ont toujours besoin d'une alimentation \u00e9lectrique utilis\u00e9e dans amplificateur Haute / Basse imp\u00e9dance, les condenseurs n\u00e9cessitent une polarisation utilisant un haut voltage. Cette alimentation peut \u00eatre prise d'une batterie \u00e0 l'int\u00e9rieur ou \u00e0 proximit\u00e9 de la capsule, ne pas oublier de l'\u00e9teindre apr\u00e8s usage. Les syst\u00e8mes professionnels sont fr\u00e9quemment aliment\u00e9 par une alimentation 'phantom' utilisant typiquement 48V \u00e0 partir d'une table de mixage ou d'un pr\u00e9amplificateur, utilisant le m\u00eame c\u00e2ble que le microphone. Les microphones \u00e9lectrostatiques ont une r\u00e9ponse fr\u00e9quentielle plate, couvrant toute la plage de fr\u00e9quences audio. Les microphones dynamiques g\u00e9n\u00e8rent leur sorties par induction dans un conducteur, se d\u00e9pla\u00e7ant par le son, dans un champ magn\u00e9tique. Ils n'ont pas besoin d'alimentation compl\u00e9mentaires mais ont toujours une plage de fr\u00e9quences limit\u00e9e, typiquement entre 50Hz et 15Khz. M\u00eame les microphones de bonne qualit\u00e9 d\u00e9rivent consid\u00e9rablement d'une r\u00e9ponse fr\u00e9quentielle plate. Dans une perspective d'enregistrement des propri\u00e9t\u00e9s directionelles, un crit\u00e8re discriminant est \u00e9galement la pression et le gradient de pression des microphones, combin\u00e9 avec d'autres caract\u00e9ristiques. Dans un microphone \u00e0 pression, le son atteint seulement une face du diaphragme. Il mesure la pression sonore instantan\u00e9e locale, qui est ind\u00e9pendant de la direction du son car la capsule est petite \u00e0 comparer avec la longueur d'onde. Ce type est omnidirectionnel et parfois appel\u00e9 \"boule\" Dans un microphone \u00e0 gradient de pression, le son atteint les deux faces du diaphragme et mesure la diff\u00e9rence de pression. Ceci est proportionnel \u00e0 la v\u00e9locit\u00e9 des particules d'air dans l'onde sonore, ceci est caract\u00e9ris\u00e9 par la \"v\u00e9locit\u00e9\" ou vitesse du microphone. Ceci caract\u00e9rise la directionnalit\u00e9 du microphone. Donc une sensibilit\u00e9 devant ou derri\u00e8re mais pas sur les c\u00f4t\u00e9s, le type est parfois appel\u00e9 'fighre of eight'. Ces deux principes peuvent \u00eatre combin\u00e9s dans des microphones avec plusieurs propri\u00e9t\u00e9s directionnelles. Par exemple la somme de chacun effectuera un rendu \"cardioide\", avec une sensibilit\u00e9 nominale en face des h\u00e9misph\u00e8res mais avec une perte dans le contr\u00f4le de la r\u00e9ponse fr\u00e9quentielle. La plupart des microphones fonctionnent bien \u00e0 des niveaux sonores jusqu'\u00e0 130 dB. Au del\u00e0, les membranes sollicit\u00e9es peuvent entrer dans des d\u00e9placement non lin\u00e9raires, li\u00e9 \u00e0 leur fixation ou taper sur l'\u00e9lectrode, il y aura alors des distorsions d'intermodulation. Un microphone de mesure typique mesure jusqu'\u00e0 20 dB de plus mais d'un autre cot\u00e9 a une sensibilit\u00e9 plus basse et un niveau de bruit plus haut. Enregistrement st\u00e9r\u00e9o L'objectif d'un enregistrement st\u00e9r\u00e9o est de communiquer une image \u00e0 celui qui \u00e9coute, en transmettant une sensation de distance et de direction de la source sonore. Cela effectue un rendu plus clair, les sources diff\u00e9rentes de sons sont s\u00e9parables et sont beaucoup moins embrouill\u00e9es les unes par rapport aux autres. Normalement on souhaiterait \u00e9galement contr\u00f4ler le niveau de r\u00e9verb\u00e9ration pour cr\u00e9er l'ambiance. Cet aspect est r\u00e9alis\u00e9 en s\u00e9lectionnant la distance entre les microphones et la source. Un des plus vieux types de microphone est dans un sens le meilleur, pour ne pas le nommer, une t\u00eate articifielle avec une paire de microphones \u00e0 pression o\u00f9 sont situ\u00e9s les canaux auditifs. La t\u00eate b\u00eatement interf\u00e8re avec le champ de sons de fa\u00e7on \"correcte\", les signaux des microphones proposent une vraie repr\u00e9sentation de ce que l'on entendrait soi-m\u00eame avec respectivement l'oreille gauche et droite. L'effet d'ombrage de la t\u00eate ainsi que les diff\u00e9rences de temps inter aural sont automatiquement pris en compte. N'importe comment, pour une \u00e9coute optimale et r\u00e9aliste il faut \u00e9galement le reproduire en cons\u00e9quence. En utilisant des \u00e9couteurs, ainsi les deux canaux st\u00e9r\u00e9o sont gard\u00e9s s\u00e9par\u00e9s. Cette fa\u00e7on est la restitution la plus proche et la plus approchante d'une \u00e9coute enregistr\u00e9e \u00e0 un emplacement donn\u00e9. L'annexe ci dessous d\u00e9crit les essais sur une t\u00eate artificielle. Pour un enregistrement st\u00e9r\u00e9o en utilisant des moyens classiques, est l'utilisation d'un syst\u00e8me XY o\u00f9 deux microphones directionels sont plac\u00e9s au m\u00eame endroit, ce que l'on peut avoir avec un microphone st\u00e9r\u00e9o conventionnel. Actuellement, pour les enregistrements professionnels, le plus souvent le syst\u00e8me AB est utilis\u00e9, deux microphones distanc\u00e9s de 20cm \u00e0 2m, omnidirectionnels et de pr\u00e9f\u00e9rence cardioides. Ce systeme n'est pas compatible avec le Mono, lorsque les deux signaux sont ajout\u00e9s, il y a des interf\u00e9rences \"dips\" dans la r\u00e9ponse fr\u00e9quentielle \u00e0 cause de la diff\u00e9rence de distance des deux microphones. Les t\u00eates artificielles sont rarement utilis\u00e9es dans les prises de son commerciales. Une raison est que ces prises de son sont principalement utilis\u00e9es pour une restitution sur des haut parleurs o\u00f9 les canaux sont mix\u00e9s. Une autre raison est que lorsque les sources sonores ne sont pas \"petites\" au compar\u00e9 de la pi\u00e8ce (par exemple un gros orchestre ou un orgue). Alors il peut \u00eatre impossible de trouver une place unique o\u00f9 le son est suffisamment bon pour l'enregistrement. Alors l'ing\u00e9nieur du son peut contr\u00f4ler les propri\u00e9t\u00e9s de chaque resultat st\u00e9r\u00e9o de la piste, avec l'objectif de cr\u00e9er une image accoustique acceptable. Une prise de son commerciale est principalement un produit et pas forcement un son 'naturel'. Historiquement, de tous temps les crit\u00e8res et m\u00e9thodes appropri\u00e9es pour effectuer un \"vrai\" enregistrement, de m\u00eame que les go\u00fbt ont toujours \u00e9t\u00e9 un grand d\u00e9bat. Un joli effet de st\u00e9reo est que les sources de bruits sont souvent localis\u00e9es ailleurs que la source sonore d'int\u00e9r\u00eat, l'auditeur peut alors les entendre loin de lui. Le mixage Le climat \u00e9lectromagn\u00e9tique \u00e0 l'int\u00e9rieur d'un ordinateur est extr\u00eamement hostile pour les signaux faibles de circuits analogiques, des beeps ou signaux non al\u00e9atoires peuvent \u00eatre inject\u00e9s. Afin de se pr\u00e9munir de cela, les signaux en provenance des microphones devraient \u00eatre amen\u00e9s dans des c\u00e2bles blind\u00e9s et tenus \u00e0 l'\u00e9cart des \u00e9quipements provoquant des sources d'interf\u00e9rences. Dans des circonstances particuli\u00e8res, il peut arriver que la carte son de l'ordinateur ne poss\u00e8de pas d'entr\u00e9e microphone, \u00e0 la place il faut utiliser une connectique \"line in\" pour un signal fort. M\u00eame si cela n'est pas absolument n\u00e9cessaire, il est souhaitable d'ins\u00e9rer une console de mixage entre le microphone et l'ordinateur. Un argument en faveur de la table de mixage est qu'elle propose la pr\u00e9amplification n\u00e9cessaire et l'alimentation associ\u00e9e n\u00e9cessaire aux microphones. Il est \u00e9galement beaucoup plus facile de param\u00e9trer l'acquisition avec de bons vieux boutons et de tout faire \u00e0 la souris de l'ordinateur. Il est souhaitable de laisser uniquement \u00e0 l'ordinateur les ordres de jeu, d'enregistrement et de gestion des fichiers. Une Chaine professionnelle d'aquisition utilisant des convertisseurs analogiques num\u00e9riques de 24 ou 48 bits juste apr\u00e8s le Microphone serait trop co\u00fbteuse pour un amateur. Les m\u00e9langeurs (ou mixer) disposent d'une sortie casque avec un volume s\u00e9par\u00e9 pour le contr\u00f4le de l'aquisition. L'utilisation d'\u00e9couteurs ferm\u00e9s qui \"d\u00e9connectent\" du son ambiant. Lors de l'enregistrement il est pr\u00e9f\u00e9rable de ne plus entendre le son ambiant mais le son enregistr\u00e9, qui provient bien de l'enregistrement. Le meilleur est de pouvoir s'isoler dans une pi\u00e8ce s\u00e9par\u00e9e de la salle d'enregistrement. Les enregistreurs Les enregistrements analogiques (par exemple : cassettes ) ne sont actuellement plus du tout comp\u00e9titif face \u00e0 un PC moderne, pour le prix et la qualit\u00e9 d'enregistrement. Une bonne option pour une meilleure transportabilit\u00e9 est d'utiliser un lecteur Digital DAT mais c'est une alternative assez co\u00fbteuse (1000 $), cependant ces appareils sont en proie \u00e0 des probl\u00e8mes de d\u00e9faillance et de compatibilit\u00e9 avec d'autres lecteurs. Un enregistreur minidisk est une solution plus \u00e9conomique (300 $), mais \u00e0 cause de son encodage de donn\u00e9es incluant des compressions, il y a quelques pertes mineures dans la qualit\u00e9 du son et le m\u00e9dia utilis\u00e9 est pour l'instant en question vis \u00e0 vis de sa p\u00e9r\u00e9nit\u00e9 pour l'archivage. La plage de fr\u00e9quences d'un ordinateur et son bruit th\u00e9orique (96dB) (signal / bruit) surpassent clairement les enregistreurs analogiques. Les ordinateurs Apple Macintosh sont historiquement les premiers dans le domaine du son et tr\u00e8s utilis\u00e9 dans la profession, mais les ordinateurs IBM PC Windows ont essentiellement pris. Un syst\u00e8me de base illustr\u00e9 ci dessous, o\u00f9 les blocks en bas montre les composants clef d'enregistrement d'un ordinateur PC. Le format CD stereo 44.1 Khz et en 16bits est un standard de facto pour un bon enregistrement. C'est le format du moment pour l'enregistrement et utilise de la m\u00e9moire, \u00e0 hauteur de 180Kb/s ou 11 Mb/minute pour la restitution. Un premier pr\u00e9requis est un disque dur suffisamment rapide et un gros disque dur, ce qui n'est plus un probleme de nos jours. Une interface Analogique / Num\u00e9rique est utilis\u00e9e dans les cartes son de l'ordinateur. Le rapport Signal / Bruit est typiquement autour de 75dB et meilleur que les enregistreurs analogiques. Le logiciel central utilis\u00e9 est un Editeur, avec diff\u00e9rentes fonctions. Premi\u00e8rement, pour piloter l'enregistrement et stocker le r\u00e9sultat : Fournit un bouton Enregistrement (Record), Play (jouer), et Stop. Contr\u00f4ler l'enregistrement et le format de stockage, la vitesse d'\u00e9chantillonage et la profondeur d'encodage (8/16/24/48 bits) D\u00e9finir le nom du fichier En second lieu, pour les post-traitements apr\u00e8s que l'enregistrement ait \u00e9t\u00e9 r\u00e9alis\u00e9 : Couper et Trancher les d\u00e9but et fins Appliquer des \"effets\" comme l'\u00e9galisation, filtrage de bruits, etc ... Convertir un enregistrement dans un autre format comme le MP3 Derni\u00e8rement le PC doit avoir un graveur pour la cr\u00e9ation de CD. Ainsi vous pouvez graver des fichiers WAV 44.1kHz, 16 bits st\u00e9r\u00e9o en un CD audio standard. Les graveurs sont souvent fournis avec un logiciel d'\u00e9dition. Il faut \u00eatre au courant des capacit\u00e9s du graveur pour utiliser des CD-RW reinscriptibles, tr\u00e8s pratiques pour des stockages interm\u00e9diaires. Exemples d'\u00e9quipements Ceci est une \u00e9num\u00e9ration simple de mon \u00e9quipement actuel. Les Pi\u00e8ces Un salon bien feutr\u00e9 peut \u00eatre utilis\u00e9 mais peut \u00eatre que vous n'appr\u00e9cierez pas la couleur \"feutr\u00e9\" d\u00e9nu\u00e9e de r\u00e9verb\u00e9rations. Une petite pi\u00e8ce peu amortie est g\u00e9n\u00e9ralement catastrophique, ceci accentue les r\u00e9verb\u00e9rations de la pi\u00e8ce, ce qui colorera l'enregistrement et donne une impression de confinement. Mes meilleurs r\u00e9sultats d'enregistrement de mon orgue dans une petite pi\u00e8ce est l'entr\u00e9e de mon hall d'immeuble. La pi\u00e8ce n'est pas plus grande d'une salle \u00e0 manquer et peu amortie mais est augment\u00e9e d'un petit escalier ouvert, ce qui fonctionne bien avec la r\u00e9verb\u00e9ration de la pi\u00e8ce. Un truc et astuce est de mettre un \u00e9pais matelas contre le mur derri\u00e8re le microphone. C'est une solution contre les interf\u00e9rences de r\u00e9verb\u00e9ration de l'arri\u00e8re. Avec une source sonore importante dans une petite pi\u00e8ce, comme par exemple certains orgues, la distance de rayon de r\u00e9verb\u00e9ration est difficile \u00e0 tenir en pratique.","title":"Microphones"},{"location":"product/CartonVirtuel/","text":"Format de cartons virtuel ou fichiers \".book\" Introduction, une utilisation du format midi pervertie APrint studio introduit un nouveau format de fichier (fichier book), qui est un format de fichier Texte. Ce nouveau format de fichier permet d'enregistrer sans pertes et en conservant l'ensemble des informations associ\u00e9es \u00e0 un carton de fa\u00e7on non ambigu\u00eb (comme la registration, la d\u00e9finition de l'instrument sur lequel a \u00e9t\u00e9 cr\u00e9\u00e9 le carton). Cette introduction de nouveau format de fichier a \u00e9t\u00e9 n\u00e9cessaire pour simplifier l'\u00e9change et pouvoir garantir que quelqu'un envoyant un morceau de musique, d'autres personnes puissent l'\u00e9couter et retravailler dessus sans pertes d'informations. En effet, depuis l'utilisation des fichiers midi dans le domaine de l'orgue de barbarie, leur utilisation / \u00e9change est rendu difficile pour plusieurs raisons : Le format de fichier midi d\u00e9finit plusieurs fa\u00e7ons de d\u00e9finir la registration (tracks diff\u00e9rents, utilisation de canaux, commande de registre dans des sysevent sp\u00e9ciaux connus de certains mat\u00e9riels) Des cartes midi ont \u00e9t\u00e9 utilis\u00e9es pour l'interfa\u00e7age avec un instrument, en d\u00e9tournant certaines notes pour piloter les registres, donc l'\u00e9coute d'un tel fichier midi de commande est \"bizzare\" dans un s\u00e9quenceur classique, (par exp\u00e9rience, les notes midi peuvent \u00e9galement ne pas \u00eatre respect\u00e9es). Les fichiers midi acceptent \u00e9galement l'introduction de notes ne pouvant \u00eatre jou\u00e9es par les instruments. Certains instruments ne sont pas chromatiques sur certains jeux. M\u00eame si l'utilisation de fichier midi est extr\u00eamement pratique sur les phases amont du carton, dans l'arrangement, la composition, on arrive \u00e0 un point lors de la r\u00e9alisation du carton o\u00f9 beaucoup de questions se posent sur l'impl\u00e9mentation ou la r\u00e9alisation finale du carton sur l'instrument, en respectant les contraintes de celui ci (et il peut y en avoir beaucoup) En conclusion, r\u00e9utiliser un fichier midi pour un \u00e9change de musique ou de morceau de musique en format midi peut \u00eatre simple pour les petits instruments, mais d\u00e9licat si l'on n'a pas la d\u00e9finition du pilotage de l'instrument et m\u00eame en ayant ces informations, il n'est pas garanti que ce que l'on \u00e9coute refl\u00e8te ce qui sera correctement jou\u00e9 sur l'instrument. Description du format de carton .book Le format .book n'est ni plus ni moins que la transcription du carton de fa\u00e7on informatis\u00e9e. Ce fichier contient les \u00e9l\u00e9ments suivants : Un titre Des m\u00e9tadonn\u00e9es sur le carton Une image associ\u00e9e au carton (pour la page de garde) La d\u00e9finition des pistes du carton (percussion, notes, d\u00e9finition de la registration ...) la liste des trous effectu\u00e9s dans le carton Ces informations sont sauvegard\u00e9e dans un fichier au format texte (XML), ce format a \u00e9t\u00e9 pr\u00e9f\u00e9r\u00e9 \u00e0 un format propri\u00e9taire car il permet sans logiciel de pouvoir comprendre le contenu du fichier et permettre \u00e0 des outils d'indexation ou des biblioth\u00e8ques de d\u00e9veloppement disponibles sur tous les ordinateurs, de pouvoir l'exploiter. Passons \u00e0 la description plus pr\u00e9cise du contenu du fichier Les m\u00e9tadonn\u00e9es Les informations de m\u00e9tadonn\u00e9es permettent d'avoir des informations g\u00e9n\u00e9rales sur le fichier, pour pouvoir effectuer des recherches. on retrouve donc le tronc commun : L'auteur de la musique ( Author) L'arrangeur de la musique pour cet instrument ( Arranger) Une date de cr\u00e9ation du morceau ( CreationDate) Une date de derni\u00e8re modification ( LastModificationDate) Un genre pour la musique ( Genre) L'instrument pour lequel le morceau a \u00e9t\u00e9 compos\u00e9 ( DesignedInstrumentName) Le nom de l'instrument pour lequel la morceau a \u00e9t\u00e9 compos\u00e9 ne d\u00e9finit pas la description des touches de l'instrument, la section suivante est faite pour cela. D\u00e9finition de la gamme La section gamme ( Scale) d\u00e9finit le nombre, la composition et le r\u00f4le de chaque piste. La plupart des boites \u00e0 touches ou m\u00e9canisme de lecture (fl\u00fbte de pan) de la musique par l'instrument est r\u00e9alis\u00e9e par une grille r\u00e9guli\u00e8re \u00e0 partir d'un talon et avec une dimension en mm pour l'axe de premi\u00e8re piste par rapport au talon, puis une dimension en mm d'entrepiste (dimension entre deux axes de pistes (pas)) et puis finalement le nombre de pistes dans le carton. En fonction des instruments, le talon peut \u00eatre situ\u00e9 vers l'avant ou l'arri\u00e8re de l'instrument selon la fa\u00e7on dont la bo\u00eete \u00e0 touches plaque le carton pour mettre la lecture en r\u00e9f\u00e9rence. Certains instruments centrent le carton, il suffit alors de sp\u00e9cifier arbitrairement une orientation de talon (avant ou arri\u00e8re). Vient ensuite la description de la signification des pistes. Dans le format book les pistes peuvent \u00eatre : Des notes (appartenant \u00e0 un groupe de jeu (arrangement, chant, contre chant ... ) Des percussions Des commandes de registres (les automates, jeux fort\u00e9s, tr\u00e9molo, jalousies rentrent dans cette cat\u00e9gorie) Distinctement du carton, la gamme peut avoir un nom, auteur diff\u00e9rent de l'instrument ou du carton, dans le cas o\u00f9 la gamme est un standard r\u00e9utilis\u00e9 dans plusieurs instruments diff\u00e9rents. La gamme contient \u00e9galement une information de vitesse de d\u00e9filement du carton (en millim\u00e8tre par seconde), ceci permet d'effectuer des conversions de \"secondes\" vers des millim\u00e8tres. On retrouve \u00e9galement une information de \"type de lecture\" , pneumatique / m\u00e9canique. D\u00e9finition d'une piste contenant des notes La d\u00e9finition d'une piste ayant des notes propose les informations suivantes : La note, utilisant la notation anglosaxone des notes (C, C#, D,D#, E, F,F#, G, G#, A, A#, B) suivit de l'octave Le groupe de jeux auquel appartient la note (Chant, basse, contrechant ..) D\u00e9finition d'une piste contenant des percussions La d\u00e9finition d'une piste ayant des notes propose les informations suivantes : Un code de percussion des informations de d\u00e9calage par rapport au jeu (en effet les percussions peuvent fonctionner en pression / d\u00e9pression, et donc la fin du trou marque, sur certains instruments, le jeu de la percussion). D\u00e9finition d'une piste contenant des commandes de registration La d\u00e9finition d'une piste de commande de registration peut avoir diff\u00e9rents types : D\u00e9clenchement (g\u00e9n\u00e9ral ou pour un groupe de jeux) Enclenchement d'un registre sur un groupe de jeux Chaque d\u00e9finition a des informations sur un \u00e9ventuel d\u00e9calage par rapport \u00e0 la prise en compte des changements de registration Registration La gamme porte \u00e9galement la description de l'instrument en terme de jeux de tuyaux et de groupes de jeux. Dans cette d\u00e9finition on retrouve, la liste des groupes de jeux pr\u00e9sents dans l'instrument (d'ailleurs repris dans la description des notes). Pour chaque groupe de jeux, les jeux de tuyaux sont d\u00e9crits, qu'ils soient fixes ou pilot\u00e9s par registres, ceux ci sont d\u00e9crits pour permettre d'avoir une vision globale de l'instrument en terme de sonorit\u00e9s. Ces \u00e9l\u00e9ments sont codifi\u00e9s pour permettre une analyse comparative des diff\u00e9rents instruments et de transposition / conversion. D\u00e9finition des trous La description de la gamme \u00e9tant le plus compliqu\u00e9 dans ce format de fichier, la d\u00e9finition des trous est beaucoup plus simple, chaque trou est d\u00e9crit avec une date de d\u00e9but du trou (en millisecondes), une longueur de trou (en millisecondes) et une piste d'appartenance. La conversion entre le timing et le millim\u00e9trage sur le carton est r\u00e9alis\u00e9e par le biais de la vitesse propos\u00e9e dans la d\u00e9finition de la gamme. Conclusion Loin de d\u00e9crire toutes les particularit\u00e9s des instruments m\u00e9caniques, ce format nous a permis de simplifier grandement l'utilisation et l'\u00e9change de morceaux de musique sp\u00e9cialement compos\u00e9s/arrang\u00e9s pour un instrument m\u00e9canique et sans pertes. L'utilisation de la description des gammes g\u00e9n\u00e9ralis\u00e9es nous a \u00e9galement permis d'effectuer des comparaisons d'instruments et de r\u00e9aliser des transformations avanc\u00e9es sur certains cartons. Des scripts et exports simples de r\u00e9alisation permettent alors d'exporter le contenu de ce fichier vers des fichiers midi, structur\u00e9s d'une fa\u00e7on particuli\u00e8re (groupes de tuyaux dans un \"track\" midi distinct etc). Ce format .book est alors utilis\u00e9 en format \"pivot\", plut\u00f4t que de r\u00e9aliser des transformations crois\u00e9es entre des fichiers midi diff\u00e9rents, pour chaque nouveau type de fichiers midi, un import/export peut \u00eatre sp\u00e9cifi\u00e9. Le format texte et XML utilis\u00e9 n'est pas innocent car celui ci permet d'\u00e9tendre \u00e0 souhait les informations propos\u00e9es, sans g\u00eaner les logiciels utilisant ce format. Il peut donc \u00eatre possible d'allonger la liste des informations stock\u00e9es dans ce format en fonction des besoins, sachant qu'un tronc commun d\u00e9finit ici, permettra l'\u00e9change entre les diff\u00e9rents intervenants.","title":"Carton Virtuel"},{"location":"product/CartonVirtuel/#format-de-cartons-virtuel-ou-fichiers-book","text":"","title":"Format de cartons virtuel ou fichiers \".book\""},{"location":"product/CartonVirtuel/#introduction-une-utilisation-du-format-midi-pervertie","text":"APrint studio introduit un nouveau format de fichier (fichier book), qui est un format de fichier Texte. Ce nouveau format de fichier permet d'enregistrer sans pertes et en conservant l'ensemble des informations associ\u00e9es \u00e0 un carton de fa\u00e7on non ambigu\u00eb (comme la registration, la d\u00e9finition de l'instrument sur lequel a \u00e9t\u00e9 cr\u00e9\u00e9 le carton). Cette introduction de nouveau format de fichier a \u00e9t\u00e9 n\u00e9cessaire pour simplifier l'\u00e9change et pouvoir garantir que quelqu'un envoyant un morceau de musique, d'autres personnes puissent l'\u00e9couter et retravailler dessus sans pertes d'informations. En effet, depuis l'utilisation des fichiers midi dans le domaine de l'orgue de barbarie, leur utilisation / \u00e9change est rendu difficile pour plusieurs raisons : Le format de fichier midi d\u00e9finit plusieurs fa\u00e7ons de d\u00e9finir la registration (tracks diff\u00e9rents, utilisation de canaux, commande de registre dans des sysevent sp\u00e9ciaux connus de certains mat\u00e9riels) Des cartes midi ont \u00e9t\u00e9 utilis\u00e9es pour l'interfa\u00e7age avec un instrument, en d\u00e9tournant certaines notes pour piloter les registres, donc l'\u00e9coute d'un tel fichier midi de commande est \"bizzare\" dans un s\u00e9quenceur classique, (par exp\u00e9rience, les notes midi peuvent \u00e9galement ne pas \u00eatre respect\u00e9es). Les fichiers midi acceptent \u00e9galement l'introduction de notes ne pouvant \u00eatre jou\u00e9es par les instruments. Certains instruments ne sont pas chromatiques sur certains jeux. M\u00eame si l'utilisation de fichier midi est extr\u00eamement pratique sur les phases amont du carton, dans l'arrangement, la composition, on arrive \u00e0 un point lors de la r\u00e9alisation du carton o\u00f9 beaucoup de questions se posent sur l'impl\u00e9mentation ou la r\u00e9alisation finale du carton sur l'instrument, en respectant les contraintes de celui ci (et il peut y en avoir beaucoup) En conclusion, r\u00e9utiliser un fichier midi pour un \u00e9change de musique ou de morceau de musique en format midi peut \u00eatre simple pour les petits instruments, mais d\u00e9licat si l'on n'a pas la d\u00e9finition du pilotage de l'instrument et m\u00eame en ayant ces informations, il n'est pas garanti que ce que l'on \u00e9coute refl\u00e8te ce qui sera correctement jou\u00e9 sur l'instrument.","title":"Introduction, une utilisation du format midi pervertie"},{"location":"product/CartonVirtuel/#description-du-format-de-carton-book","text":"Le format .book n'est ni plus ni moins que la transcription du carton de fa\u00e7on informatis\u00e9e. Ce fichier contient les \u00e9l\u00e9ments suivants : Un titre Des m\u00e9tadonn\u00e9es sur le carton Une image associ\u00e9e au carton (pour la page de garde) La d\u00e9finition des pistes du carton (percussion, notes, d\u00e9finition de la registration ...) la liste des trous effectu\u00e9s dans le carton Ces informations sont sauvegard\u00e9e dans un fichier au format texte (XML), ce format a \u00e9t\u00e9 pr\u00e9f\u00e9r\u00e9 \u00e0 un format propri\u00e9taire car il permet sans logiciel de pouvoir comprendre le contenu du fichier et permettre \u00e0 des outils d'indexation ou des biblioth\u00e8ques de d\u00e9veloppement disponibles sur tous les ordinateurs, de pouvoir l'exploiter. Passons \u00e0 la description plus pr\u00e9cise du contenu du fichier","title":"Description du format de carton .book"},{"location":"product/CartonVirtuel/#les-metadonnees","text":"Les informations de m\u00e9tadonn\u00e9es permettent d'avoir des informations g\u00e9n\u00e9rales sur le fichier, pour pouvoir effectuer des recherches. on retrouve donc le tronc commun : L'auteur de la musique ( Author) L'arrangeur de la musique pour cet instrument ( Arranger) Une date de cr\u00e9ation du morceau ( CreationDate) Une date de derni\u00e8re modification ( LastModificationDate) Un genre pour la musique ( Genre) L'instrument pour lequel le morceau a \u00e9t\u00e9 compos\u00e9 ( DesignedInstrumentName) Le nom de l'instrument pour lequel la morceau a \u00e9t\u00e9 compos\u00e9 ne d\u00e9finit pas la description des touches de l'instrument, la section suivante est faite pour cela.","title":"Les m\u00e9tadonn\u00e9es"},{"location":"product/CartonVirtuel/#definition-de-la-gamme","text":"La section gamme ( Scale) d\u00e9finit le nombre, la composition et le r\u00f4le de chaque piste. La plupart des boites \u00e0 touches ou m\u00e9canisme de lecture (fl\u00fbte de pan) de la musique par l'instrument est r\u00e9alis\u00e9e par une grille r\u00e9guli\u00e8re \u00e0 partir d'un talon et avec une dimension en mm pour l'axe de premi\u00e8re piste par rapport au talon, puis une dimension en mm d'entrepiste (dimension entre deux axes de pistes (pas)) et puis finalement le nombre de pistes dans le carton. En fonction des instruments, le talon peut \u00eatre situ\u00e9 vers l'avant ou l'arri\u00e8re de l'instrument selon la fa\u00e7on dont la bo\u00eete \u00e0 touches plaque le carton pour mettre la lecture en r\u00e9f\u00e9rence. Certains instruments centrent le carton, il suffit alors de sp\u00e9cifier arbitrairement une orientation de talon (avant ou arri\u00e8re). Vient ensuite la description de la signification des pistes. Dans le format book les pistes peuvent \u00eatre : Des notes (appartenant \u00e0 un groupe de jeu (arrangement, chant, contre chant ... ) Des percussions Des commandes de registres (les automates, jeux fort\u00e9s, tr\u00e9molo, jalousies rentrent dans cette cat\u00e9gorie) Distinctement du carton, la gamme peut avoir un nom, auteur diff\u00e9rent de l'instrument ou du carton, dans le cas o\u00f9 la gamme est un standard r\u00e9utilis\u00e9 dans plusieurs instruments diff\u00e9rents. La gamme contient \u00e9galement une information de vitesse de d\u00e9filement du carton (en millim\u00e8tre par seconde), ceci permet d'effectuer des conversions de \"secondes\" vers des millim\u00e8tres. On retrouve \u00e9galement une information de \"type de lecture\" , pneumatique / m\u00e9canique.","title":"D\u00e9finition de la gamme"},{"location":"product/CartonVirtuel/#definition-dune-piste-contenant-des-notes","text":"La d\u00e9finition d'une piste ayant des notes propose les informations suivantes : La note, utilisant la notation anglosaxone des notes (C, C#, D,D#, E, F,F#, G, G#, A, A#, B) suivit de l'octave Le groupe de jeux auquel appartient la note (Chant, basse, contrechant ..)","title":"D\u00e9finition d'une piste contenant des notes"},{"location":"product/CartonVirtuel/#definition-dune-piste-contenant-des-percussions","text":"La d\u00e9finition d'une piste ayant des notes propose les informations suivantes : Un code de percussion des informations de d\u00e9calage par rapport au jeu (en effet les percussions peuvent fonctionner en pression / d\u00e9pression, et donc la fin du trou marque, sur certains instruments, le jeu de la percussion).","title":"D\u00e9finition d'une piste contenant des percussions"},{"location":"product/CartonVirtuel/#definition-dune-piste-contenant-des-commandes-de-registration","text":"La d\u00e9finition d'une piste de commande de registration peut avoir diff\u00e9rents types : D\u00e9clenchement (g\u00e9n\u00e9ral ou pour un groupe de jeux) Enclenchement d'un registre sur un groupe de jeux Chaque d\u00e9finition a des informations sur un \u00e9ventuel d\u00e9calage par rapport \u00e0 la prise en compte des changements de registration","title":"D\u00e9finition d'une piste contenant des commandes de registration"},{"location":"product/CartonVirtuel/#registration","text":"La gamme porte \u00e9galement la description de l'instrument en terme de jeux de tuyaux et de groupes de jeux. Dans cette d\u00e9finition on retrouve, la liste des groupes de jeux pr\u00e9sents dans l'instrument (d'ailleurs repris dans la description des notes). Pour chaque groupe de jeux, les jeux de tuyaux sont d\u00e9crits, qu'ils soient fixes ou pilot\u00e9s par registres, ceux ci sont d\u00e9crits pour permettre d'avoir une vision globale de l'instrument en terme de sonorit\u00e9s. Ces \u00e9l\u00e9ments sont codifi\u00e9s pour permettre une analyse comparative des diff\u00e9rents instruments et de transposition / conversion.","title":"Registration"},{"location":"product/CartonVirtuel/#definition-des-trous","text":"La description de la gamme \u00e9tant le plus compliqu\u00e9 dans ce format de fichier, la d\u00e9finition des trous est beaucoup plus simple, chaque trou est d\u00e9crit avec une date de d\u00e9but du trou (en millisecondes), une longueur de trou (en millisecondes) et une piste d'appartenance. La conversion entre le timing et le millim\u00e9trage sur le carton est r\u00e9alis\u00e9e par le biais de la vitesse propos\u00e9e dans la d\u00e9finition de la gamme.","title":"D\u00e9finition des trous"},{"location":"product/CartonVirtuel/#_1","text":"","title":""},{"location":"product/CartonVirtuel/#conclusion","text":"Loin de d\u00e9crire toutes les particularit\u00e9s des instruments m\u00e9caniques, ce format nous a permis de simplifier grandement l'utilisation et l'\u00e9change de morceaux de musique sp\u00e9cialement compos\u00e9s/arrang\u00e9s pour un instrument m\u00e9canique et sans pertes. L'utilisation de la description des gammes g\u00e9n\u00e9ralis\u00e9es nous a \u00e9galement permis d'effectuer des comparaisons d'instruments et de r\u00e9aliser des transformations avanc\u00e9es sur certains cartons. Des scripts et exports simples de r\u00e9alisation permettent alors d'exporter le contenu de ce fichier vers des fichiers midi, structur\u00e9s d'une fa\u00e7on particuli\u00e8re (groupes de tuyaux dans un \"track\" midi distinct etc). Ce format .book est alors utilis\u00e9 en format \"pivot\", plut\u00f4t que de r\u00e9aliser des transformations crois\u00e9es entre des fichiers midi diff\u00e9rents, pour chaque nouveau type de fichiers midi, un import/export peut \u00eatre sp\u00e9cifi\u00e9. Le format texte et XML utilis\u00e9 n'est pas innocent car celui ci permet d'\u00e9tendre \u00e0 souhait les informations propos\u00e9es, sans g\u00eaner les logiciels utilisant ce format. Il peut donc \u00eatre possible d'allonger la liste des informations stock\u00e9es dans ce format en fonction des besoins, sachant qu'un tronc commun d\u00e9finit ici, permettra l'\u00e9change entre les diff\u00e9rents intervenants.","title":"Conclusion"},{"location":"product/CreationInstrument/","text":"Notes sur l'enregistrement d'instruments dans le logiciel Novembre 2016 Introduction Une des forces du logiciel est l'utilisation d'enregistrements d'instruments r\u00e9els. Le r\u00e9alisme de la restitution sonore est tr\u00e8s utile pour donner une id\u00e9e d'un arrangement de morceaux de musique sur un instrument. Les logiciels APrint et APrint Studio utilisent des \u00e9chantillons des tuyaux et des anches et les restituent pour chaque jeu de notes. Cette technique permet d'avoir une bonne premi\u00e8re approche finale, avec un enregistrement simple. Dans les diff\u00e9rents enregistrements que nous avons pu effectuer, nous avons enregistr\u00e9 des tuyaux sur les instruments eux-m\u00eames (sans d\u00e9montage). Ceci permet de conserver certains aspects du jeu de l'instrument comme par exemple : certaines harmonies, certains bruits caract\u00e9ristiques ainsi que la restitution sonore dans l'espace. Par exp\u00e9rience, nous avons remarqu\u00e9 que l'enregistrement sonore demande certaines pr\u00e9cautions sur les m\u00e9thodes d'\u00e9chantillonnage, de prise de son et de choix des sons. Cet article a pour but de proposer une premi\u00e8re approche sur l'enregistrement. Loin d'\u00eatre exhaustif, il sera enrichit avec les retours d'exp\u00e9riences et des comp\u00e9tences des diff\u00e9rents utilisateurs. Nous proposons ici une d\u00e9marche sur les quelques enregistrements r\u00e9alis\u00e9s. Dans cette d\u00e9marche, nous avons essay\u00e9 de limiter au maximum tous les biais num\u00e9riques, en essayant de pr\u00e9server au maximum les caract\u00e9ristiques sonores de l'instrument. 1 - Etapes d'enregistrement sonore Trois \u00e9tapes minimum sont n\u00e9cessaires pour la cr\u00e9ation d'un nouvel instrument : D\u00e9finition de la gamme de l'instrument et cr\u00e9ation d'un carton de gamme Enregistrement des sons de la gamme et des registres Cr\u00e9ation de l'instrument dans le logiciel et am\u00e9lioration de la restitution 2 - D\u00e9finition de la gamme de l'instrument et cr\u00e9ation du carton de gamme \u00e0 enregistrer Une premi\u00e8re \u00e9tape consiste \u00e0 cr\u00e9er un carton contenant la gamme de l'instrument. Ce carton de gamme sera ensuite jou\u00e9 par l'instrument et enregistr\u00e9 note \u00e0 note et registre par registre. Pour cr\u00e9er le carton de gamme, la d\u00e9finition de l'instrument (fichier de gamme ou fichier .scale) doit \u00eatre r\u00e9alis\u00e9.Cette d\u00e9finition peut \u00eatre faite dans le logiciel en utilisant l'\u00e9diteur de gamme. Si l'orgue partage une gamme d'un autre instrument existant ou r\u00e9cup\u00e9r\u00e9, il est possible de reprendre celle-ci sans avoir \u00e0 la red\u00e9finir. On utilise alors la fonction d'export de l'\u00e9diteur d'instruments. La description de la gamme permet de connaitre les notes \u00e0 enregistrer ainsi que les diff\u00e9rents registres de l'instrument. Les registres sont importants car le carton de gamme doit pouvoir jouer les diff\u00e9rents sons des registres pour une meilleure restitution. Une fois la gamme d\u00e9finie ou r\u00e9cup\u00e9r\u00e9e, un script permet de g\u00e9n\u00e9rer un carton de gamme directement. Le script prend en compte un jeu long du tuyau ainsi que des r\u00e9p\u00e9titions successives pour voir le comportement sonore dans l'attaque et la fin du jeu. Les percussions sont \u00e9galement \u00e0 enregistrer. (la gamme de test prend \u00e9galement en compte les registres et l'enregistrement de ceux ci unitairement). La d\u00e9finition de la gamme \u00e0 enregistrer est clef dans le processus et plusieurs points d'attention sont \u00e0 consid\u00e9rer : Un enregistrement de quelques secondes doit \u00eatre pr\u00e9vu pour chaque note. Ce long enregistrement de chaque note, permet d'\u00e9viter un travail de boucle sur l'\u00e9chantillon et introduire un biais num\u00e9rique. Une r\u00e9p\u00e9tition de chaque note est \u00e9galement \u00e0 enregistrer, ceci permet de mieux rep\u00e9rer dans la partie sonore l'attaque et les temps de d\u00e9but et de fin du son par rapport \u00e0 la commande m\u00e9canique. Les percussions sont \u00e9galement \u00e0 enregistrer 3 - Pr\u00e9paration de l'enregistrement sonore Nous avons proc\u00e9d\u00e9 ainsi dans nos enregistrements : Mettre l'instrument dans un lieu neutre et silencieux Le lieu doit \u00eatre au maximum neutre dans le sens o\u00f9 les effets de r\u00e9verb\u00e9ration doivent \u00eatre limit\u00e9s (sauf si la restitution doit refl\u00e9ter \u00e9galement cette r\u00e9verb\u00e9ration naturelle). Il est souhaitable d'\u00e9viter les \u00e9glises ou des locaux vides, qui comportent des murs renvoyant le son \u00e0 de multiples reprises. Dans le cas o\u00f9 une r\u00e9verb\u00e9ration est souhait\u00e9e, celle ci peut \u00eatre ajout\u00e9e \u00e0 post\u00e9riori par le logiciel. Les lieux ext\u00e9rieurs peuvent \u00e9galement \u00eatre utilis\u00e9s, mais ceux ci posent des probl\u00e8mes de souffles dans les micros s'il y a du vent. (\u00e0 cet effet, certains micros sont \u00e9quip\u00e9s d'accessoires ou de mousses permettant la prise de son en ext\u00e9rieur). Essayez de r\u00e9duire les sons parasites Certains sons comme la soufflerie ou des bruits m\u00e9caniques peuvent \u00eatre enregistr\u00e9s dans le cas d'instruments simples, par contre, si ces bruits sont enregistr\u00e9s sur chaque prise de note, lors de la restitution d'un carton, plusieurs notes \u00e9tant jou\u00e9es en m\u00eame temps, ces sons vont se cumuler dans la restitution. Ces effets deviennent g\u00eanant sur les gros instruments avec beaucoup de registres. Il peut \u00eatre propos\u00e9 de r\u00e9duire l'importance de ces bruits si ceux ci sont pr\u00e9pond\u00e9rants, par exemple en camouflant la soufflerie ou essayant un meilleur micro (pour le bruit d'enregistrement). Un retour d'exp\u00e9rience serait appr\u00e9ci\u00e9 sur des conditions diff\u00e9rentes de num\u00e9risation. 3 - Num\u00e9risation des sons Pour num\u00e9riser les sons de l'instrument, plusieurs mat\u00e9riels doivent \u00eatre consid\u00e9r\u00e9s : Le Microphone L'enregistreur num\u00e9rique Le Microphone Le microphone doit \u00eatre de bonne qualit\u00e9, plusieurs technologies de micro peuvent \u00eatre utilis\u00e9es en fonction du r\u00e9sultat souhait\u00e9. (omnidirectionnel, directionnels ... \u00e0 bobine ou \u00e9lectrostatiques). (http://fr.wikipedia.org/wiki/Microphone) La position du micro est tr\u00e8s importante pour l'enregistrement, celui ci doit \u00eatre positionn\u00e9 en frontal et \u00e0 bonne distance de l'instrument, afin de pouvoir capturer les diff\u00e9rents tuyaux et leur r\u00e9partition dans l'espace. En gardant une \"position fixe\" du microphone durant l'enregistrement, cela permet de garantir une prise de son uniforme sur l'ensemble des \u00e9l\u00e9ments enregistr\u00e9s. Pierre Penard sur son site propose un petit montage \u00e9lectronique pour utiliser deux \u00e9lectrets et qui effectue une moyenne et une balance de prise de son de chaque c\u00f4t\u00e9 de l'instrument. (http://orgue-de-barbarie.pagesperso-orange.fr/bidouille.htm) Un micro r\u00e9cent capture \u00e9galement beaucoup mieux les fr\u00e9quences qu'un micro ayant quelques ann\u00e9es. Penser \u00e9galement \u00e0 la bande passante du micro, en effet certains micros d\u00e9di\u00e9s \u00e0 la voix vont att\u00e9nuer les basses, pourtant tr\u00e8s importantes dans l'enregistrement d'un orgue de foire. La prise de son est quelque chose de complexe et \u00e9galement fonction du niveau de qualit\u00e9 souhait\u00e9 dans l'enregistrement. Plus la fid\u00e9lit\u00e9 doit \u00eatre atteinte, plus la mise en oeuvre sera d\u00e9licate. En retour d'exp\u00e9rience, lors de l'enregistrement, il est n\u00e9cessaire que le micro, une fois positionn\u00e9, ne soit plus d\u00e9plac\u00e9 pour l'ensemble des \u00e9chantillons. En effet le d\u00e9placement du micro en cours de route ne refl\u00e8tera plus la balance sonore naturelle de l'instrument et les diff\u00e9rents volumes des tuyaux d'origine. Si le micro est d\u00e9plac\u00e9, cela peut donner des r\u00e9sultats hasardeux. L'enregistreur num\u00e9rique Pr\u00e9f\u00e9rer un enregistreur num\u00e9rique portatif \u00e0 un ordinateur. En effet l'enregistreur num\u00e9rique ne fait pas de bruits additionnels (contrairement \u00e0 la ventilation d'un ordinateur). L'ordinateur, ayant des hautes fr\u00e9quences, parasite \u00e9galement la prise de son, introduisant des fr\u00e9quences non souhait\u00e9es dans l'enregistrement. Utilisez si possible un format d'enregistrement sans perte (WAV, ou brut), les formats d'enregistrement type MP3 par exemple, introduisent des modifications dans l'\u00e9chantillon et perdent certains signaux (filtrage fr\u00e9quentiel). Le format MP3 impose \u00e9galement une transformation informatique au format WAV pour \u00eatre utilis\u00e9 dans le logiciel (limitons les transformations informatique si possible) Utilisez un \u00e9chantillonnage \u00e0 44Khz de fr\u00e9quence, cette fr\u00e9quence d'\u00e9chantillonnage est celle utilis\u00e9e par les CD et pr\u00e9sente une bonne qualit\u00e9 audio. Cette vitesse d'\u00e9chantillonage induit \u00e9galement de gros volumes de fichiers de sortie, donc pr\u00e9voyez la place n\u00e9cessaire sur l'enregistreur num\u00e9rique.(Dans un souci d'optimiser la taille des \u00e9chantillons cr\u00e9\u00e9s, r\u00e9alisez un \u00e9chantillonage en MONO) En retour d'exp\u00e9rience, enregistrez un minimum de 3 \u00e0 4 secondes par note. Cela vous sera utile lors de l'op\u00e9ration de \"mapping\". La vitesse moyenne de d\u00e9filement du carton \u00e9tant de 6cm/seconde, vous obtiendrez la possibilit\u00e9 de jouer la note sur 18 \u00e0 24 cm sans avoir \u00e0 r\u00e9aliser de \"boucle num\u00e9rique\" sur le son. Cette op\u00e9ration de \"boucle\" \u00e9tant assez fastidieuse \u00e0 r\u00e9aliser. Proc\u00e9dez par ordre et m\u00e9thode. Nommez et enregistrez vos \u00e9chantillons de fa\u00e7on \u00e0 pouvoir les identifier plus facilement. Cr\u00e9ez des r\u00e9pertoires au nom des \u00e9l\u00e9ments enregistr\u00e9s (ex: Accompagnement, Piccolos - contrechant, Trombones-basses, ...) et placez vos \u00e9chantillons en les nommant, par exemple, comme ceci : \"num\u00e9ros de piste dans la gamme - nom de la note\" (ex:\"31-LA.wav\", \"32-SI.wav\", \"38-FAdiese.wav\", ...) Cette m\u00e9thode vous facilitera l'\u00e9tape du \"mapping\". R\u00e9cup\u00e9ration des \u00e9chantillons et premiers traitements Une fois l'enregistrement de la gamme et des diff\u00e9rents registres r\u00e9alis\u00e9 avec l'enregistreur num\u00e9rique, les sons doivent \u00eatre rep\u00e9r\u00e9s et d\u00e9coup\u00e9s (dans le gros fichier .WAV d'enregistrement) Pr\u00e9servez les attaques des tuyaux dans le d\u00e9coupage, c'est extr\u00eamement important pour le caract\u00e8re de l'instrument. Chaque instrument est diff\u00e9rent et une de ses caract\u00e9ristique d'\u00e9coute est cette phase transitoire du tuyau avant l'instauration du r\u00e9gime permanent . Pr\u00e9servez l'attaque des tuyaux (ou anches) Pour une meilleure restitution vous pouvez \u00e9galement regarder et pr\u00e9server les in\u00e9galit\u00e9s de temps d'attaque des notes , (ex : les basses par exemple mettent plus de temps \u00e0 r\u00e9agir que les fl\u00fbtes du chant). Ce delta peut \u00eatre mesur\u00e9 dans l'enregistrement de notes courtes \u00e0 la fin de l'enregistrement de la note longue. Retour d'exp\u00e9rience : Ne retravaillez pas num\u00e9riquement les \u00e9chantillons. La suppression du bruit par analyse de zones non bruit\u00e9es d\u00e9t\u00e9riore l'enregistrement. Pr\u00e9f\u00e9rez un bon enregistrement audio avec un bon micro \u00e0 un retraitement num\u00e9rique ult\u00e9rieur. Un traitement num\u00e9rique peut \u00eatre r\u00e9alis\u00e9 mais en tr\u00e8s bonne connaissance du sujet, (les r\u00e9ponses fr\u00e9quentielles des micros, des fr\u00e9quences de l'instrument etc). Evitez les r\u00e9ductions ou augmentation de volumes, cela d\u00e9truit l'\u00e9quilibrage souhait\u00e9 de l'instrument par les facteurs d'orgue. On peut abusivement augmenter le volume des basses sur un ordinateur n'ayant pas de bons \"haut parleurs\" (speakers) et rendant une bonne restitution, cependant si l'on \u00e9coute l'instrument sur de bons haut parleurs le r\u00e9sultat est d\u00e9sastreux. 4 - Construction et r\u00e9partition des sons sur l'instrument Une fois les sons r\u00e9cup\u00e9r\u00e9s et enregistr\u00e9s, il reste une phase importante dans la construction sonore de l'instrument : le \"mapping\". Le \"mapping\" consiste \u00e0 attribuer un son \u00e0 une ou plusieurs notes de l'instrument, quelques guides ci dessous permettront de tirer le meilleur de l'\u00e9chantillonnage r\u00e9alis\u00e9: Mapper les sons dans les m\u00eames sections de registres, autrement dit : ne prenez pas une note du chant pour la mettre sur une note de l'accompagnement. Connaissez la facture de votre instrument et regardez bien les diff\u00e9rents types de tuyaux pour prendre les sons ad\u00e9quats. Choisissez dans les sons d'une section de registre, un ou plusieurs sons bien enregistr\u00e9(s). Il arrive que certains tuyaux ne soient pas bien accord\u00e9s ou r\u00e9agissent diff\u00e9remment de leur voisins. Cela peut \u00eatre souhaitable pour la bonne conformit\u00e9 de restitution. Si un tyau est \"particulier\" et que vous souhaitez garder ce comportement, enregistrez alors les tuyaux voisins. Si vous utilisez ce son sur plusieurs tuyaux, vous g\u00e9n\u00e9ralisez alors ce caract\u00e8re particulier, donc vous changez l'identit\u00e9 de l'instrument. N'associez pas une plage trop grande de notes pour un son, multipliez les sons. En retour d'exp\u00e9rience, ne d\u00e9passez pas 3 notes d'\u00e9cart par rapport \u00e0 la note du son, plus le son est utilis\u00e9 sur les notes \"lointaines\" de la note de base du son, plus le son est d\u00e9form\u00e9 par r\u00e9\u00e9chantillonage par le logiciel. Par exemple, pour mapper les notes \"do, r\u00e9, mi, fa, sol, la\" nous s\u00e9lectionnerons l'\u00e9chantillon RE pour mapper \"do, r\u00e9, mi\" et l'\u00e9chantillon SOL pour \"fa, sol, la\". Multipliez les \u00e9chantillons dans la partie haute de l'instrument, en effet les sons aigu\u00ebs ont des fr\u00e9quences beaucoup plus \u00e9lev\u00e9es et c'est sur cette plage que la d\u00e9formation s'entend malheureusement le plus. C'est dans cette plage que les op\u00e9rations math\u00e9matiques op\u00e9r\u00e9es sur des \u00e9chantillons manquant, divergent pas rapport \u00e0 l'instrument. Bref, la partie mapping est une partie d\u00e9licate de la cr\u00e9ation de l'instrument. Plusieurs essais sont \u00e0 r\u00e9aliser, sur des cartons diff\u00e9rents. L'\u00e9coute unitaire peut ne rien donner mais sur un carton de musique, on reconna\u00eet mieux l'instrument. Pr\u00e9voyez un peu de temps pour cette \u00e9tape. En Synth\u00e8se Parce que l'important, c'est l'instrument, Soyez m\u00e9ticuleux sur la partie acquisition du son. Essentiel pour un bon instrument \u00e9chantillonn\u00e9. Ne retravaillez pas abusivement num\u00e9riquement les \u00e9chantillons Pr\u00e9servez les caract\u00e9ristiques des sons (et notamment l'attaque) Ne pas n\u00e9gliger la partie association de son et mapping. Bibliographie / R\u00e9f\u00e9rences http://fr.wikipedia.org/wiki/Microphone http://organ.10.forumer.com/a/creating-organ-soundfonts_post1133.html M\u00e9thode de prise de son l\u00e9g\u00e8re : http://www.fonema.se/blockhead/blockhead.html (anglais) Contributeurs / Auteurs du document Patrice Freydiere (Auteur) Olivier Dupont (Auteur) Pierre Dupont (relecture, adaptation) Pierre Penard (relecture, commentaires)","title":"Note sur l'enregistrement d'instruments"},{"location":"product/CreationInstrument/#notes-sur-lenregistrement-dinstruments-dans-le-logiciel","text":"Novembre 2016","title":"Notes sur l'enregistrement d'instruments dans le logiciel"},{"location":"product/CreationInstrument/#introduction","text":"Une des forces du logiciel est l'utilisation d'enregistrements d'instruments r\u00e9els. Le r\u00e9alisme de la restitution sonore est tr\u00e8s utile pour donner une id\u00e9e d'un arrangement de morceaux de musique sur un instrument. Les logiciels APrint et APrint Studio utilisent des \u00e9chantillons des tuyaux et des anches et les restituent pour chaque jeu de notes. Cette technique permet d'avoir une bonne premi\u00e8re approche finale, avec un enregistrement simple. Dans les diff\u00e9rents enregistrements que nous avons pu effectuer, nous avons enregistr\u00e9 des tuyaux sur les instruments eux-m\u00eames (sans d\u00e9montage). Ceci permet de conserver certains aspects du jeu de l'instrument comme par exemple : certaines harmonies, certains bruits caract\u00e9ristiques ainsi que la restitution sonore dans l'espace. Par exp\u00e9rience, nous avons remarqu\u00e9 que l'enregistrement sonore demande certaines pr\u00e9cautions sur les m\u00e9thodes d'\u00e9chantillonnage, de prise de son et de choix des sons. Cet article a pour but de proposer une premi\u00e8re approche sur l'enregistrement. Loin d'\u00eatre exhaustif, il sera enrichit avec les retours d'exp\u00e9riences et des comp\u00e9tences des diff\u00e9rents utilisateurs. Nous proposons ici une d\u00e9marche sur les quelques enregistrements r\u00e9alis\u00e9s. Dans cette d\u00e9marche, nous avons essay\u00e9 de limiter au maximum tous les biais num\u00e9riques, en essayant de pr\u00e9server au maximum les caract\u00e9ristiques sonores de l'instrument.","title":"Introduction"},{"location":"product/CreationInstrument/#1-etapes-denregistrement-sonore","text":"Trois \u00e9tapes minimum sont n\u00e9cessaires pour la cr\u00e9ation d'un nouvel instrument : D\u00e9finition de la gamme de l'instrument et cr\u00e9ation d'un carton de gamme Enregistrement des sons de la gamme et des registres Cr\u00e9ation de l'instrument dans le logiciel et am\u00e9lioration de la restitution","title":"1 - Etapes d'enregistrement sonore"},{"location":"product/CreationInstrument/#2-definition-de-la-gamme-de-linstrument-et-creation-du-carton-de-gamme-a-enregistrer","text":"Une premi\u00e8re \u00e9tape consiste \u00e0 cr\u00e9er un carton contenant la gamme de l'instrument. Ce carton de gamme sera ensuite jou\u00e9 par l'instrument et enregistr\u00e9 note \u00e0 note et registre par registre. Pour cr\u00e9er le carton de gamme, la d\u00e9finition de l'instrument (fichier de gamme ou fichier .scale) doit \u00eatre r\u00e9alis\u00e9.Cette d\u00e9finition peut \u00eatre faite dans le logiciel en utilisant l'\u00e9diteur de gamme. Si l'orgue partage une gamme d'un autre instrument existant ou r\u00e9cup\u00e9r\u00e9, il est possible de reprendre celle-ci sans avoir \u00e0 la red\u00e9finir. On utilise alors la fonction d'export de l'\u00e9diteur d'instruments. La description de la gamme permet de connaitre les notes \u00e0 enregistrer ainsi que les diff\u00e9rents registres de l'instrument. Les registres sont importants car le carton de gamme doit pouvoir jouer les diff\u00e9rents sons des registres pour une meilleure restitution. Une fois la gamme d\u00e9finie ou r\u00e9cup\u00e9r\u00e9e, un script permet de g\u00e9n\u00e9rer un carton de gamme directement. Le script prend en compte un jeu long du tuyau ainsi que des r\u00e9p\u00e9titions successives pour voir le comportement sonore dans l'attaque et la fin du jeu. Les percussions sont \u00e9galement \u00e0 enregistrer. (la gamme de test prend \u00e9galement en compte les registres et l'enregistrement de ceux ci unitairement). La d\u00e9finition de la gamme \u00e0 enregistrer est clef dans le processus et plusieurs points d'attention sont \u00e0 consid\u00e9rer : Un enregistrement de quelques secondes doit \u00eatre pr\u00e9vu pour chaque note. Ce long enregistrement de chaque note, permet d'\u00e9viter un travail de boucle sur l'\u00e9chantillon et introduire un biais num\u00e9rique. Une r\u00e9p\u00e9tition de chaque note est \u00e9galement \u00e0 enregistrer, ceci permet de mieux rep\u00e9rer dans la partie sonore l'attaque et les temps de d\u00e9but et de fin du son par rapport \u00e0 la commande m\u00e9canique. Les percussions sont \u00e9galement \u00e0 enregistrer","title":"2 - D\u00e9finition de la gamme de l'instrument et cr\u00e9ation du carton de gamme \u00e0 enregistrer"},{"location":"product/CreationInstrument/#3-preparation-de-lenregistrement-sonore","text":"Nous avons proc\u00e9d\u00e9 ainsi dans nos enregistrements :","title":"3 - Pr\u00e9paration de l'enregistrement sonore"},{"location":"product/CreationInstrument/#mettre-linstrument-dans-un-lieu-neutre-et-silencieux","text":"Le lieu doit \u00eatre au maximum neutre dans le sens o\u00f9 les effets de r\u00e9verb\u00e9ration doivent \u00eatre limit\u00e9s (sauf si la restitution doit refl\u00e9ter \u00e9galement cette r\u00e9verb\u00e9ration naturelle). Il est souhaitable d'\u00e9viter les \u00e9glises ou des locaux vides, qui comportent des murs renvoyant le son \u00e0 de multiples reprises. Dans le cas o\u00f9 une r\u00e9verb\u00e9ration est souhait\u00e9e, celle ci peut \u00eatre ajout\u00e9e \u00e0 post\u00e9riori par le logiciel. Les lieux ext\u00e9rieurs peuvent \u00e9galement \u00eatre utilis\u00e9s, mais ceux ci posent des probl\u00e8mes de souffles dans les micros s'il y a du vent. (\u00e0 cet effet, certains micros sont \u00e9quip\u00e9s d'accessoires ou de mousses permettant la prise de son en ext\u00e9rieur).","title":"Mettre l'instrument dans un lieu neutre et silencieux"},{"location":"product/CreationInstrument/#essayez-de-reduire-les-sons-parasites","text":"Certains sons comme la soufflerie ou des bruits m\u00e9caniques peuvent \u00eatre enregistr\u00e9s dans le cas d'instruments simples, par contre, si ces bruits sont enregistr\u00e9s sur chaque prise de note, lors de la restitution d'un carton, plusieurs notes \u00e9tant jou\u00e9es en m\u00eame temps, ces sons vont se cumuler dans la restitution. Ces effets deviennent g\u00eanant sur les gros instruments avec beaucoup de registres. Il peut \u00eatre propos\u00e9 de r\u00e9duire l'importance de ces bruits si ceux ci sont pr\u00e9pond\u00e9rants, par exemple en camouflant la soufflerie ou essayant un meilleur micro (pour le bruit d'enregistrement). Un retour d'exp\u00e9rience serait appr\u00e9ci\u00e9 sur des conditions diff\u00e9rentes de num\u00e9risation.","title":"Essayez de r\u00e9duire les sons parasites"},{"location":"product/CreationInstrument/#3-numerisation-des-sons","text":"Pour num\u00e9riser les sons de l'instrument, plusieurs mat\u00e9riels doivent \u00eatre consid\u00e9r\u00e9s : Le Microphone L'enregistreur num\u00e9rique","title":"3 - Num\u00e9risation des sons"},{"location":"product/CreationInstrument/#le-microphone","text":"Le microphone doit \u00eatre de bonne qualit\u00e9, plusieurs technologies de micro peuvent \u00eatre utilis\u00e9es en fonction du r\u00e9sultat souhait\u00e9. (omnidirectionnel, directionnels ... \u00e0 bobine ou \u00e9lectrostatiques). (http://fr.wikipedia.org/wiki/Microphone) La position du micro est tr\u00e8s importante pour l'enregistrement, celui ci doit \u00eatre positionn\u00e9 en frontal et \u00e0 bonne distance de l'instrument, afin de pouvoir capturer les diff\u00e9rents tuyaux et leur r\u00e9partition dans l'espace. En gardant une \"position fixe\" du microphone durant l'enregistrement, cela permet de garantir une prise de son uniforme sur l'ensemble des \u00e9l\u00e9ments enregistr\u00e9s. Pierre Penard sur son site propose un petit montage \u00e9lectronique pour utiliser deux \u00e9lectrets et qui effectue une moyenne et une balance de prise de son de chaque c\u00f4t\u00e9 de l'instrument. (http://orgue-de-barbarie.pagesperso-orange.fr/bidouille.htm) Un micro r\u00e9cent capture \u00e9galement beaucoup mieux les fr\u00e9quences qu'un micro ayant quelques ann\u00e9es. Penser \u00e9galement \u00e0 la bande passante du micro, en effet certains micros d\u00e9di\u00e9s \u00e0 la voix vont att\u00e9nuer les basses, pourtant tr\u00e8s importantes dans l'enregistrement d'un orgue de foire. La prise de son est quelque chose de complexe et \u00e9galement fonction du niveau de qualit\u00e9 souhait\u00e9 dans l'enregistrement. Plus la fid\u00e9lit\u00e9 doit \u00eatre atteinte, plus la mise en oeuvre sera d\u00e9licate. En retour d'exp\u00e9rience, lors de l'enregistrement, il est n\u00e9cessaire que le micro, une fois positionn\u00e9, ne soit plus d\u00e9plac\u00e9 pour l'ensemble des \u00e9chantillons. En effet le d\u00e9placement du micro en cours de route ne refl\u00e8tera plus la balance sonore naturelle de l'instrument et les diff\u00e9rents volumes des tuyaux d'origine. Si le micro est d\u00e9plac\u00e9, cela peut donner des r\u00e9sultats hasardeux.","title":"Le Microphone"},{"location":"product/CreationInstrument/#lenregistreur-numerique","text":"Pr\u00e9f\u00e9rer un enregistreur num\u00e9rique portatif \u00e0 un ordinateur. En effet l'enregistreur num\u00e9rique ne fait pas de bruits additionnels (contrairement \u00e0 la ventilation d'un ordinateur). L'ordinateur, ayant des hautes fr\u00e9quences, parasite \u00e9galement la prise de son, introduisant des fr\u00e9quences non souhait\u00e9es dans l'enregistrement. Utilisez si possible un format d'enregistrement sans perte (WAV, ou brut), les formats d'enregistrement type MP3 par exemple, introduisent des modifications dans l'\u00e9chantillon et perdent certains signaux (filtrage fr\u00e9quentiel). Le format MP3 impose \u00e9galement une transformation informatique au format WAV pour \u00eatre utilis\u00e9 dans le logiciel (limitons les transformations informatique si possible) Utilisez un \u00e9chantillonnage \u00e0 44Khz de fr\u00e9quence, cette fr\u00e9quence d'\u00e9chantillonnage est celle utilis\u00e9e par les CD et pr\u00e9sente une bonne qualit\u00e9 audio. Cette vitesse d'\u00e9chantillonage induit \u00e9galement de gros volumes de fichiers de sortie, donc pr\u00e9voyez la place n\u00e9cessaire sur l'enregistreur num\u00e9rique.(Dans un souci d'optimiser la taille des \u00e9chantillons cr\u00e9\u00e9s, r\u00e9alisez un \u00e9chantillonage en MONO) En retour d'exp\u00e9rience, enregistrez un minimum de 3 \u00e0 4 secondes par note. Cela vous sera utile lors de l'op\u00e9ration de \"mapping\". La vitesse moyenne de d\u00e9filement du carton \u00e9tant de 6cm/seconde, vous obtiendrez la possibilit\u00e9 de jouer la note sur 18 \u00e0 24 cm sans avoir \u00e0 r\u00e9aliser de \"boucle num\u00e9rique\" sur le son. Cette op\u00e9ration de \"boucle\" \u00e9tant assez fastidieuse \u00e0 r\u00e9aliser. Proc\u00e9dez par ordre et m\u00e9thode. Nommez et enregistrez vos \u00e9chantillons de fa\u00e7on \u00e0 pouvoir les identifier plus facilement. Cr\u00e9ez des r\u00e9pertoires au nom des \u00e9l\u00e9ments enregistr\u00e9s (ex: Accompagnement, Piccolos - contrechant, Trombones-basses, ...) et placez vos \u00e9chantillons en les nommant, par exemple, comme ceci : \"num\u00e9ros de piste dans la gamme - nom de la note\" (ex:\"31-LA.wav\", \"32-SI.wav\", \"38-FAdiese.wav\", ...) Cette m\u00e9thode vous facilitera l'\u00e9tape du \"mapping\".","title":"L'enregistreur num\u00e9rique"},{"location":"product/CreationInstrument/#recuperation-des-echantillons-et-premiers-traitements","text":"Une fois l'enregistrement de la gamme et des diff\u00e9rents registres r\u00e9alis\u00e9 avec l'enregistreur num\u00e9rique, les sons doivent \u00eatre rep\u00e9r\u00e9s et d\u00e9coup\u00e9s (dans le gros fichier .WAV d'enregistrement) Pr\u00e9servez les attaques des tuyaux dans le d\u00e9coupage, c'est extr\u00eamement important pour le caract\u00e8re de l'instrument. Chaque instrument est diff\u00e9rent et une de ses caract\u00e9ristique d'\u00e9coute est cette phase transitoire du tuyau avant l'instauration du r\u00e9gime permanent . Pr\u00e9servez l'attaque des tuyaux (ou anches) Pour une meilleure restitution vous pouvez \u00e9galement regarder et pr\u00e9server les in\u00e9galit\u00e9s de temps d'attaque des notes , (ex : les basses par exemple mettent plus de temps \u00e0 r\u00e9agir que les fl\u00fbtes du chant). Ce delta peut \u00eatre mesur\u00e9 dans l'enregistrement de notes courtes \u00e0 la fin de l'enregistrement de la note longue. Retour d'exp\u00e9rience : Ne retravaillez pas num\u00e9riquement les \u00e9chantillons. La suppression du bruit par analyse de zones non bruit\u00e9es d\u00e9t\u00e9riore l'enregistrement. Pr\u00e9f\u00e9rez un bon enregistrement audio avec un bon micro \u00e0 un retraitement num\u00e9rique ult\u00e9rieur. Un traitement num\u00e9rique peut \u00eatre r\u00e9alis\u00e9 mais en tr\u00e8s bonne connaissance du sujet, (les r\u00e9ponses fr\u00e9quentielles des micros, des fr\u00e9quences de l'instrument etc). Evitez les r\u00e9ductions ou augmentation de volumes, cela d\u00e9truit l'\u00e9quilibrage souhait\u00e9 de l'instrument par les facteurs d'orgue. On peut abusivement augmenter le volume des basses sur un ordinateur n'ayant pas de bons \"haut parleurs\" (speakers) et rendant une bonne restitution, cependant si l'on \u00e9coute l'instrument sur de bons haut parleurs le r\u00e9sultat est d\u00e9sastreux.","title":"R\u00e9cup\u00e9ration des \u00e9chantillons et premiers traitements"},{"location":"product/CreationInstrument/#4-construction-et-repartition-des-sons-sur-linstrument","text":"Une fois les sons r\u00e9cup\u00e9r\u00e9s et enregistr\u00e9s, il reste une phase importante dans la construction sonore de l'instrument : le \"mapping\". Le \"mapping\" consiste \u00e0 attribuer un son \u00e0 une ou plusieurs notes de l'instrument, quelques guides ci dessous permettront de tirer le meilleur de l'\u00e9chantillonnage r\u00e9alis\u00e9: Mapper les sons dans les m\u00eames sections de registres, autrement dit : ne prenez pas une note du chant pour la mettre sur une note de l'accompagnement. Connaissez la facture de votre instrument et regardez bien les diff\u00e9rents types de tuyaux pour prendre les sons ad\u00e9quats. Choisissez dans les sons d'une section de registre, un ou plusieurs sons bien enregistr\u00e9(s). Il arrive que certains tuyaux ne soient pas bien accord\u00e9s ou r\u00e9agissent diff\u00e9remment de leur voisins. Cela peut \u00eatre souhaitable pour la bonne conformit\u00e9 de restitution. Si un tyau est \"particulier\" et que vous souhaitez garder ce comportement, enregistrez alors les tuyaux voisins. Si vous utilisez ce son sur plusieurs tuyaux, vous g\u00e9n\u00e9ralisez alors ce caract\u00e8re particulier, donc vous changez l'identit\u00e9 de l'instrument. N'associez pas une plage trop grande de notes pour un son, multipliez les sons. En retour d'exp\u00e9rience, ne d\u00e9passez pas 3 notes d'\u00e9cart par rapport \u00e0 la note du son, plus le son est utilis\u00e9 sur les notes \"lointaines\" de la note de base du son, plus le son est d\u00e9form\u00e9 par r\u00e9\u00e9chantillonage par le logiciel. Par exemple, pour mapper les notes \"do, r\u00e9, mi, fa, sol, la\" nous s\u00e9lectionnerons l'\u00e9chantillon RE pour mapper \"do, r\u00e9, mi\" et l'\u00e9chantillon SOL pour \"fa, sol, la\". Multipliez les \u00e9chantillons dans la partie haute de l'instrument, en effet les sons aigu\u00ebs ont des fr\u00e9quences beaucoup plus \u00e9lev\u00e9es et c'est sur cette plage que la d\u00e9formation s'entend malheureusement le plus. C'est dans cette plage que les op\u00e9rations math\u00e9matiques op\u00e9r\u00e9es sur des \u00e9chantillons manquant, divergent pas rapport \u00e0 l'instrument. Bref, la partie mapping est une partie d\u00e9licate de la cr\u00e9ation de l'instrument. Plusieurs essais sont \u00e0 r\u00e9aliser, sur des cartons diff\u00e9rents. L'\u00e9coute unitaire peut ne rien donner mais sur un carton de musique, on reconna\u00eet mieux l'instrument. Pr\u00e9voyez un peu de temps pour cette \u00e9tape.","title":"4 - Construction et r\u00e9partition des sons sur l'instrument"},{"location":"product/CreationInstrument/#en-synthese","text":"Parce que l'important, c'est l'instrument, Soyez m\u00e9ticuleux sur la partie acquisition du son. Essentiel pour un bon instrument \u00e9chantillonn\u00e9. Ne retravaillez pas abusivement num\u00e9riquement les \u00e9chantillons Pr\u00e9servez les caract\u00e9ristiques des sons (et notamment l'attaque) Ne pas n\u00e9gliger la partie association de son et mapping.","title":"En Synth\u00e8se"},{"location":"product/CreationInstrument/#bibliographie-references","text":"http://fr.wikipedia.org/wiki/Microphone http://organ.10.forumer.com/a/creating-organ-soundfonts_post1133.html M\u00e9thode de prise de son l\u00e9g\u00e8re : http://www.fonema.se/blockhead/blockhead.html (anglais)","title":"Bibliographie / R\u00e9f\u00e9rences"},{"location":"product/CreationInstrument/#contributeurs-auteurs-du-document","text":"Patrice Freydiere (Auteur) Olivier Dupont (Auteur) Pierre Dupont (relecture, adaptation) Pierre Penard (relecture, commentaires)","title":"Contributeurs / Auteurs du document"},{"location":"product/PerfoExtension/","text":"Description de la fonction d'Export DXF Patrice Freydiere - 04/01/2014 Introduction Cette extension permet l'export d'un carton au format DXF pour une perforation avec une machine LASER. Description de l'export L'export du carton r\u00e9alis\u00e9 exporte le r\u00e9sultat dans un fichier au format DXF. Le Format DXF est un format CAD permettant la construction de plans industriels et tr\u00e8s utilis\u00e9 pour les machines \u00e0 commandes num\u00e9riques. Ce format est un fichier TEXTE permettant de d\u00e9crire les traits. Le fichier DXF est divis\u00e9 en calques. Les calques permettent de regrouper un ensemble de traits, le calque peut \u00eatre affich\u00e9 ou masqu\u00e9 en fonction des besoins. Ceci permet de pouvoir regrouper certains \u00e9l\u00e9ments dans le plan. L'export propose deux modes de fonctionnement : un export pour les orgues m\u00e9caniques et un export pour les orgues pneumatiques. Le traitement du carton est diff\u00e9rent suivant ces deux cas d'utilisation. Export Pour les cartons m\u00e9caniques L'export pour les cartons m\u00e9caniques ne modifie pas le carton, le carton est pris tel quel et les trous pr\u00e9sents dans le carton sont dessin\u00e9s au format carr\u00e9 dans le fichier DXF. Il n'y a pas de mise en place de ponts ou de r\u00e9duction de la taille de trous. Export pour les cartons pneumatiques L'export en mode pneumatique effectue des modifications sur le carton. Il est indispensable de mettre des ponts sur des supports fins afin de ne pas fragiliser ces derniers. Il y a donc dans ce cas une transformation r\u00e9alis\u00e9e sur le \"carton\", pour transformer les trous longs en une serie de trous. La transformation est d\u00e9crite ci dessous : Le trou long d'origine du carton est d\u00e9coup\u00e9 en petit trous s\u00e9par\u00e9s par des ponts. La taille des trous et la dimension des ponts sont param\u00e9tr\u00e9s dans l'export. Deux cas peuvent se pr\u00e9senter pour l'export des fins de trous, le sch\u00e9ma ci dessous montre les deux cas possibles: Un param\u00e8tre d'export 'Pas de pont s'il reste...' permet la non cr\u00e9ation d'un pont et d'un trou \u00e0 la fin si la taille du trou restant est inf\u00e9rieure au param\u00e8tre. Ainsi, si la taille du dernier trou est sup\u00e9rieure au param\u00e8tre, on se situe dans le cas 1 du sch\u00e9ma ci dessus Si la taille du dernier trou est inf\u00e9rieure au param\u00e8tre, on se situe dans le cas num\u00e9ro 2 du sch\u00e9ma ci dessus. Param\u00e8tres de l'export L'export propose les param\u00e8tres suivants : Description des param\u00e8tres Sortie pour orgue m\u00e9canique Ce param\u00e8tre propose une sortie au format M\u00e9canique ou Pneumatique Ce param\u00e8tre est important car il influe sur le r\u00e9sultat de sortie et prend d'autres param\u00e8tres associ\u00e9s, comme : la taille des trous, la dimension des ponts et \"pas de pont s'il reste ..\". Taille de trous (pour le cas pneumatique) Dimension des ponts Dans le cas de l'export en mode pneumatique, ce param\u00e8tre d\u00e9finit la taille des ponts entre les petits trous cr\u00e9\u00e9s. Pas de pont s'il reste... Dans le cas o\u00f9 le trou restant est int\u00e9rieur \u00e0 la dimension donn\u00e9e, le trou pr\u00e9c\u00e9dent est agrandi et il n'y a pas de ponts de cr\u00e9\u00e9s. Taille page carton Dans le fichier DXF, des traits sont cr\u00e9\u00e9s pour permettre la cr\u00e9ation des plis (coup\u00e9s \u00e0 mi-\u00e9paisseur). Ces traits sont cr\u00e9\u00e9s dans le fichier dans un calque d\u00e9di\u00e9. R\u00e9sultat de l'export Le r\u00e9sultat de l'export est la cr\u00e9ation de deux fichiers DXF: un fichier _CARTON.DXF contenant les calques et le contenu suivant : Le bord du carton (BORDS_CARTON) : contour uniquement du carton Les pliures recto (PLIURES) : pliures recto uniquement espac\u00e9es de 2 fois la taille de la page du carton Les trous (TROUS) : les traits associ\u00e9s aux d\u00e9coupes des trous. Un second fichier _pliuresverso est \u00e9galement cr\u00e9\u00e9 contenant les pliures verso, espac\u00e9es de 2 fois la taille de la page du carton et d\u00e9cal\u00e9 d'une page par rapport aux plis recto.","title":"PerfoExtension"},{"location":"product/PerfoExtension/#description-de-la-fonction-dexport-dxf","text":"Patrice Freydiere - 04/01/2014","title":"Description de la fonction d'Export DXF"},{"location":"product/PerfoExtension/#introduction","text":"Cette extension permet l'export d'un carton au format DXF pour une perforation avec une machine LASER.","title":"Introduction"},{"location":"product/PerfoExtension/#description-de-lexport","text":"L'export du carton r\u00e9alis\u00e9 exporte le r\u00e9sultat dans un fichier au format DXF. Le Format DXF est un format CAD permettant la construction de plans industriels et tr\u00e8s utilis\u00e9 pour les machines \u00e0 commandes num\u00e9riques. Ce format est un fichier TEXTE permettant de d\u00e9crire les traits. Le fichier DXF est divis\u00e9 en calques. Les calques permettent de regrouper un ensemble de traits, le calque peut \u00eatre affich\u00e9 ou masqu\u00e9 en fonction des besoins. Ceci permet de pouvoir regrouper certains \u00e9l\u00e9ments dans le plan. L'export propose deux modes de fonctionnement : un export pour les orgues m\u00e9caniques et un export pour les orgues pneumatiques. Le traitement du carton est diff\u00e9rent suivant ces deux cas d'utilisation.","title":"Description de l'export"},{"location":"product/PerfoExtension/#export-pour-les-cartons-mecaniques","text":"L'export pour les cartons m\u00e9caniques ne modifie pas le carton, le carton est pris tel quel et les trous pr\u00e9sents dans le carton sont dessin\u00e9s au format carr\u00e9 dans le fichier DXF. Il n'y a pas de mise en place de ponts ou de r\u00e9duction de la taille de trous.","title":"Export Pour les cartons m\u00e9caniques"},{"location":"product/PerfoExtension/#export-pour-les-cartons-pneumatiques","text":"L'export en mode pneumatique effectue des modifications sur le carton. Il est indispensable de mettre des ponts sur des supports fins afin de ne pas fragiliser ces derniers. Il y a donc dans ce cas une transformation r\u00e9alis\u00e9e sur le \"carton\", pour transformer les trous longs en une serie de trous. La transformation est d\u00e9crite ci dessous : Le trou long d'origine du carton est d\u00e9coup\u00e9 en petit trous s\u00e9par\u00e9s par des ponts. La taille des trous et la dimension des ponts sont param\u00e9tr\u00e9s dans l'export. Deux cas peuvent se pr\u00e9senter pour l'export des fins de trous, le sch\u00e9ma ci dessous montre les deux cas possibles: Un param\u00e8tre d'export 'Pas de pont s'il reste...' permet la non cr\u00e9ation d'un pont et d'un trou \u00e0 la fin si la taille du trou restant est inf\u00e9rieure au param\u00e8tre. Ainsi, si la taille du dernier trou est sup\u00e9rieure au param\u00e8tre, on se situe dans le cas 1 du sch\u00e9ma ci dessus Si la taille du dernier trou est inf\u00e9rieure au param\u00e8tre, on se situe dans le cas num\u00e9ro 2 du sch\u00e9ma ci dessus.","title":"Export pour les cartons pneumatiques"},{"location":"product/PerfoExtension/#parametres-de-lexport","text":"L'export propose les param\u00e8tres suivants : Description des param\u00e8tres Sortie pour orgue m\u00e9canique Ce param\u00e8tre propose une sortie au format M\u00e9canique ou Pneumatique Ce param\u00e8tre est important car il influe sur le r\u00e9sultat de sortie et prend d'autres param\u00e8tres associ\u00e9s, comme : la taille des trous, la dimension des ponts et \"pas de pont s'il reste ..\". Taille de trous (pour le cas pneumatique) Dimension des ponts Dans le cas de l'export en mode pneumatique, ce param\u00e8tre d\u00e9finit la taille des ponts entre les petits trous cr\u00e9\u00e9s. Pas de pont s'il reste... Dans le cas o\u00f9 le trou restant est int\u00e9rieur \u00e0 la dimension donn\u00e9e, le trou pr\u00e9c\u00e9dent est agrandi et il n'y a pas de ponts de cr\u00e9\u00e9s. Taille page carton Dans le fichier DXF, des traits sont cr\u00e9\u00e9s pour permettre la cr\u00e9ation des plis (coup\u00e9s \u00e0 mi-\u00e9paisseur). Ces traits sont cr\u00e9\u00e9s dans le fichier dans un calque d\u00e9di\u00e9.","title":"Param\u00e8tres de l'export"},{"location":"product/PerfoExtension/#resultat-de-lexport","text":"Le r\u00e9sultat de l'export est la cr\u00e9ation de deux fichiers DXF: un fichier _CARTON.DXF contenant les calques et le contenu suivant : Le bord du carton (BORDS_CARTON) : contour uniquement du carton Les pliures recto (PLIURES) : pliures recto uniquement espac\u00e9es de 2 fois la taille de la page du carton Les trous (TROUS) : les traits associ\u00e9s aux d\u00e9coupes des trous. Un second fichier _pliuresverso est \u00e9galement cr\u00e9\u00e9 contenant les pliures verso, espac\u00e9es de 2 fois la taille de la page du carton et d\u00e9cal\u00e9 d'une page par rapport aux plis recto.","title":"R\u00e9sultat de l'export"},{"location":"product/Technology/","text":"El\u00e9ments et choix pour la construction du logiciel APrint Langage et plate-forme de construction du logiciel Ce logiciel est construit en utilisant le langage Java et la plate-forme Java pour plusieurs raisons : -Le langage Java est le plus utilis\u00e9 dans le monde, des millions de d\u00e9veloppeurs participent \u00e0 cette plate-forme et d\u00e9veloppent dans ce langage. -Ce langage est sp\u00e9cifi\u00e9 et plusieurs constructeurs de logiciels proposent des impl\u00e9mentations (des impl\u00e9mentations open source existent \u00e9galement, permettant d'assurer une p\u00e9rennit\u00e9 importante des d\u00e9veloppements r\u00e9alis\u00e9s sur cette plate-forme). -La plate-forme Java est une des plus ouvertes, un logiciel d\u00e9velopp\u00e9 en Java peut \u00eatre ex\u00e9cut\u00e9 sous Windows, Linux, Mac OS. Choix dans le design du logiciel Le logiciel a \u00e9t\u00e9 construit en essayant de pouvoir l'utiliser sur le plus grand nombre de plateformes et sans d\u00e9pendance avec un mat\u00e9riel sp\u00e9cifique. Nous avons donc conserv\u00e9 dans les diff\u00e9rentes versions du logiciel une ind\u00e9pendance vis-\u00e0-vis de certaines cartes son ou librairies sp\u00e9cifiques \u00e0 un ordinateur. Pour l'instant aucune acc\u00e9l\u00e9ration mat\u00e9rielle n'est utilis\u00e9e, cela apporte certes peut-\u00eatre une lenteur sur des ordinateurs les moins r\u00e9cents mais nous permet de pouvoir le proposer \u00e0 tous. D'autre part nous avons choisi de construire APrint sans utiliser de plateforme visuelle. Les platesformes visuelles de type netbean ou eclipse peuvent apporter beaucoup en termes d'ergonomie cependant le cycle de vie de ses projets est tr\u00e8s rapide et il est difficile de s'adapter et de suivre les \u00e9volutions aussi rapidement. L'utilisation d'une telle plateforme cr\u00e9e \u00e9galement une d\u00e9pendance importante pour un logiciel qui vivra quelques dizaines d'ann\u00e9es. Nous avons opt\u00e9 pour quelque chose de plus rudimentaire et simple. Orient\u00e9 objet Nous avons opt\u00e9 pour une conception objet, nous permettant de pouvoir d\u00e9cliner certains entrep\u00f4ts d'instruments ou d\u00e9cliner certains types d'instruments. Cette conception nous permet d'\u00eatre mall\u00e9able dans les extensions pouvant \u00eatre propos\u00e9es dans le logiciel ou s'adapter \u00e0 des types d'instruments non pr\u00e9vus initialement. La partie graphique est \u00e9galement con\u00e7ue en composants. Ceci permet la construction d'assistants ou d'\u00e9cran pouvant r\u00e9utiliser tout ou partie du logiciel simplement. Logiciels open source La licence GPL nous a tout de suite convaincu pour ce type de logiciel, cette licence permet de conserver les libert\u00e9s de l'utilisateur tout en interdisant une quelconque restriction sur ses libert\u00e9. Pour plus d'informations sur la licence vous pouvez consulter le site Web de la FSF. Cette licence permet d'adapter ou de corriger le programme librement en fonction de ses besoins. Plusieurs librairies de d\u00e9veloppement ont peut-\u00eatre int\u00e9gr\u00e9 ce projet gr\u00e2ce \u00e0 cette licence.","title":"Choix dans le developpement du logiciel"},{"location":"product/Technology/#elements-et-choix-pour-la-construction-du-logiciel-aprint","text":"","title":"El\u00e9ments et choix pour la construction du logiciel APrint"},{"location":"product/Technology/#langage-et-plate-forme-de-construction-du-logiciel","text":"Ce logiciel est construit en utilisant le langage Java et la plate-forme Java pour plusieurs raisons : -Le langage Java est le plus utilis\u00e9 dans le monde, des millions de d\u00e9veloppeurs participent \u00e0 cette plate-forme et d\u00e9veloppent dans ce langage. -Ce langage est sp\u00e9cifi\u00e9 et plusieurs constructeurs de logiciels proposent des impl\u00e9mentations (des impl\u00e9mentations open source existent \u00e9galement, permettant d'assurer une p\u00e9rennit\u00e9 importante des d\u00e9veloppements r\u00e9alis\u00e9s sur cette plate-forme). -La plate-forme Java est une des plus ouvertes, un logiciel d\u00e9velopp\u00e9 en Java peut \u00eatre ex\u00e9cut\u00e9 sous Windows, Linux, Mac OS.","title":"Langage et plate-forme de construction du logiciel"},{"location":"product/Technology/#choix-dans-le-design-du-logiciel","text":"Le logiciel a \u00e9t\u00e9 construit en essayant de pouvoir l'utiliser sur le plus grand nombre de plateformes et sans d\u00e9pendance avec un mat\u00e9riel sp\u00e9cifique. Nous avons donc conserv\u00e9 dans les diff\u00e9rentes versions du logiciel une ind\u00e9pendance vis-\u00e0-vis de certaines cartes son ou librairies sp\u00e9cifiques \u00e0 un ordinateur. Pour l'instant aucune acc\u00e9l\u00e9ration mat\u00e9rielle n'est utilis\u00e9e, cela apporte certes peut-\u00eatre une lenteur sur des ordinateurs les moins r\u00e9cents mais nous permet de pouvoir le proposer \u00e0 tous. D'autre part nous avons choisi de construire APrint sans utiliser de plateforme visuelle. Les platesformes visuelles de type netbean ou eclipse peuvent apporter beaucoup en termes d'ergonomie cependant le cycle de vie de ses projets est tr\u00e8s rapide et il est difficile de s'adapter et de suivre les \u00e9volutions aussi rapidement. L'utilisation d'une telle plateforme cr\u00e9e \u00e9galement une d\u00e9pendance importante pour un logiciel qui vivra quelques dizaines d'ann\u00e9es. Nous avons opt\u00e9 pour quelque chose de plus rudimentaire et simple.","title":"Choix dans le design du logiciel"},{"location":"product/Technology/#oriente-objet","text":"Nous avons opt\u00e9 pour une conception objet, nous permettant de pouvoir d\u00e9cliner certains entrep\u00f4ts d'instruments ou d\u00e9cliner certains types d'instruments. Cette conception nous permet d'\u00eatre mall\u00e9able dans les extensions pouvant \u00eatre propos\u00e9es dans le logiciel ou s'adapter \u00e0 des types d'instruments non pr\u00e9vus initialement. La partie graphique est \u00e9galement con\u00e7ue en composants. Ceci permet la construction d'assistants ou d'\u00e9cran pouvant r\u00e9utiliser tout ou partie du logiciel simplement.","title":"Orient\u00e9 objet"},{"location":"product/Technology/#logiciels-open-source","text":"La licence GPL nous a tout de suite convaincu pour ce type de logiciel, cette licence permet de conserver les libert\u00e9s de l'utilisateur tout en interdisant une quelconque restriction sur ses libert\u00e9. Pour plus d'informations sur la licence vous pouvez consulter le site Web de la FSF. Cette licence permet d'adapter ou de corriger le programme librement en fonction de ses besoins. Plusieurs librairies de d\u00e9veloppement ont peut-\u00eatre int\u00e9gr\u00e9 ce projet gr\u00e2ce \u00e0 cette licence.","title":"Logiciels open source"},{"location":"product/UtilisationEditeurInstrument/","text":"Utilisation de l'\u00e9diteur d'instruments Fonctionnement du logiciel et fichiers utilis\u00e9s Le fichier .instrumentbundle Le fichier instrumentbundle r\u00e9sultant de la d\u00e9finition d'un instrument est en r\u00e9alit\u00e9 un fichier zip contenant les fichiers wav, la d\u00e9finition de la gamme et les propri\u00e9t\u00e9s de l'instrument. Le fichier .soundsample Le type de fichier soundsample est un fichier permettant de simplifier la r\u00e9utilisation d'\u00e9chantillons (.wav) sur lesquels les propri\u00e9t\u00e9s d'\u00e9chantillons sont enregistr\u00e9s. On a donc dans ce fichier : la note associ\u00e9e \u00e0 l'enregistrement, les propri\u00e9t\u00e9s de bouclage de l'\u00e9chantillon (dans le cas o\u00f9 l'\u00e9chantillon n'est pas assez grand et qu'il faut reprendre une partie de l'\u00e9chantillon pour avoir des notes longues). Ce type de fichier permet entre autres de pouvoir constituer des banques de sons de tuyaux pouvant \u00eatre r\u00e9utilis\u00e9s d'un instrument \u00e0 un autre. Par exemple, la red\u00e9finition de l'ensemble d'instruments d'un m\u00eame facteur, qui a r\u00e9utilis\u00e9 la m\u00eame construction pour les tuyaux (le rendu est donc similaire).","title":"Utilisation de l'\u00e9diteur d'instruments"},{"location":"product/UtilisationEditeurInstrument/#utilisation-de-lediteur-dinstruments","text":"","title":"Utilisation de l'\u00e9diteur d'instruments"},{"location":"product/UtilisationEditeurInstrument/#fonctionnement-du-logiciel-et-fichiers-utilises","text":"","title":"Fonctionnement du logiciel et fichiers utilis\u00e9s"},{"location":"product/UtilisationEditeurInstrument/#le-fichier-instrumentbundle","text":"Le fichier instrumentbundle r\u00e9sultant de la d\u00e9finition d'un instrument est en r\u00e9alit\u00e9 un fichier zip contenant les fichiers wav, la d\u00e9finition de la gamme et les propri\u00e9t\u00e9s de l'instrument.","title":"Le fichier .instrumentbundle"},{"location":"product/UtilisationEditeurInstrument/#le-fichier-soundsample","text":"Le type de fichier soundsample est un fichier permettant de simplifier la r\u00e9utilisation d'\u00e9chantillons (.wav) sur lesquels les propri\u00e9t\u00e9s d'\u00e9chantillons sont enregistr\u00e9s. On a donc dans ce fichier : la note associ\u00e9e \u00e0 l'enregistrement, les propri\u00e9t\u00e9s de bouclage de l'\u00e9chantillon (dans le cas o\u00f9 l'\u00e9chantillon n'est pas assez grand et qu'il faut reprendre une partie de l'\u00e9chantillon pour avoir des notes longues). Ce type de fichier permet entre autres de pouvoir constituer des banques de sons de tuyaux pouvant \u00eatre r\u00e9utilis\u00e9s d'un instrument \u00e0 un autre. Par exemple, la red\u00e9finition de l'ensemble d'instruments d'un m\u00eame facteur, qui a r\u00e9utilis\u00e9 la m\u00eame construction pour les tuyaux (le rendu est donc similaire).","title":"Le fichier .soundsample"},{"location":"product/concepts_introduction/","text":"Concepts - Articles non directement li\u00e9s au logiciel Cette section contient des articles non directement li\u00e9s \u00e0 l'utilisation du logiciel mais aidant \u00e0 la compr\u00e9hension.","title":"Comprendre le logiciel"},{"location":"product/concepts_introduction/#concepts-articles-non-directement-lies-au-logiciel","text":"Cette section contient des articles non directement li\u00e9s \u00e0 l'utilisation du logiciel mais aidant \u00e0 la compr\u00e9hension.","title":"Concepts - Articles non directement li\u00e9s au logiciel"},{"location":"product/dev-extension-import/","text":"D\u00e9veloppement d'une extension d'import de fichier MIDI Les extensions d'imports Java permettent d'enrichir les m\u00e9thodes de conversion d'un fichier MIDI vers un fichier BOOK. Plusieurs interfaces peuvent \u00eatre d\u00e9velopp\u00e9es pour permettre l'ajout d'une fonction d'import MIDI en fichier BOOK. Interfaces JAVA \u00e0 impl\u00e9menter Ce fichier, une fois dans le r\u00e9pertoire du profil utilisateur, est charg\u00e9 au d\u00e9marrage de l'application. L'interface ImportersExtensionPoint ci dessous doit \u00eatre impl\u00e9ment\u00e9e : /** * This extension point permit the extension to implement a custom midi Reading * transformation * * @author Freydiere Patrice * */ public interface ImportersExtensionPoint { /** * Get the MidiImporter associated to an instrument scale * * @param destinationscale * the destination scale * @return an array list of midi importers */ public ArrayList<AbstractMidiImporter> getExtensionImporterInstance( Scale destinationscale); } L'interface permet \u00e0 l'extension de d\u00e9clarer en fonction d'une gamme d'instruments les objets d'import pouvant \u00eatre utilis\u00e9s pour la conversion de MIDI vers BOOK. Impl\u00e9mentation d'un objet d'import MIDI L'impl\u00e9mentation d'un objet d'import MIDI passe par l'impl\u00e9mentation de l'interface AbstractMidiImporter /** * Transposition directe \u00e0 partir d'un fichier midi ... * * @author Freydiere Patrice */ public abstract class AbstractMidiImporter extends AbstractTransformation { public abstract String getDescription(); public abstract MidiConversionResult convert(MidiFile midifile); } \u200b La propri\u00e9t\u00e9 getDescription retourne le texte indiqu\u00e9 dans la conversion possible. La m\u00e9thode convert effectue la conversion du fichier midi et retourne un objet r\u00e9sultat. Cet objet r\u00e9sultat contient deux membres : /** * Bag for getting conversion + associated problems * * @author use * */ public class MidiConversionResult { /** * The result */ public VirtualBook virtualbook; /** * The associated problems linked to the conversion */ public ArrayList<MidiConversionProblem> issues; } Le premier membre virtualbook est le carton lui m\u00eame converti, le membre issues contient les erreurs potentiellement rencontr\u00e9es lors de la conversion et permet \u00e0 l'utilisateur de pouvoir consulter la liste des erreurs \u00e0 corriger pour une bonne conversion en carton. Param\u00e9trage de la conversion Il est parfois demand\u00e9 lors de la conversion des param\u00e8tres suppl\u00e9mentaires, ces param\u00e8tres permettent de r\u00e9gler la conversion et proposer diff\u00e9rentes alternatives lors de la transformation. Deux interfaces peuvent \u00eatre ajout\u00e9es \u00e0 l'impl\u00e9mentation de l'objet AbstractMidiImporter : CustomImporterParameters : celle ci permet \u00e0 l'extension de saisir de fa\u00e7on libre les param\u00e8tres (une m\u00e9thode est appel\u00e9e lors de la demande des param\u00e8tres de conversion) ImporterParameters : cette m\u00e9thode permet de ne pas avoir \u00e0 impl\u00e9menter la saisie des param\u00e8tres, mais confie au logiciel la saisie des param\u00e8tres en fournissant uniquement une description (BeanInfo). Les param\u00e8tres saisis alors par l'utilisateur sont transmis \u00e0 l'extension en utilisant la m\u00e9thode setParameterToUse. L'extension peut alors r\u00e9cup\u00e9rer et utiliser les param\u00e8tres de conversion. D\u00e9finition de l'interface CustomImporterParameters : public interface CustomImporterParameters { void showCustomImporterParameters() throws Exception; } D\u00e9finition de l'interface ImporterParameters : /** * Interface defining the parameters associated to an import, if defined, aprint * ask for the parameters and inform the importer of the parameters * * @author Freydiere Patrice * */ public interface ImporterParameters { /** * Get the bean that define the parameters of the importer * * @return */ public Object getParametersInstanceBean(); /** * Set the parameters to use in the import * * @param parameters */ public void setParametersToUse(Object parameters); }","title":"D\u00e9veloppement d'extensions d'import / transformation de carton"},{"location":"product/dev-extension-import/#developpement-dune-extension-dimport-de-fichier-midi","text":"Les extensions d'imports Java permettent d'enrichir les m\u00e9thodes de conversion d'un fichier MIDI vers un fichier BOOK. Plusieurs interfaces peuvent \u00eatre d\u00e9velopp\u00e9es pour permettre l'ajout d'une fonction d'import MIDI en fichier BOOK.","title":"D\u00e9veloppement d'une extension d'import de fichier MIDI"},{"location":"product/dev-extension-import/#interfaces-java-a-implementer","text":"Ce fichier, une fois dans le r\u00e9pertoire du profil utilisateur, est charg\u00e9 au d\u00e9marrage de l'application. L'interface ImportersExtensionPoint ci dessous doit \u00eatre impl\u00e9ment\u00e9e : /** * This extension point permit the extension to implement a custom midi Reading * transformation * * @author Freydiere Patrice * */ public interface ImportersExtensionPoint { /** * Get the MidiImporter associated to an instrument scale * * @param destinationscale * the destination scale * @return an array list of midi importers */ public ArrayList<AbstractMidiImporter> getExtensionImporterInstance( Scale destinationscale); } L'interface permet \u00e0 l'extension de d\u00e9clarer en fonction d'une gamme d'instruments les objets d'import pouvant \u00eatre utilis\u00e9s pour la conversion de MIDI vers BOOK.","title":"Interfaces JAVA \u00e0 impl\u00e9menter"},{"location":"product/dev-extension-import/#implementation-dun-objet-dimport-midi","text":"L'impl\u00e9mentation d'un objet d'import MIDI passe par l'impl\u00e9mentation de l'interface AbstractMidiImporter /** * Transposition directe \u00e0 partir d'un fichier midi ... * * @author Freydiere Patrice */ public abstract class AbstractMidiImporter extends AbstractTransformation { public abstract String getDescription(); public abstract MidiConversionResult convert(MidiFile midifile); } \u200b La propri\u00e9t\u00e9 getDescription retourne le texte indiqu\u00e9 dans la conversion possible. La m\u00e9thode convert effectue la conversion du fichier midi et retourne un objet r\u00e9sultat. Cet objet r\u00e9sultat contient deux membres : /** * Bag for getting conversion + associated problems * * @author use * */ public class MidiConversionResult { /** * The result */ public VirtualBook virtualbook; /** * The associated problems linked to the conversion */ public ArrayList<MidiConversionProblem> issues; } Le premier membre virtualbook est le carton lui m\u00eame converti, le membre issues contient les erreurs potentiellement rencontr\u00e9es lors de la conversion et permet \u00e0 l'utilisateur de pouvoir consulter la liste des erreurs \u00e0 corriger pour une bonne conversion en carton.","title":"Impl\u00e9mentation d'un objet d'import MIDI"},{"location":"product/dev-extension-import/#parametrage-de-la-conversion","text":"Il est parfois demand\u00e9 lors de la conversion des param\u00e8tres suppl\u00e9mentaires, ces param\u00e8tres permettent de r\u00e9gler la conversion et proposer diff\u00e9rentes alternatives lors de la transformation. Deux interfaces peuvent \u00eatre ajout\u00e9es \u00e0 l'impl\u00e9mentation de l'objet AbstractMidiImporter : CustomImporterParameters : celle ci permet \u00e0 l'extension de saisir de fa\u00e7on libre les param\u00e8tres (une m\u00e9thode est appel\u00e9e lors de la demande des param\u00e8tres de conversion) ImporterParameters : cette m\u00e9thode permet de ne pas avoir \u00e0 impl\u00e9menter la saisie des param\u00e8tres, mais confie au logiciel la saisie des param\u00e8tres en fournissant uniquement une description (BeanInfo). Les param\u00e8tres saisis alors par l'utilisateur sont transmis \u00e0 l'extension en utilisant la m\u00e9thode setParameterToUse. L'extension peut alors r\u00e9cup\u00e9rer et utiliser les param\u00e8tres de conversion. D\u00e9finition de l'interface CustomImporterParameters : public interface CustomImporterParameters { void showCustomImporterParameters() throws Exception; } D\u00e9finition de l'interface ImporterParameters : /** * Interface defining the parameters associated to an import, if defined, aprint * ask for the parameters and inform the importer of the parameters * * @author Freydiere Patrice * */ public interface ImporterParameters { /** * Get the bean that define the parameters of the importer * * @return */ public Object getParametersInstanceBean(); /** * Set the parameters to use in the import * * @param parameters */ public void setParametersToUse(Object parameters); }","title":"Param\u00e9trage de la conversion"},{"location":"product/dev-extension/","text":"D\u00e9velopper des extensions logicielles en Java Le d\u00e9veloppement d'extensions logicielles permet d'ajouter des fonctionnalit\u00e9s qui peuvent \u00eatre distribu\u00e9es s\u00e9par\u00e9ment du logiciel. Les extensions, plus difficiles \u00e0 impl\u00e9menter apportent n\u00e9anmoins de grands atouts dans le d\u00e9veloppement de fonctionnalit\u00e9s. Leur d\u00e9veloppement est r\u00e9alis\u00e9 avec des outils de professionnels qui permettent de construire des fonctionnalit\u00e9s avec une bonne qualit\u00e9 logicielle. Plusieurs outils de d\u00e9veloppement Java peuvent \u00eatre utilis\u00e9s. Par exemple, l'environnement \u00e9clipse est un bon candidat. Dans le logiciel APrint studio, un m\u00e9canisme de chargement de classe \u00e0 l'initialisation du logiciel permet de cr\u00e9er de nouveaux boutons, de nouveaux outils pour manipuler le carton ou permettre un affichage sur la vue cartons. Qu'est-ce qu'une extension ? Une extension est un ensemble de classes Java qui sont rassembl\u00e9es dans un fichier d'archive Java (fichier .jar). Le fichier d'archive est ais\u00e9ment construit \u00e0 partir de l'environnement de d\u00e9veloppement. Ce fichier, une fois dans le r\u00e9pertoire du profil utilisateur, est charg\u00e9 au d\u00e9marrage de l'application. Analyse d'une premi\u00e8re extension Regardons tout d'abord comment impl\u00e9menter une extension permettant d'ajouter de nouvelles barres d'outils dans le carton, ou des \u00e9l\u00e9ments sur le carton lui-m\u00eame. Une simplification a \u00e9t\u00e9 r\u00e9alis\u00e9e pour permettre en une classe Java de cr\u00e9er une extension. Nous allons voir ci-dessous comment utiliser ce principe. D'autres m\u00e9thodes plus riches peuvent \u00e9galement \u00eatre utilis\u00e9es, cependant celles-ci \u00e9tant plus complexes, elles pourront \u00eatre vues dans un deuxi\u00e8me temps. La forme la plus simple d'une extension est une classe Java qui d\u00e9rive de la classe org.barrelorgandiscovery.gui.aprintng.helper.BaseVirtualBookExtension Cette classe impl\u00e9mente les m\u00e9thodes qui sont laiss\u00e9es \u00e0 la discr\u00e9tion du d\u00e9veloppeur. L'impl\u00e9mentation des m\u00e9thodes permet d'effectuer diff\u00e9rentes choses. Analysons les m\u00e9thodes de cette classe : /** * Override this method for giving a name to the extension */ public abstract String getName(); /** * Override an add wished help Menu commands (about for example) */ public abstract void addHelpMenuItem(JMenu helpMenu); /** * Override this method to add a new toolbar to the virtualbook window */ public abstract JToolBar[] addToolBars(); /** * Override this method to add new layer on the book component */ public abstract void addLayers(JVirtualBookScrollableComponent c); La premi\u00e8re m\u00e9thode (getName) permet de retourner le nom de l'extension. Les autres m\u00e9thodes permettent de d\u00e9clarer: de nouveaux \u00e9l\u00e9ments dans le menu d'aide (addHelpMenuItem), d'ajouter des barres d'outils dans la vue carton (addToolBars), d'ajouter des \u00e9l\u00e9ments graphiques dans le composant de carton (addLayers). Nota : Il faut savoir que les d\u00e9veloppements r\u00e9alis\u00e9s en interface graphique sont bas\u00e9s sur swing, tous les composants d\u00e9butant par la lettre J sont des composants swing. La documentation compl\u00e8te de ces composants est disponible dans le Kit de d\u00e9veloppement Java. des tutoriels peuvent \u00e9galement \u00eatre trouv\u00e9s sur Internet. 1 - Premi\u00e8re \u00e9tape, cr\u00e9ation d'un bouton de menu d'aide. Pour cr\u00e9er la premi\u00e8re extension, il faut dans votre environnement de d\u00e9veloppement, cr\u00e9er un nouveau projet Java qui utilisera la biblioth\u00e8que APrint situ\u00e9 dans le r\u00e9pertoire d'installation du logiciel. Ce fichier .Jar int\u00e8gre \u00e9galement les sources du logiciel pour permettre une analyse plus profonde en cas de difficult\u00e9s. Le projet contient un packetage nomm\u00e9 aprintextension. le projet contient \u00e9galement un fichier de propri\u00e9t\u00e9s \u00e0 la racine nomm\u00e9 extensionsng.properties Le projet doit ressembler \u00e0 l'image ci-dessous : Commen\u00e7ons par cr\u00e9er une classe squelette avec l'impl\u00e9mentation de la premi\u00e8re m\u00e9thode : package aprintextension; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import javax.swing.JMenu; import javax.swing.JMenuItem; import javax.swing.JOptionPane; import javax.swing.JToolBar; import org.barrelorgandiscovery.gui.aedit.JVirtualBookScrollableComponent; import org.barrelorgandiscovery.gui.aprintng.helper.BaseVirtualBookExtension; public class MyExtension extends BaseVirtualBookExtension { public MyExtension() throws Exception { super(); } @Override public void addHelpMenuItem(JMenu helpMenu) { JMenuItem it = helpMenu.add(\"Hello Extension \" + getName()); it.addActionListener(new ActionListener(){ @Override public void actionPerformed(ActionEvent e) { JOptionPane.showMessageDialog(null, \"Hello Extension\"); } }); } @Override public String getName() { return \"Mon Extension\"; } @Override public void addLayers(JVirtualBookScrollableComponent c) { } @Override public JToolBar[] addToolBars() { return null; } } 2 - Renseigner le fichier de propri\u00e9t\u00e9s Lors du chargement, les classes que l'application doit charger sont renseign\u00e9es dans le fichier de propri\u00e9t\u00e9. Nous avons renseign\u00e9 le n\u00f4tre comme ceci : extensions=aprintextension.MyExtension Si d'autres extensions doivent \u00eatre charg\u00e9es, les noms des classes sont s\u00e9par\u00e9s par une virgule. 3 - Cr\u00e9ation du fichier d'archive Le fichier d'archive peut \u00eatre cr\u00e9\u00e9 \u00e0 partir de l'environnement de d\u00e9veloppement. Celui ci doit inclure la classe compil\u00e9e et le fichier de propri\u00e9t\u00e9 4 - Test de l'extension Le d\u00e9marrage et le test se fait directement \u00e0 partir de l'outil de d\u00e9veloppement, il faut lancer dans le contexte du projet la classe principale d'APrint Studio, ceci se configure dans Eclipse comme ceci : 5 - R\u00e9sultat Le fichier .Jar une fois finalis\u00e9 peut \u00eatre distribu\u00e9 pour fournir des fonctionnalit\u00e9s suppl\u00e9mentaires, les utilisateurs placeront alors ce fichier \u00e0 la racine du r\u00e9pertoire Aprintstudio de leur profil utilisateur (r\u00e9pertoire Home pour les unixiens ou sur Mac)","title":"D\u00e9veloppement d'extensions"},{"location":"product/dev-extension/#developper-des-extensions-logicielles-en-java","text":"Le d\u00e9veloppement d'extensions logicielles permet d'ajouter des fonctionnalit\u00e9s qui peuvent \u00eatre distribu\u00e9es s\u00e9par\u00e9ment du logiciel. Les extensions, plus difficiles \u00e0 impl\u00e9menter apportent n\u00e9anmoins de grands atouts dans le d\u00e9veloppement de fonctionnalit\u00e9s. Leur d\u00e9veloppement est r\u00e9alis\u00e9 avec des outils de professionnels qui permettent de construire des fonctionnalit\u00e9s avec une bonne qualit\u00e9 logicielle. Plusieurs outils de d\u00e9veloppement Java peuvent \u00eatre utilis\u00e9s. Par exemple, l'environnement \u00e9clipse est un bon candidat. Dans le logiciel APrint studio, un m\u00e9canisme de chargement de classe \u00e0 l'initialisation du logiciel permet de cr\u00e9er de nouveaux boutons, de nouveaux outils pour manipuler le carton ou permettre un affichage sur la vue cartons.","title":"D\u00e9velopper des extensions logicielles en Java"},{"location":"product/dev-extension/#quest-ce-quune-extension","text":"Une extension est un ensemble de classes Java qui sont rassembl\u00e9es dans un fichier d'archive Java (fichier .jar). Le fichier d'archive est ais\u00e9ment construit \u00e0 partir de l'environnement de d\u00e9veloppement. Ce fichier, une fois dans le r\u00e9pertoire du profil utilisateur, est charg\u00e9 au d\u00e9marrage de l'application.","title":"Qu'est-ce qu'une extension ?"},{"location":"product/dev-extension/#analyse-dune-premiere-extension","text":"Regardons tout d'abord comment impl\u00e9menter une extension permettant d'ajouter de nouvelles barres d'outils dans le carton, ou des \u00e9l\u00e9ments sur le carton lui-m\u00eame. Une simplification a \u00e9t\u00e9 r\u00e9alis\u00e9e pour permettre en une classe Java de cr\u00e9er une extension. Nous allons voir ci-dessous comment utiliser ce principe. D'autres m\u00e9thodes plus riches peuvent \u00e9galement \u00eatre utilis\u00e9es, cependant celles-ci \u00e9tant plus complexes, elles pourront \u00eatre vues dans un deuxi\u00e8me temps. La forme la plus simple d'une extension est une classe Java qui d\u00e9rive de la classe org.barrelorgandiscovery.gui.aprintng.helper.BaseVirtualBookExtension Cette classe impl\u00e9mente les m\u00e9thodes qui sont laiss\u00e9es \u00e0 la discr\u00e9tion du d\u00e9veloppeur. L'impl\u00e9mentation des m\u00e9thodes permet d'effectuer diff\u00e9rentes choses. Analysons les m\u00e9thodes de cette classe : /** * Override this method for giving a name to the extension */ public abstract String getName(); /** * Override an add wished help Menu commands (about for example) */ public abstract void addHelpMenuItem(JMenu helpMenu); /** * Override this method to add a new toolbar to the virtualbook window */ public abstract JToolBar[] addToolBars(); /** * Override this method to add new layer on the book component */ public abstract void addLayers(JVirtualBookScrollableComponent c); La premi\u00e8re m\u00e9thode (getName) permet de retourner le nom de l'extension. Les autres m\u00e9thodes permettent de d\u00e9clarer: de nouveaux \u00e9l\u00e9ments dans le menu d'aide (addHelpMenuItem), d'ajouter des barres d'outils dans la vue carton (addToolBars), d'ajouter des \u00e9l\u00e9ments graphiques dans le composant de carton (addLayers). Nota : Il faut savoir que les d\u00e9veloppements r\u00e9alis\u00e9s en interface graphique sont bas\u00e9s sur swing, tous les composants d\u00e9butant par la lettre J sont des composants swing. La documentation compl\u00e8te de ces composants est disponible dans le Kit de d\u00e9veloppement Java. des tutoriels peuvent \u00e9galement \u00eatre trouv\u00e9s sur Internet.","title":"Analyse d'une premi\u00e8re extension"},{"location":"product/dev-extension/#1-premiere-etape-creation-dun-bouton-de-menu-daide","text":"Pour cr\u00e9er la premi\u00e8re extension, il faut dans votre environnement de d\u00e9veloppement, cr\u00e9er un nouveau projet Java qui utilisera la biblioth\u00e8que APrint situ\u00e9 dans le r\u00e9pertoire d'installation du logiciel. Ce fichier .Jar int\u00e8gre \u00e9galement les sources du logiciel pour permettre une analyse plus profonde en cas de difficult\u00e9s. Le projet contient un packetage nomm\u00e9 aprintextension. le projet contient \u00e9galement un fichier de propri\u00e9t\u00e9s \u00e0 la racine nomm\u00e9 extensionsng.properties Le projet doit ressembler \u00e0 l'image ci-dessous : Commen\u00e7ons par cr\u00e9er une classe squelette avec l'impl\u00e9mentation de la premi\u00e8re m\u00e9thode : package aprintextension; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import javax.swing.JMenu; import javax.swing.JMenuItem; import javax.swing.JOptionPane; import javax.swing.JToolBar; import org.barrelorgandiscovery.gui.aedit.JVirtualBookScrollableComponent; import org.barrelorgandiscovery.gui.aprintng.helper.BaseVirtualBookExtension; public class MyExtension extends BaseVirtualBookExtension { public MyExtension() throws Exception { super(); } @Override public void addHelpMenuItem(JMenu helpMenu) { JMenuItem it = helpMenu.add(\"Hello Extension \" + getName()); it.addActionListener(new ActionListener(){ @Override public void actionPerformed(ActionEvent e) { JOptionPane.showMessageDialog(null, \"Hello Extension\"); } }); } @Override public String getName() { return \"Mon Extension\"; } @Override public void addLayers(JVirtualBookScrollableComponent c) { } @Override public JToolBar[] addToolBars() { return null; } }","title":"1 - Premi\u00e8re \u00e9tape, cr\u00e9ation d'un bouton de menu d'aide."},{"location":"product/dev-extension/#2-renseigner-le-fichier-de-proprietes","text":"Lors du chargement, les classes que l'application doit charger sont renseign\u00e9es dans le fichier de propri\u00e9t\u00e9. Nous avons renseign\u00e9 le n\u00f4tre comme ceci : extensions=aprintextension.MyExtension Si d'autres extensions doivent \u00eatre charg\u00e9es, les noms des classes sont s\u00e9par\u00e9s par une virgule.","title":"2 - Renseigner le fichier de propri\u00e9t\u00e9s"},{"location":"product/dev-extension/#3-creation-du-fichier-darchive","text":"Le fichier d'archive peut \u00eatre cr\u00e9\u00e9 \u00e0 partir de l'environnement de d\u00e9veloppement. Celui ci doit inclure la classe compil\u00e9e et le fichier de propri\u00e9t\u00e9","title":"3 - Cr\u00e9ation du fichier d'archive"},{"location":"product/dev-extension/#4-test-de-lextension","text":"Le d\u00e9marrage et le test se fait directement \u00e0 partir de l'outil de d\u00e9veloppement, il faut lancer dans le contexte du projet la classe principale d'APrint Studio, ceci se configure dans Eclipse comme ceci :","title":"4 - Test de l'extension"},{"location":"product/dev-extension/#5-resultat","text":"Le fichier .Jar une fois finalis\u00e9 peut \u00eatre distribu\u00e9 pour fournir des fonctionnalit\u00e9s suppl\u00e9mentaires, les utilisateurs placeront alors ce fichier \u00e0 la racine du r\u00e9pertoire Aprintstudio de leur profil utilisateur (r\u00e9pertoire Home pour les unixiens ou sur Mac)","title":"5 - R\u00e9sultat"},{"location":"product/dev/","text":"D\u00e9velopper sur le logiciel et int\u00e9grer de nouvelles fonctionnalit\u00e9s APrint Studio, est un logiciel Open Source, l'ensemble des \u00e9l\u00e9ments de d\u00e9veloppement et les sources du logiciel sont disponibles sur le site Barrel Organ Repository de GitHub , Chacun a la possibilit\u00e9 de t\u00e9l\u00e9charger le logiciel, comprendre son fonctionnement, l'adapter en fonction de ses besoins. La Licence GPL a \u00e9t\u00e9 utilis\u00e9e pour garantir la libert\u00e9 maximale pour l'utilisateur","title":"Developpement Java"},{"location":"product/dev/#developper-sur-le-logiciel-et-integrer-de-nouvelles-fonctionnalites","text":"APrint Studio, est un logiciel Open Source, l'ensemble des \u00e9l\u00e9ments de d\u00e9veloppement et les sources du logiciel sont disponibles sur le site Barrel Organ Repository de GitHub , Chacun a la possibilit\u00e9 de t\u00e9l\u00e9charger le logiciel, comprendre son fonctionnement, l'adapter en fonction de ses besoins. La Licence GPL a \u00e9t\u00e9 utilis\u00e9e pour garantir la libert\u00e9 maximale pour l'utilisateur","title":"D\u00e9velopper sur le logiciel et int\u00e9grer de nouvelles fonctionnalit\u00e9s"},{"location":"product/documentation-howto/","text":"Howto for documentation -------------------------------- Create an XML file containing the documentation page, put it in the docentries.xml file as a tocitem element - url attribute refers to the xml file - target attribute refers to the java documentation element name the text informations are build from the page title ... launch the build target for constructing the product help .... refresh the docbuild element in the project to view the help result : launch the view help target in the build.xml ant script","title":"Documentation howto"},{"location":"product/getinstruments/","text":"R\u00e9cup\u00e9rer un instrument existant par Freddy Meyer APrint s\u2019occupe de tous les param\u00e8tres de votre orgue (t\u00e9l\u00e9chargeable depuis une biblioth\u00e8que) avec toutes les subtilit\u00e9s que je vais vous expliquer pour une utilisation des plus ais\u00e9es. Video d'explication Ouvrir APrint et importer un instrument Avant toute chose, il faudra importer l\u2019instrument pour lequel vous voulez perforer le carton. Vous aurez ainsi tous les param\u00e8tres (nombres de touches, pas, mesure depuis le bord de r\u00e9f\u00e9rence\u2026) Je vais prendre l\u2019exemple d\u2019un 27/29 touches pneumatique. A l\u2019ouverture de APrint, cliquer sur le bouton \u00ab Aller sur le site \u00bb Un clic gauche sur l\u2019instrument fera appara\u00eetre une adresse Clic gauche maintenu, glisser simplement cette adresse dans la fen\u00eatre \u00ab glisser \u2013 d\u00e9poser des fichiers \u00bb dans la fen\u00eatre d\u2019APrint. Il faudra bien s\u00fbr s\u2019arranger pour que les deux pages soient visibles. Au bout de quelques instants vous aurez l\u2019indication \u00ab instrument import\u00e9 avec succ\u00e8s \u00bb.","title":"R\u00e9cup\u00e9rer des instruments existants"},{"location":"product/getinstruments/#recuperer-un-instrument-existant","text":"par Freddy Meyer APrint s\u2019occupe de tous les param\u00e8tres de votre orgue (t\u00e9l\u00e9chargeable depuis une biblioth\u00e8que) avec toutes les subtilit\u00e9s que je vais vous expliquer pour une utilisation des plus ais\u00e9es. Video d'explication","title":"R\u00e9cup\u00e9rer un instrument existant"},{"location":"product/getinstruments/#ouvrir-aprint-et-importer-un-instrument","text":"Avant toute chose, il faudra importer l\u2019instrument pour lequel vous voulez perforer le carton. Vous aurez ainsi tous les param\u00e8tres (nombres de touches, pas, mesure depuis le bord de r\u00e9f\u00e9rence\u2026) Je vais prendre l\u2019exemple d\u2019un 27/29 touches pneumatique. A l\u2019ouverture de APrint, cliquer sur le bouton \u00ab Aller sur le site \u00bb Un clic gauche sur l\u2019instrument fera appara\u00eetre une adresse Clic gauche maintenu, glisser simplement cette adresse dans la fen\u00eatre \u00ab glisser \u2013 d\u00e9poser des fichiers \u00bb dans la fen\u00eatre d\u2019APrint. Il faudra bien s\u00fbr s\u2019arranger pour que les deux pages soient visibles. Au bout de quelques instants vous aurez l\u2019indication \u00ab instrument import\u00e9 avec succ\u00e8s \u00bb.","title":"Ouvrir APrint et importer un instrument"},{"location":"product/midiimport/","text":"Utilisation de fichiers midi dans APrint Lorsque l'on utilise Aprint pour r\u00e9cup\u00e9rer des fichiers midi, on se pose la question de savoir comment le fichier midi doit \u00eatre format\u00e9 pour \u00eatre interpr\u00e9t\u00e9 correctement dans la conversion Carton. Cet article a pour vocation d'expliquer comment l'import de fichier midi est r\u00e9alis\u00e9 dans Aprint lors d'une conversion en carton. Dans l'import standard Aprint, les op\u00e9rations suivantes sont r\u00e9alis\u00e9es : Lecture du fichier midi et d\u00e9codage du format MIDI Le fichier Midi, ind\u00e9pendamment du format 0 ou 1, est lu. Certains fichiers sont diffus\u00e9s avec des headers MIDI corrompus, des corrections sont apport\u00e9es afin de pouvoir lire l'ensemble des \u00e9v\u00e8nements et des m\u00e9ta messages. Dans sa gestion interne du tempo, APrint converti en microsecondes les informations temporelles du fichier MIDI (les d\u00e9buts de notes, longueurs de notes). Ainsi les informations de tempos ne sont gard\u00e9es qu'\u00e0 titre indicatif. Ce qui permet \u00e9galement \u00e0 APrint de sauvegarder un fichier midi avec un unique tempo de sortie. D\u00e9codage des \u00e9v\u00e8nements midi Les \u00e9v\u00e8nements Midi sont ensuite lus dans les diff\u00e9rents tracks et tri\u00e9s en fonction des \"ticks\" MIDI pour les avoir dans un ordre chronologique. Les \u00e9v\u00e8nements lus gardent une information de track et de canal. Les \u00e9v\u00e8nements de d\u00e9but de note/fin de note sont ensuite convertit en \"note pleine\" avec une date de d\u00e9but (time stamp en microseconde) et une longueur de note. Le fait d'avoir des notes simplifie ensuite la construction du carton virtuel. Interpr\u00e9tation des notes de la gamme Les \u00e9v\u00e8nements MIDI \u00e9tant d\u00e9cod\u00e9s en note avec un d\u00e9but et une fin, on passe ensuite \u00e0 l'interpr\u00e9tation des notes midi pour les mettre dans le carton. La question est comment mettre les bonnes notes sur le carton. Dans le comportement par d\u00e9faut, APrint regarde dans la gamme des noms des notes midi associ\u00e9es, puis recherche dans le fichier midi si la m\u00eame note correspond. Si celle ci existe, elle est r\u00e9cup\u00e9r\u00e9e puis ins\u00e9r\u00e9e dans le carton. Les percussions sont trait\u00e9es de la m\u00eame fa\u00e7on. Le Canal 10 contient l'ensemble des percussions. Si une percussion d\u00e9finie dans APrint existe dans le fichier midi, avec le m\u00eame code, celle ci sera import\u00e9e dans le carton virtuel. Interpr\u00e9tation diff\u00e9rente d'un fichier midi Il arrive que certaines notes existent en double dans la d\u00e9finition du carton, en effet certains instruments de danse ou de foire peuvent avoir la m\u00eame note midi dans l'accompagnement ou dans le chant. On souhaite \u00e9galement parfois effectuer des changements d'octaves ou d'autres transformations associ\u00e9es lors de l'import de fichiers MIDI. Cette probl\u00e9matique peut \u00eatre trait\u00e9e dans Aprint par un petit script associ\u00e9 \u00e0 l'instrument qui permettra de d\u00e9finir comment importer plus pr\u00e9cisemment le fichier sur le carton. Plus pr\u00e9cisemment, on peut choisir dans le fichier midi de d\u00e9caler les basses d'une octave artificiellement pour faire la distinction ou prendre un canal diff\u00e9rent pour cela ou nommer la piste Midi pour faire correspondre la partie \"BASSE\" \"ACCOMPAGNEMENT\" ou \"CHANT\". La mise en place de ce script permet de d\u00e9finir comment on importe un fichier midi et plus pr\u00e9cisemment, comment on fait la correspondance avec le carton pour le placement des pistes. Pour la mise en place de scripts associ\u00e9 \u00e0 un instrument, voir la rubrique de manipulation de fichiers midi.","title":"Midiimport"},{"location":"product/midiimport/#utilisation-de-fichiers-midi-dans-aprint","text":"Lorsque l'on utilise Aprint pour r\u00e9cup\u00e9rer des fichiers midi, on se pose la question de savoir comment le fichier midi doit \u00eatre format\u00e9 pour \u00eatre interpr\u00e9t\u00e9 correctement dans la conversion Carton. Cet article a pour vocation d'expliquer comment l'import de fichier midi est r\u00e9alis\u00e9 dans Aprint lors d'une conversion en carton. Dans l'import standard Aprint, les op\u00e9rations suivantes sont r\u00e9alis\u00e9es :","title":"Utilisation de fichiers midi dans APrint"},{"location":"product/midiimport/#lecture-du-fichier-midi-et-decodage-du-format-midi","text":"Le fichier Midi, ind\u00e9pendamment du format 0 ou 1, est lu. Certains fichiers sont diffus\u00e9s avec des headers MIDI corrompus, des corrections sont apport\u00e9es afin de pouvoir lire l'ensemble des \u00e9v\u00e8nements et des m\u00e9ta messages. Dans sa gestion interne du tempo, APrint converti en microsecondes les informations temporelles du fichier MIDI (les d\u00e9buts de notes, longueurs de notes). Ainsi les informations de tempos ne sont gard\u00e9es qu'\u00e0 titre indicatif. Ce qui permet \u00e9galement \u00e0 APrint de sauvegarder un fichier midi avec un unique tempo de sortie.","title":"Lecture du fichier midi et d\u00e9codage du format MIDI"},{"location":"product/midiimport/#decodage-des-evenements-midi","text":"Les \u00e9v\u00e8nements Midi sont ensuite lus dans les diff\u00e9rents tracks et tri\u00e9s en fonction des \"ticks\" MIDI pour les avoir dans un ordre chronologique. Les \u00e9v\u00e8nements lus gardent une information de track et de canal. Les \u00e9v\u00e8nements de d\u00e9but de note/fin de note sont ensuite convertit en \"note pleine\" avec une date de d\u00e9but (time stamp en microseconde) et une longueur de note. Le fait d'avoir des notes simplifie ensuite la construction du carton virtuel.","title":"D\u00e9codage des \u00e9v\u00e8nements midi"},{"location":"product/midiimport/#interpretation-des-notes-de-la-gamme","text":"Les \u00e9v\u00e8nements MIDI \u00e9tant d\u00e9cod\u00e9s en note avec un d\u00e9but et une fin, on passe ensuite \u00e0 l'interpr\u00e9tation des notes midi pour les mettre dans le carton. La question est comment mettre les bonnes notes sur le carton. Dans le comportement par d\u00e9faut, APrint regarde dans la gamme des noms des notes midi associ\u00e9es, puis recherche dans le fichier midi si la m\u00eame note correspond. Si celle ci existe, elle est r\u00e9cup\u00e9r\u00e9e puis ins\u00e9r\u00e9e dans le carton. Les percussions sont trait\u00e9es de la m\u00eame fa\u00e7on. Le Canal 10 contient l'ensemble des percussions. Si une percussion d\u00e9finie dans APrint existe dans le fichier midi, avec le m\u00eame code, celle ci sera import\u00e9e dans le carton virtuel.","title":"Interpr\u00e9tation des notes de la gamme"},{"location":"product/midiimport/#interpretation-differente-dun-fichier-midi","text":"Il arrive que certaines notes existent en double dans la d\u00e9finition du carton, en effet certains instruments de danse ou de foire peuvent avoir la m\u00eame note midi dans l'accompagnement ou dans le chant. On souhaite \u00e9galement parfois effectuer des changements d'octaves ou d'autres transformations associ\u00e9es lors de l'import de fichiers MIDI. Cette probl\u00e9matique peut \u00eatre trait\u00e9e dans Aprint par un petit script associ\u00e9 \u00e0 l'instrument qui permettra de d\u00e9finir comment importer plus pr\u00e9cisemment le fichier sur le carton. Plus pr\u00e9cisemment, on peut choisir dans le fichier midi de d\u00e9caler les basses d'une octave artificiellement pour faire la distinction ou prendre un canal diff\u00e9rent pour cela ou nommer la piste Midi pour faire correspondre la partie \"BASSE\" \"ACCOMPAGNEMENT\" ou \"CHANT\". La mise en place de ce script permet de d\u00e9finir comment on importe un fichier midi et plus pr\u00e9cisemment, comment on fait la correspondance avec le carton pour le placement des pistes. Pour la mise en place de scripts associ\u00e9 \u00e0 un instrument, voir la rubrique de manipulation de fichiers midi.","title":"Interpr\u00e9tation diff\u00e9rente d'un fichier midi"},{"location":"product/modify_book/","text":"Utiliser les outils de modification du carton La fen\u00eatre du carton, propose une s\u00e9rie d'outils pour modifier ou ajuster le carton. La barre d'outil d'\u00e9dition, pour des modification unitaires. Des quickscripts, permettant d'effectuer des routines de modifications du carton. Utilisation de l'outil de modification unitaire L'outil modifier permet de cr\u00e9er ou supprimer des trous en faisant un gliss\u00e9 d\u00e9pos\u00e9 sur le carton avec le bouton gauche de la souris. une fois le gliss\u00e9 r\u00e9alis\u00e9, le trou est cr\u00e9\u00e9 : pour supprimer un trou, l'op\u00e9ration est la m\u00eame avec le bouton droit de la souris Les pistes ont certaines significations, (Basses, Accompagnement, Chant) une info bulle informe en permanence du r\u00f4le de la piste. Attirance magn\u00e9tique Lors des op\u00e9ration de modification de trous, il est possible de s'aligner sur les trous environnant. Lorsque la touche \"Majuscule\" est appuy\u00e9e, le curseur se magn\u00e9tise et se cale sur le d\u00e9but des trous situ\u00e9s sur les m\u00eame timing. Ceci permet de garantir l'alignement des trous sur un m\u00eame temps.","title":"Modifier / Adjuster un carton"},{"location":"product/modify_book/#utiliser-les-outils-de-modification-du-carton","text":"La fen\u00eatre du carton, propose une s\u00e9rie d'outils pour modifier ou ajuster le carton. La barre d'outil d'\u00e9dition, pour des modification unitaires. Des quickscripts, permettant d'effectuer des routines de modifications du carton.","title":"Utiliser les outils de modification du carton"},{"location":"product/modify_book/#utilisation-de-loutil-de-modification-unitaire","text":"L'outil modifier permet de cr\u00e9er ou supprimer des trous en faisant un gliss\u00e9 d\u00e9pos\u00e9 sur le carton avec le bouton gauche de la souris. une fois le gliss\u00e9 r\u00e9alis\u00e9, le trou est cr\u00e9\u00e9 : pour supprimer un trou, l'op\u00e9ration est la m\u00eame avec le bouton droit de la souris Les pistes ont certaines significations, (Basses, Accompagnement, Chant) une info bulle informe en permanence du r\u00f4le de la piste.","title":"Utilisation de l'outil de modification unitaire"},{"location":"product/modify_book/#attirance-magnetique","text":"Lors des op\u00e9ration de modification de trous, il est possible de s'aligner sur les trous environnant. Lorsque la touche \"Majuscule\" est appuy\u00e9e, le curseur se magn\u00e9tise et se cale sur le d\u00e9but des trous situ\u00e9s sur les m\u00eame timing. Ceci permet de garantir l'alignement des trous sur un m\u00eame temps.","title":"Attirance magn\u00e9tique"},{"location":"product/modify_book_sel/","text":"Utiliser la s\u00e9lection La barre d'outil d'\u00e9dition comprend deux outils permettant de s\u00e9lectionner des trous sur le carton. Cette s\u00e9lection permet de supprimer un ensemble de trous (en utilisant la touche \"Suppr\") ou utiliser les trous dans un script. S\u00e9lectionner Pour s\u00e9lectionner un ensemble de trous, utiliser l'outil de s\u00e9lection. Modifier une s\u00e9lection En utilisant les touches \"Majuscule\" et \"Control\" du clavier lors de l'action de s\u00e9lection, il est possible d'unitairement modifier la s\u00e9lection en ajoutant des trous. Agir avec la s\u00e9lection Les notes s\u00e9lectionn\u00e9es peuvent \u00eatre supprim\u00e9es en utilisant la touche Suppr. D'autres modifications sont possibles via des scripts \"quickscripts\", r\u00e9f\u00e9rez vous \u00e0 la section d'aide correspondante.","title":"Utiliser la s\u00e9lection"},{"location":"product/modify_book_sel/#utiliser-la-selection","text":"La barre d'outil d'\u00e9dition comprend deux outils permettant de s\u00e9lectionner des trous sur le carton. Cette s\u00e9lection permet de supprimer un ensemble de trous (en utilisant la touche \"Suppr\") ou utiliser les trous dans un script.","title":"Utiliser la s\u00e9lection"},{"location":"product/modify_book_sel/#selectionner","text":"Pour s\u00e9lectionner un ensemble de trous, utiliser l'outil de s\u00e9lection.","title":"S\u00e9lectionner"},{"location":"product/modify_book_sel/#modifier-une-selection","text":"En utilisant les touches \"Majuscule\" et \"Control\" du clavier lors de l'action de s\u00e9lection, il est possible d'unitairement modifier la s\u00e9lection en ajoutant des trous.","title":"Modifier une s\u00e9lection"},{"location":"product/modify_book_sel/#agir-avec-la-selection","text":"Les notes s\u00e9lectionn\u00e9es peuvent \u00eatre supprim\u00e9es en utilisant la touche Suppr. D'autres modifications sont possibles via des scripts \"quickscripts\", r\u00e9f\u00e9rez vous \u00e0 la section d'aide correspondante.","title":"Agir avec la s\u00e9lection"},{"location":"product/numeriser/","text":"Num\u00e9riser un carton Plusieures m\u00e9thodes de num\u00e9risation sont possibles directement avec le logiciel Numerisation en utilisant un lecteur physique MIDI, Cette m\u00e9thode utilise un mat\u00e9riel de num\u00e9risation, tel que propos\u00e9 par Christian Blanchard ou d'autres fabricants dans le monde. Ces mat\u00e9riels enregistrent dans un fichier Midi ou un fichier Texte les timings et la pr\u00e9sence des notes. Dans le cas de fichier Midi, le module Model Editor est tout indiqu\u00e9 pour lire le fichier Midi et effectuer la correspondance avec la gamme de l'instrument. Le mod\u00e8le Editor permet \u00e9galement de pouvoir traiter le cas de fichier autres (en utilisant le processeur script, la lecture du fichier d'entr\u00e9e peut \u00eatre r\u00e9alis\u00e9), les notes sont ensuite \u00e9galement transf\u00e9rables sur le carton. Num\u00e9risation en utilisant des photos ou des videos La num\u00e9risation est effectu\u00e9e \u00e0 partir de prise de vue image du carton. Plusieures possibilit\u00e9s directement avec le logiciel : 1 - utilisation d'une webcam, avec une prise de vue r\u00e9guli\u00e8re (chaque X secondes) 2 - utilisation d'une webcam et d'une machine sp\u00e9ciale utilisant GRBL (lazer ou punch), aprint pilote alors l'avancement du carton 3 - utilisation d'un fichier video, r\u00e9alis\u00e9 avec un t\u00e9l\u00e9phone ou autre m\u00e9thode d'acquisition Les \u00e9tapes de num\u00e9risation en utilisant des photos ou des vid\u00e9os La num\u00e9risation pour l'utilisation, la modification, la reperforation, est d\u00e9coup\u00e9e en deux phases: une phase de construction d'une image compl\u00e8te du carton \u00e0 partir de toutes les prises de vues. puis reconnaissance de l'image pour cr\u00e9er un fichier book ou midi","title":"Numeriser un carton"},{"location":"product/numeriser/#numeriser-un-carton","text":"Plusieures m\u00e9thodes de num\u00e9risation sont possibles directement avec le logiciel","title":"Num\u00e9riser un carton"},{"location":"product/numeriser/#numerisation-en-utilisant-un-lecteur-physique-midi","text":"Cette m\u00e9thode utilise un mat\u00e9riel de num\u00e9risation, tel que propos\u00e9 par Christian Blanchard ou d'autres fabricants dans le monde. Ces mat\u00e9riels enregistrent dans un fichier Midi ou un fichier Texte les timings et la pr\u00e9sence des notes. Dans le cas de fichier Midi, le module Model Editor est tout indiqu\u00e9 pour lire le fichier Midi et effectuer la correspondance avec la gamme de l'instrument. Le mod\u00e8le Editor permet \u00e9galement de pouvoir traiter le cas de fichier autres (en utilisant le processeur script, la lecture du fichier d'entr\u00e9e peut \u00eatre r\u00e9alis\u00e9), les notes sont ensuite \u00e9galement transf\u00e9rables sur le carton.","title":"Numerisation en utilisant un lecteur physique MIDI,"},{"location":"product/numeriser/#numerisation-en-utilisant-des-photos-ou-des-videos","text":"La num\u00e9risation est effectu\u00e9e \u00e0 partir de prise de vue image du carton. Plusieures possibilit\u00e9s directement avec le logiciel : 1 - utilisation d'une webcam, avec une prise de vue r\u00e9guli\u00e8re (chaque X secondes) 2 - utilisation d'une webcam et d'une machine sp\u00e9ciale utilisant GRBL (lazer ou punch), aprint pilote alors l'avancement du carton 3 - utilisation d'un fichier video, r\u00e9alis\u00e9 avec un t\u00e9l\u00e9phone ou autre m\u00e9thode d'acquisition","title":"Num\u00e9risation en utilisant des photos ou des videos"},{"location":"product/numeriser/#les-etapes-de-numerisation-en-utilisant-des-photos-ou-des-videos","text":"La num\u00e9risation pour l'utilisation, la modification, la reperforation, est d\u00e9coup\u00e9e en deux phases: une phase de construction d'une image compl\u00e8te du carton \u00e0 partir de toutes les prises de vues. puis reconnaissance de l'image pour cr\u00e9er un fichier book ou midi","title":"Les \u00e9tapes de num\u00e9risation en utilisant des photos ou des vid\u00e9os"},{"location":"product/perforation_cartons/","text":"Section perforation de cartons La perforation de cartons est r\u00e9alis\u00e9e actuellement en utilisant une machine num\u00e9rique, utilisant le format GCODE. D'autres types de machines peuvent \u00eatre pr\u00e9d\u00e9finis et ajout\u00e9s par d\u00e9veloppement. Deux types de perforations sont disponibles : Perforation Krunch (avec un poin\u00e7on) en utilisant GRBL Punch Perforation Lazer GRBL 1.1, (Version 2020) Des exports Gcode sont \u00e9galement disponibles, permettant d'adapter ou d'ajuster les commandes de per\u00e7age.","title":"Perforer un carton"},{"location":"product/perforation_cartons/#section-perforation-de-cartons","text":"La perforation de cartons est r\u00e9alis\u00e9e actuellement en utilisant une machine num\u00e9rique, utilisant le format GCODE. D'autres types de machines peuvent \u00eatre pr\u00e9d\u00e9finis et ajout\u00e9s par d\u00e9veloppement. Deux types de perforations sont disponibles : Perforation Krunch (avec un poin\u00e7on) en utilisant GRBL Punch Perforation Lazer GRBL 1.1, (Version 2020) Des exports Gcode sont \u00e9galement disponibles, permettant d'adapter ou d'ajuster les commandes de per\u00e7age.","title":"Section perforation de cartons"},{"location":"product/referenceapi/","text":"Documentation de r\u00e9f\u00e9rence pour le scripting","title":"APrint API Reference"},{"location":"product/referenceapi/#documentation-de-reference-pour-le-scripting","text":"","title":"Documentation de r\u00e9f\u00e9rence pour le scripting"},{"location":"product/repositories/","text":"Description de la gestion des instruments et des gammes Introduction Le logiciel g\u00e8re les instruments et les gammes avec un concept d'entrep\u00f4t (ou repository en anglais). Cet entrep\u00f4t peut \u00eatre stock\u00e9 sous la forme d'un r\u00e9pertoire ou d'un espace sur le web (pour permettre un \u00e9change facile avec les autres utilisateurs). Le logiciel g\u00e8re alors les instruments ou les gammes sauvegard\u00e9es comme le d\u00e9finit l'entrep\u00f4t. Plusieurs types d'entrep\u00f4ts sont disponibles actuellement Un entrep\u00f4t \"buildin\" c'est un entrep\u00f4t existant en m\u00e9moire du logiciel, celui ci ne peut pas \u00eatre mis \u00e0 jour Un entrep\u00f4t de type \"zip\", qui permet de mettre dans un fichier compress\u00e9 un ensemble de fichier de gamme ou d'instruments Un entrep\u00f4t de type \"folder\" ou r\u00e9pertoire (dossier), qui enregistre les diff\u00e9rents \u00e9l\u00e9ments sous forme de fichier dans un dossier Un entrep\u00f4t de type \"web\" qui est sous forme de dossier ou r\u00e9pertoire et qui permet une interaction avec un espace partag\u00e9 sur internet. Ceci permet de r\u00e9cup\u00e9rer des instruments ou des gammes mis \u00e0 disposition par les autres utilisateurs. Description des diff\u00e9rents \u00e9l\u00e9ments stock\u00e9s Le programme enregistre dans l'entrep\u00f4t deux types d'informations, les gammes et les instruments. Les instruments peuvent avoir plusieurs formes (ceci est li\u00e9e \u00e0 la compatibilit\u00e9 avec les anciennes versions du logiciel). Les gammes Le fichier de gamme est un fichier textuel d\u00e9crivant les informations qui peuvent \u00eatre communes \u00e0 plusieurs instruments. (capacit\u00e9 de note, contraintes, type de lecture de l'instrument ...) des informations associ\u00e9es comme l'auteur, l'\u00e9tat de la gamme peuvent \u00e9galement \u00eatre enregistr\u00e9es. Les instruments Les instruments peuvent \u00eatre d\u00e9crits de deux fa\u00e7ons : plusieurs fichiers li\u00e9s (un fichier de gamme, un fichier de description d'instrument, un fichier de banque de sons et un fichier d'images) un seul fichier \".instrumentbundle\" contenant tous ces \u00e9l\u00e9ments. Le fichier .instrumentbundle est celui qui est actuellement utilis\u00e9 en r\u00e9f\u00e9rence dans le logiciel. En effet, celui ci regroupe tous les \u00e9l\u00e9ments de description de l'instrument et ind\u00e9pendemment du logiciel. Ce m\u00eame fichier est un fichier zip, contenant des fichiers textes, images au format jpg, et sons associ\u00e9s au format WAV.","title":"Gestion des instruments"},{"location":"product/repositories/#description-de-la-gestion-des-instruments-et-des-gammes","text":"","title":"Description de la gestion des instruments et des gammes"},{"location":"product/repositories/#introduction","text":"Le logiciel g\u00e8re les instruments et les gammes avec un concept d'entrep\u00f4t (ou repository en anglais). Cet entrep\u00f4t peut \u00eatre stock\u00e9 sous la forme d'un r\u00e9pertoire ou d'un espace sur le web (pour permettre un \u00e9change facile avec les autres utilisateurs). Le logiciel g\u00e8re alors les instruments ou les gammes sauvegard\u00e9es comme le d\u00e9finit l'entrep\u00f4t. Plusieurs types d'entrep\u00f4ts sont disponibles actuellement Un entrep\u00f4t \"buildin\" c'est un entrep\u00f4t existant en m\u00e9moire du logiciel, celui ci ne peut pas \u00eatre mis \u00e0 jour Un entrep\u00f4t de type \"zip\", qui permet de mettre dans un fichier compress\u00e9 un ensemble de fichier de gamme ou d'instruments Un entrep\u00f4t de type \"folder\" ou r\u00e9pertoire (dossier), qui enregistre les diff\u00e9rents \u00e9l\u00e9ments sous forme de fichier dans un dossier Un entrep\u00f4t de type \"web\" qui est sous forme de dossier ou r\u00e9pertoire et qui permet une interaction avec un espace partag\u00e9 sur internet. Ceci permet de r\u00e9cup\u00e9rer des instruments ou des gammes mis \u00e0 disposition par les autres utilisateurs.","title":"Introduction"},{"location":"product/repositories/#description-des-differents-elements-stockes","text":"Le programme enregistre dans l'entrep\u00f4t deux types d'informations, les gammes et les instruments. Les instruments peuvent avoir plusieurs formes (ceci est li\u00e9e \u00e0 la compatibilit\u00e9 avec les anciennes versions du logiciel).","title":"Description des diff\u00e9rents \u00e9l\u00e9ments stock\u00e9s"},{"location":"product/repositories/#les-gammes","text":"Le fichier de gamme est un fichier textuel d\u00e9crivant les informations qui peuvent \u00eatre communes \u00e0 plusieurs instruments. (capacit\u00e9 de note, contraintes, type de lecture de l'instrument ...) des informations associ\u00e9es comme l'auteur, l'\u00e9tat de la gamme peuvent \u00e9galement \u00eatre enregistr\u00e9es.","title":"Les gammes"},{"location":"product/repositories/#les-instruments","text":"Les instruments peuvent \u00eatre d\u00e9crits de deux fa\u00e7ons : plusieurs fichiers li\u00e9s (un fichier de gamme, un fichier de description d'instrument, un fichier de banque de sons et un fichier d'images) un seul fichier \".instrumentbundle\" contenant tous ces \u00e9l\u00e9ments. Le fichier .instrumentbundle est celui qui est actuellement utilis\u00e9 en r\u00e9f\u00e9rence dans le logiciel. En effet, celui ci regroupe tous les \u00e9l\u00e9ments de description de l'instrument et ind\u00e9pendemment du logiciel. Ce m\u00eame fichier est un fichier zip, contenant des fichiers textes, images au format jpg, et sons associ\u00e9s au format WAV.","title":"Les instruments"},{"location":"product/work_with_books/","text":"Travailler sur les cartons","title":"Travailler avec les cartons"},{"location":"product/work_with_books/#travailler-sur-les-cartons","text":"","title":"Travailler sur les cartons"},{"location":"product/aprintcommander/","text":"APrint Commander Patrice Freydiere - Mai 2019 APrint commander est un petit boitier permettant de piloter une machine CNC , pour perforer sans PC. Ce petit boitier permet de se passer d'un PC dans l'atelier et perforer \u00e0 partir d'une clef USB. Installation du boitier APrintCommander Utilisation Mettre sur une clef USB contenant les fichier \u00e0 perforer. Deux types de fichiers sont accept\u00e9s : les fichier .gcode ou .punch Les fichiers .GCODE contiennent les ordre CNC pilotant la machine. Les fichier .Punch contiennent la description des perforations, ainsi que le carton virtuel. (ce format est ind\u00e9pendant ) Pour perforer un carton : Dans l'\u00e9cran principal, appuyez sur le bouton \"Select Files\" La liste des fichiers est pr\u00e9sent\u00e9e \u00e0 l'utilisateur il est possible de s\u00e9lectionner les fichiers \u00e0 per\u00e7er, puis la s\u00e9lection de \"punch d\u00e9bute le per\u00e7age\" Effectuer des r\u00e9glages sur la machine Dans l'\u00e9cran principal, certains r\u00e9glages ont \u00e9t\u00e9s rendu accessibles en utilisant l'option \"param\u00e8tres\". Le tableau de param\u00e8tres propose : le r\u00e9glage du d\u00e9calage de l'origine du carton/machine le param\u00e8tre de distance entre chaque carton perfor\u00e9s un pilotage de la machine, dans les deux axes L'option Move Machine permet de pouvoir effectuer un homing et des d\u00e9placements machine","title":"Boitier APrint Commander ou comment perforer sans PC"},{"location":"product/aprintcommander/#aprint-commander","text":"Patrice Freydiere - Mai 2019 APrint commander est un petit boitier permettant de piloter une machine CNC , pour perforer sans PC. Ce petit boitier permet de se passer d'un PC dans l'atelier et perforer \u00e0 partir d'une clef USB. Installation du boitier APrintCommander","title":"APrint Commander"},{"location":"product/aprintcommander/#utilisation","text":"Mettre sur une clef USB contenant les fichier \u00e0 perforer. Deux types de fichiers sont accept\u00e9s : les fichier .gcode ou .punch Les fichiers .GCODE contiennent les ordre CNC pilotant la machine. Les fichier .Punch contiennent la description des perforations, ainsi que le carton virtuel. (ce format est ind\u00e9pendant )","title":"Utilisation"},{"location":"product/aprintcommander/#pour-perforer-un-carton","text":"Dans l'\u00e9cran principal, appuyez sur le bouton \"Select Files\" La liste des fichiers est pr\u00e9sent\u00e9e \u00e0 l'utilisateur il est possible de s\u00e9lectionner les fichiers \u00e0 per\u00e7er, puis la s\u00e9lection de \"punch d\u00e9bute le per\u00e7age\"","title":"Pour perforer un carton :"},{"location":"product/aprintcommander/#effectuer-des-reglages-sur-la-machine","text":"Dans l'\u00e9cran principal, certains r\u00e9glages ont \u00e9t\u00e9s rendu accessibles en utilisant l'option \"param\u00e8tres\". Le tableau de param\u00e8tres propose : le r\u00e9glage du d\u00e9calage de l'origine du carton/machine le param\u00e8tre de distance entre chaque carton perfor\u00e9s un pilotage de la machine, dans les deux axes L'option Move Machine permet de pouvoir effectuer un homing et des d\u00e9placements machine","title":"Effectuer des r\u00e9glages sur la machine"},{"location":"product/aprintcommander/installation/","text":"APrint Commander - Installation Patrice Freydiere - Mai 2019 L'installation est simple, car utilise du mat\u00e9riel standard, directement accessible des marchant \u00e9lectronique. Seul la connection \u00e9lectrique peut n\u00e9cessiter une ou deux soudures. La partie logicielles est int\u00e9gr\u00e9e dans une image de carte SD, qu'il faut \u00e9crire sur le support. Mat\u00e9riel n\u00e9cessaire APrint commander repose sur un boitier raspberry PI 3, avec un petit \u00e9cran LCD. Les composants sont : RPI Model 3 \u2013 QuadCore \u2013 1Gb de RAM Ecran LCD 3.5, Driver ILI 9486 \u2013 320x480 \u2013 Touch \u2013 SKU:MPI3501 Carte microSD - 16gb Mise en place sur la machine Le boitier RPI doit \u00eatre aliment\u00e9 en 5V avec un amp\u00e9rage associ\u00e9. Si l'alimentation est trop faible (moins de 1A), le pilotage machine ne sera pas r\u00e9alis\u00e9. En effet la partie commande GRBL est aliment\u00e9e en \u00e9lectrique par le port USB. Il est donc recommand\u00e9 de c\u00e2bler l'alimentation du boitier. Installation de la carte SD Pour utiliser le APrint Commander, il faut une carte SD, de taille 64 gb. Une image de la carte SD est disponible sur le site WEB. Pour \u00e9crire le contenu de la carte SD, il est n\u00e9cessaire d'utiliser un logiciel du type Win32DiskImager , Etapes : 1 - Dans la boite \"Image File\", s\u00e9lectionnez le fichier Image SD , de APrintCommander 2 - Dans la boite \"Device\", s\u00e9lectionnez le lecteur associ\u00e9 \u00e0 la carte 3 - Appuyez sur le bouton \"Write\" pour \u00e9crire l'image sur la carte SD La carte SD est pr\u00eate \u00e0 l'utilisation, Branchez le boitiez et d\u00e9marrez le boitier, l'\u00e9cran suivant doit appara\u00eetre :","title":"APrint Commander - Installation"},{"location":"product/aprintcommander/installation/#aprint-commander-installation","text":"Patrice Freydiere - Mai 2019 L'installation est simple, car utilise du mat\u00e9riel standard, directement accessible des marchant \u00e9lectronique. Seul la connection \u00e9lectrique peut n\u00e9cessiter une ou deux soudures. La partie logicielles est int\u00e9gr\u00e9e dans une image de carte SD, qu'il faut \u00e9crire sur le support.","title":"APrint Commander - Installation"},{"location":"product/aprintcommander/installation/#materiel-necessaire","text":"APrint commander repose sur un boitier raspberry PI 3, avec un petit \u00e9cran LCD. Les composants sont : RPI Model 3 \u2013 QuadCore \u2013 1Gb de RAM Ecran LCD 3.5, Driver ILI 9486 \u2013 320x480 \u2013 Touch \u2013 SKU:MPI3501 Carte microSD - 16gb","title":"Mat\u00e9riel n\u00e9cessaire"},{"location":"product/aprintcommander/installation/#mise-en-place-sur-la-machine","text":"Le boitier RPI doit \u00eatre aliment\u00e9 en 5V avec un amp\u00e9rage associ\u00e9. Si l'alimentation est trop faible (moins de 1A), le pilotage machine ne sera pas r\u00e9alis\u00e9. En effet la partie commande GRBL est aliment\u00e9e en \u00e9lectrique par le port USB. Il est donc recommand\u00e9 de c\u00e2bler l'alimentation du boitier.","title":"Mise en place sur la machine"},{"location":"product/aprintcommander/installation/#installation-de-la-carte-sd","text":"Pour utiliser le APrint Commander, il faut une carte SD, de taille 64 gb. Une image de la carte SD est disponible sur le site WEB. Pour \u00e9crire le contenu de la carte SD, il est n\u00e9cessaire d'utiliser un logiciel du type Win32DiskImager , Etapes : 1 - Dans la boite \"Image File\", s\u00e9lectionnez le fichier Image SD , de APrintCommander 2 - Dans la boite \"Device\", s\u00e9lectionnez le lecteur associ\u00e9 \u00e0 la carte 3 - Appuyez sur le bouton \"Write\" pour \u00e9crire l'image sur la carte SD La carte SD est pr\u00eate \u00e0 l'utilisation, Branchez le boitiez et d\u00e9marrez le boitier, l'\u00e9cran suivant doit appara\u00eetre :","title":"Installation de la carte SD"},{"location":"product/disks/Creation_Instrument_Disques_Carton/","text":"Cr\u00e9ation d'instruments dans aprint studio pour des disques APrint Studio peut \u00eatre utilis\u00e9 pour la construction de carton perfor\u00e9s type Ariston. La gamme peut \u00eatre d\u00e9crite de la m\u00eame fa\u00e7on, certains param\u00e8tres ajout\u00e9s \u00e0 la d\u00e9finition de l'instrument peuvent avoir une signification adapt\u00e9e aux disques, et permettent la g\u00e9n\u00e9ration des disques au format DXF pour \u00eatre perc\u00e9 au lazer, ou autre machine de d\u00e9coupe. Installation du script d'export en DXF des disques Les \u00e9tapes doivent \u00eatre ex\u00e9cut\u00e9es scrupuleusement en attendant la mise en place d'une extension. Fermer aprint studio Recuperez les elements \u00e0 t\u00e9l\u00e9charger pour le faire avec aprint (fichier zip contenant les \u00e9l\u00e9ments). Copier le fichier dexefer.jar dans le r\u00e9pertoire aprintstudio situ\u00e9 dans le r\u00e9pertoire utilisateur (sur mon poste, cela se situe dans C:\\Users\\use\\aprintstudio car mon login de connexion windows est use ) Ouvrez aprint studio et faire glisser sur la fenetre principale (la drop zone),le script DXF Disque.aprintbookgroovyscript L'installation est termin\u00e9e, vous avez alors dans la vision carton, un quick script DXF Disque cr\u00e9ant le fichier DXF associ\u00e9 au carton Le fichier r\u00e9sultat est plac\u00e9 dans le r\u00e9pertoire affich\u00e9 dans la console Comment d\u00e9crire un instrument de type \"Disque\" utilisable avec le script Compl\u00e9ments dans la description de la gamme de l'instrument La gamme est d\u00e9crite dans aprint studio par rapport au centre du disque. La r\u00e9f\u00e9rence est alors indiqu\u00e9e en bas, comme ci dessous. Ainsi : la r\u00e9f\u00e9rence de la gamme est plac\u00e9e en bas La largeur de la gamme indique le Rayon du disque Les autres param\u00e8tres restent valables (axe de la 1ere piste, entre piste, largeur du poin\u00e7on ...) dans l'\u00e9diteur de gamme, ceci se pr\u00e9sente ainsi : Autres param\u00e8tres associ\u00e9s \u00e0 la gamme D'autres param\u00e8tres doivent \u00eatre indiqu\u00e9s dans la gamme pour pouvoir g\u00e9n\u00e9rer l'image DXF du disque. Les gammes peuvent m\u00e9moriser des param\u00e8tres suppl\u00e9mentaires pouvant \u00eatre exploit\u00e9es par des outils sp\u00e9cifiques. On indique ici les param\u00e8tres suppl\u00e9mentaires Parametre central_hole_size ce param\u00e8tre indique le Rayon du trou central du disque Parametre rotate_hole_size ce param\u00e8tre indique le rayon des trous d'entrainement Parametre rotate_hole_distance ce param\u00e8tre indique la distance au centre des trous entra\u00eenement. Programme associ\u00e9 // DXF avec dexefer import org.dexefer.* import org.dexefer.entities.* import org.dexefer.tables.* import org.barrelorgandiscovery.virtualbook.* def pt(x, y) { return new DXFPoint(x, y) } def line(from, to) { return new Line(from, to) } // mise en place du fichier d = new DXFFile() d.tables.add(new VPort(pt(0,0), 1)) // calcul de la longueur s = virtualbook.scale longueur = s.timeToMM(virtualbook.length) print \"Longueur du carton \u00c3 transformer en cercle : \" + longueur + \" mm \\n\" def arcpt(double angle1, double distanceCenter, double offsetx = 0, double offsety = 0) { pt(distanceCenter * Math.cos(angle1) + offsetx, distanceCenter * Math.sin(angle1) + offsety) } def drawArc(double angle1, double angle2, double distanceCenter, double x, double y,int nbpt) { (1..nbpt).each { double a = (angle2 - angle1)/nbpt * (it - 1) + angle1; double a2 = (angle2 - angle1)/nbpt * it + angle1; d.entities.add(line(arcpt(a,distanceCenter, x, y),arcpt(a2,distanceCenter, x, y))) } } def drawArc(double angle1, double angle2, double distanceCenter, int nbpt) { drawArc( angle1, angle2, distanceCenter, 0 , 0, nbpt) } def drawArc(double angle1, double angle2, double distanceCenter) { drawArc(angle1,angle2,distanceCenter,10) } def drawHole(Hole h) { def c = { l -> s.timeToMM(l)/longueur * 2*Math.PI } def start = c(h.timestamp); def end = c(h.timestamp + h.length); def axe = h.track * s.intertrackHeight + s.firstTrackAxis def axeb = axe - s.trackWidth / 2.0 def axet = axe + s.trackWidth / 2.0 drawArc(start,end,axeb) drawArc(start,end, axet) d.entities.add(line(arcpt(start,axeb),arcpt(start,axet))) d.entities.add(line(arcpt(end,axeb),arcpt(end,axet))) } def readDoubleProperty(String name) { def val = s.getProperty(name) if (val == null) throw new Exception(\"la propriete etendue \" + name + \" n'a pas \u00c3\u00a9t\u00c3\u00a9 trouv\u00c3\u00a9e dans la d\u00c3\u00a9finition de la gamme de l'instrument\"); double valeur = Double.parseDouble(val) valeur } print \"Dessin du contour \\n\" // dessin du contour, on utilise la largeur de la gamme // pour la rayon du disque drawArc(0,2*Math.PI, s.width, 100) print \"Dessin du trou central \\n\" // dessin du trou central def rayontrou = readDoubleProperty(\"central_hole_size\") drawArc(0,2*Math.PI, rayontrou, 100) print \"Dessin des trous d'entraitement \\n\" // dessin des trous de centrage def tailletrouscentrage = readDoubleProperty(\"rotate_hole_size\") def distancecentrale = readDoubleProperty(\"rotate_hole_distance\") (0..3).each { def angled = it * Math.PI / 2.0 drawArc(0, 2*Math.PI, tailletrouscentrage, distancecentrale * Math.cos(angled) , distancecentrale * Math.sin(angled), 100) } print \"Dessin des trous\\n\" // dessin des trous virtualbook.holesCopy.each { drawHole(it) } // ecriture du resultat print \"Ecriture du resultat \\n\" def f = File.createTempFile(\"test\", \".dxf\") def fos = new BufferedOutputStream(new FileOutputStream(f)) d.write(fos) fos.close() print \"Fichier de resultat cr\u00c3\u00a9\u00c3\u00a9 :\" + f.absolutePath + \"\\n\"","title":"Creer des disques de cartons"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#creation-dinstruments-dans-aprint-studio-pour-des-disques","text":"APrint Studio peut \u00eatre utilis\u00e9 pour la construction de carton perfor\u00e9s type Ariston. La gamme peut \u00eatre d\u00e9crite de la m\u00eame fa\u00e7on, certains param\u00e8tres ajout\u00e9s \u00e0 la d\u00e9finition de l'instrument peuvent avoir une signification adapt\u00e9e aux disques, et permettent la g\u00e9n\u00e9ration des disques au format DXF pour \u00eatre perc\u00e9 au lazer, ou autre machine de d\u00e9coupe.","title":"Cr\u00e9ation d'instruments dans aprint studio pour des disques"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#installation-du-script-dexport-en-dxf-des-disques","text":"Les \u00e9tapes doivent \u00eatre ex\u00e9cut\u00e9es scrupuleusement en attendant la mise en place d'une extension. Fermer aprint studio Recuperez les elements \u00e0 t\u00e9l\u00e9charger pour le faire avec aprint (fichier zip contenant les \u00e9l\u00e9ments). Copier le fichier dexefer.jar dans le r\u00e9pertoire aprintstudio situ\u00e9 dans le r\u00e9pertoire utilisateur (sur mon poste, cela se situe dans C:\\Users\\use\\aprintstudio car mon login de connexion windows est use ) Ouvrez aprint studio et faire glisser sur la fenetre principale (la drop zone),le script DXF Disque.aprintbookgroovyscript L'installation est termin\u00e9e, vous avez alors dans la vision carton, un quick script DXF Disque cr\u00e9ant le fichier DXF associ\u00e9 au carton Le fichier r\u00e9sultat est plac\u00e9 dans le r\u00e9pertoire affich\u00e9 dans la console","title":"Installation du script d'export en DXF des disques"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#comment-decrire-un-instrument-de-type-disque-utilisable-avec-le-script","text":"","title":"Comment d\u00e9crire un instrument de type \"Disque\" utilisable avec le script"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#complements-dans-la-description-de-la-gamme-de-linstrument","text":"La gamme est d\u00e9crite dans aprint studio par rapport au centre du disque. La r\u00e9f\u00e9rence est alors indiqu\u00e9e en bas, comme ci dessous. Ainsi : la r\u00e9f\u00e9rence de la gamme est plac\u00e9e en bas La largeur de la gamme indique le Rayon du disque Les autres param\u00e8tres restent valables (axe de la 1ere piste, entre piste, largeur du poin\u00e7on ...) dans l'\u00e9diteur de gamme, ceci se pr\u00e9sente ainsi :","title":"Compl\u00e9ments dans la description de la gamme de l'instrument"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#autres-parametres-associes-a-la-gamme","text":"D'autres param\u00e8tres doivent \u00eatre indiqu\u00e9s dans la gamme pour pouvoir g\u00e9n\u00e9rer l'image DXF du disque. Les gammes peuvent m\u00e9moriser des param\u00e8tres suppl\u00e9mentaires pouvant \u00eatre exploit\u00e9es par des outils sp\u00e9cifiques. On indique ici les param\u00e8tres suppl\u00e9mentaires","title":"Autres param\u00e8tres associ\u00e9s \u00e0 la gamme"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#parametre-central_hole_size","text":"ce param\u00e8tre indique le Rayon du trou central du disque","title":"Parametre central_hole_size"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#parametre-rotate_hole_size","text":"ce param\u00e8tre indique le rayon des trous d'entrainement","title":"Parametre rotate_hole_size"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#parametre-rotate_hole_distance","text":"ce param\u00e8tre indique la distance au centre des trous entra\u00eenement.","title":"Parametre rotate_hole_distance"},{"location":"product/disks/Creation_Instrument_Disques_Carton/#programme-associe","text":"// DXF avec dexefer import org.dexefer.* import org.dexefer.entities.* import org.dexefer.tables.* import org.barrelorgandiscovery.virtualbook.* def pt(x, y) { return new DXFPoint(x, y) } def line(from, to) { return new Line(from, to) } // mise en place du fichier d = new DXFFile() d.tables.add(new VPort(pt(0,0), 1)) // calcul de la longueur s = virtualbook.scale longueur = s.timeToMM(virtualbook.length) print \"Longueur du carton \u00c3 transformer en cercle : \" + longueur + \" mm \\n\" def arcpt(double angle1, double distanceCenter, double offsetx = 0, double offsety = 0) { pt(distanceCenter * Math.cos(angle1) + offsetx, distanceCenter * Math.sin(angle1) + offsety) } def drawArc(double angle1, double angle2, double distanceCenter, double x, double y,int nbpt) { (1..nbpt).each { double a = (angle2 - angle1)/nbpt * (it - 1) + angle1; double a2 = (angle2 - angle1)/nbpt * it + angle1; d.entities.add(line(arcpt(a,distanceCenter, x, y),arcpt(a2,distanceCenter, x, y))) } } def drawArc(double angle1, double angle2, double distanceCenter, int nbpt) { drawArc( angle1, angle2, distanceCenter, 0 , 0, nbpt) } def drawArc(double angle1, double angle2, double distanceCenter) { drawArc(angle1,angle2,distanceCenter,10) } def drawHole(Hole h) { def c = { l -> s.timeToMM(l)/longueur * 2*Math.PI } def start = c(h.timestamp); def end = c(h.timestamp + h.length); def axe = h.track * s.intertrackHeight + s.firstTrackAxis def axeb = axe - s.trackWidth / 2.0 def axet = axe + s.trackWidth / 2.0 drawArc(start,end,axeb) drawArc(start,end, axet) d.entities.add(line(arcpt(start,axeb),arcpt(start,axet))) d.entities.add(line(arcpt(end,axeb),arcpt(end,axet))) } def readDoubleProperty(String name) { def val = s.getProperty(name) if (val == null) throw new Exception(\"la propriete etendue \" + name + \" n'a pas \u00c3\u00a9t\u00c3\u00a9 trouv\u00c3\u00a9e dans la d\u00c3\u00a9finition de la gamme de l'instrument\"); double valeur = Double.parseDouble(val) valeur } print \"Dessin du contour \\n\" // dessin du contour, on utilise la largeur de la gamme // pour la rayon du disque drawArc(0,2*Math.PI, s.width, 100) print \"Dessin du trou central \\n\" // dessin du trou central def rayontrou = readDoubleProperty(\"central_hole_size\") drawArc(0,2*Math.PI, rayontrou, 100) print \"Dessin des trous d'entraitement \\n\" // dessin des trous de centrage def tailletrouscentrage = readDoubleProperty(\"rotate_hole_size\") def distancecentrale = readDoubleProperty(\"rotate_hole_distance\") (0..3).each { def angled = it * Math.PI / 2.0 drawArc(0, 2*Math.PI, tailletrouscentrage, distancecentrale * Math.cos(angled) , distancecentrale * Math.sin(angled), 100) } print \"Dessin des trous\\n\" // dessin des trous virtualbook.holesCopy.each { drawHole(it) } // ecriture du resultat print \"Ecriture du resultat \\n\" def f = File.createTempFile(\"test\", \".dxf\") def fos = new BufferedOutputStream(new FileOutputStream(f)) d.write(fos) fos.close() print \"Fichier de resultat cr\u00c3\u00a9\u00c3\u00a9 :\" + f.absolutePath + \"\\n\"","title":"Programme associ\u00e9"},{"location":"product/installation/description_folder/","text":"Description du r\u00e9pertoire de fichiers APrint Studio Conform\u00e9ment \u00e0 la rubrique Installation , APrint utilise un r\u00e9pertoire d\u00e9di\u00e9 pour l'utilisateur pour le stockage des diff\u00e9rentes informations associ\u00e9es au logiciel. Situ\u00e9 initialement dans le r\u00e9pertoire \"aprintstudio\" du profil utilisateur, celui ci peut \u00eatre d\u00e9plac\u00e9 ou renomm\u00e9 \u00e0 partir de la version 2017. D\u00e9tails du contenu du r\u00e9pertoire on trouve dans ce r\u00e9pertoire plusieurs fichiers / r\u00e9pertoire Fichiers .extensions Ces fichiers contiennent des extentions logicielles apportant de nouvelles fonctionnalit\u00e9s R\u00e9pertoires private, private.cache Ce r\u00e9pertoire contient la liste des instruments priv\u00e9s utilis\u00e9s ou cr\u00e9\u00e9s par l'utilisateur. les fichiers .instrumentbundle sont des fichiers zip, contenant la d\u00e9finition d'un instrument complet (gamme, sons, d\u00e9finition ... ). les fichiers .bak sont des sauvegardes du fichier instrument, permettant en cas de perte de revenir \u00e0 une version ant\u00e9rieur. un fichier de controle .sha1 permet uns d\u00e9tection de changement du fichier, ce fichier est g\u00e9r\u00e9 automatiquement et recr\u00e9\u00e9 si non existant. Au d\u00e9marrage du programme ce r\u00e9pertoire est scann\u00e9 pour d\u00e9tecter les instruments. Une structure de cache est cr\u00e9\u00e9 si non existante (dans le r\u00e9pertoire private.cache), pour acc\u00e9l\u00e9rer la prise en main des instruments par le logiciel. par exemple, on retrouve dans la structure des caches, la construction des banques de sons SF2 (soundfont 2 ), utilis\u00e9 pour le jeu des cartons. Le r\u00e9pertoire private.cache est entretenu automatiquement et recr\u00e9\u00e9 si non pr\u00e9sent. R\u00e9pertoire quickscript Ce r\u00e9pertoire contient l'ensemble des quickscripts disponible dans le logiciel, pour plus d'information vous pouvez vous r\u00e9f\u00e9rer \u00e0 la rubrique \"extension par script\". Ce r\u00e9pertoire est lu au red\u00e9marrage du logiciel. R\u00e9pertoire bwebrepository Ce r\u00e9pertoire contient les instrument r\u00e9cup\u00e9r\u00e9 sur le web, il a exactement la m\u00eame structure que le r\u00e9pertoire private et private.cache. R\u00e9pertoire extensionscript Ce r\u00e9pertoire contient la liste des extensions pr\u00e9sent\u00e9es en page principale du logiciel. R\u00e9pertoire searchindex Contient l'indexation des cartons virtuels r\u00e9alis\u00e9e dans le logiciel pour une recherche. Fichiers .properties Ces fichiers sont des propri\u00e9t\u00e9s associ\u00e9es a l'utilisateur, m\u00e9morisation des pr\u00e9f\u00e9rences utilisation pour le logiciel et les diff\u00e9rentes extensions.","title":"Description des fichiers install\u00e9s"},{"location":"product/installation/description_folder/#description-du-repertoire-de-fichiers-aprint-studio","text":"Conform\u00e9ment \u00e0 la rubrique Installation , APrint utilise un r\u00e9pertoire d\u00e9di\u00e9 pour l'utilisateur pour le stockage des diff\u00e9rentes informations associ\u00e9es au logiciel. Situ\u00e9 initialement dans le r\u00e9pertoire \"aprintstudio\" du profil utilisateur, celui ci peut \u00eatre d\u00e9plac\u00e9 ou renomm\u00e9 \u00e0 partir de la version 2017.","title":"Description du r\u00e9pertoire de fichiers APrint Studio"},{"location":"product/installation/description_folder/#details-du-contenu-du-repertoire","text":"on trouve dans ce r\u00e9pertoire plusieurs fichiers / r\u00e9pertoire","title":"D\u00e9tails du contenu du r\u00e9pertoire"},{"location":"product/installation/description_folder/#fichiers-extensions","text":"Ces fichiers contiennent des extentions logicielles apportant de nouvelles fonctionnalit\u00e9s","title":"Fichiers .extensions"},{"location":"product/installation/description_folder/#repertoires-private-privatecache","text":"Ce r\u00e9pertoire contient la liste des instruments priv\u00e9s utilis\u00e9s ou cr\u00e9\u00e9s par l'utilisateur. les fichiers .instrumentbundle sont des fichiers zip, contenant la d\u00e9finition d'un instrument complet (gamme, sons, d\u00e9finition ... ). les fichiers .bak sont des sauvegardes du fichier instrument, permettant en cas de perte de revenir \u00e0 une version ant\u00e9rieur. un fichier de controle .sha1 permet uns d\u00e9tection de changement du fichier, ce fichier est g\u00e9r\u00e9 automatiquement et recr\u00e9\u00e9 si non existant. Au d\u00e9marrage du programme ce r\u00e9pertoire est scann\u00e9 pour d\u00e9tecter les instruments. Une structure de cache est cr\u00e9\u00e9 si non existante (dans le r\u00e9pertoire private.cache), pour acc\u00e9l\u00e9rer la prise en main des instruments par le logiciel. par exemple, on retrouve dans la structure des caches, la construction des banques de sons SF2 (soundfont 2 ), utilis\u00e9 pour le jeu des cartons. Le r\u00e9pertoire private.cache est entretenu automatiquement et recr\u00e9\u00e9 si non pr\u00e9sent.","title":"R\u00e9pertoires private, private.cache"},{"location":"product/installation/description_folder/#repertoire-quickscript","text":"Ce r\u00e9pertoire contient l'ensemble des quickscripts disponible dans le logiciel, pour plus d'information vous pouvez vous r\u00e9f\u00e9rer \u00e0 la rubrique \"extension par script\". Ce r\u00e9pertoire est lu au red\u00e9marrage du logiciel.","title":"R\u00e9pertoire quickscript"},{"location":"product/installation/description_folder/#repertoire-bwebrepository","text":"Ce r\u00e9pertoire contient les instrument r\u00e9cup\u00e9r\u00e9 sur le web, il a exactement la m\u00eame structure que le r\u00e9pertoire private et private.cache.","title":"R\u00e9pertoire bwebrepository"},{"location":"product/installation/description_folder/#repertoire-extensionscript","text":"Ce r\u00e9pertoire contient la liste des extensions pr\u00e9sent\u00e9es en page principale du logiciel.","title":"R\u00e9pertoire extensionscript"},{"location":"product/installation/description_folder/#repertoire-searchindex","text":"Contient l'indexation des cartons virtuels r\u00e9alis\u00e9e dans le logiciel pour une recherche.","title":"R\u00e9pertoire searchindex"},{"location":"product/installation/description_folder/#fichiers-properties","text":"Ces fichiers sont des propri\u00e9t\u00e9s associ\u00e9es a l'utilisateur, m\u00e9morisation des pr\u00e9f\u00e9rences utilisation pour le logiciel et les diff\u00e9rentes extensions.","title":"Fichiers .properties"},{"location":"product/installation/download/","text":"R\u00e9cup\u00e9ration des fichiers d'installation Les fichiers d'installation sont r\u00e9cup\u00e9rables sur le site web de barrel organ discovery Rubrique de t\u00e9l\u00e9chargement du site En fonction de votre plateforme, un installeur est disponible ou non.","title":"R\u00e9cup\u00e9rer les fichiers d'installation"},{"location":"product/installation/download/#recuperation-des-fichiers-dinstallation","text":"Les fichiers d'installation sont r\u00e9cup\u00e9rables sur le site web de barrel organ discovery Rubrique de t\u00e9l\u00e9chargement du site En fonction de votre plateforme, un installeur est disponible ou non.","title":"R\u00e9cup\u00e9ration des fichiers d'installation"},{"location":"product/installation/etapes/","text":"Etapes d'installation Installation sous windows L'installation est rendue simple sous windows grace \u00e0 l'installeur. 7 \u00e9tapes rapides sont propos\u00e9es pour l'installation. Choix des composants additionels (extensions + documentation ..) Nouveau en version 2017 , choix du r\u00e9pertoire contenant les fichiers instruments, scripts. Le choix par d\u00e9faut est le choix habituel de vos fichiers existants. (dans le cas d'une mise \u00e0 jour). Vous pouvez consulter la rubrique avanc\u00e9e pour plus de d\u00e9tails. L'installation est en cours. L'installation est termin\u00e9e Le logiciel est maintenant accessible du menu d\u00e9marr\u00e9. Installation et utilisation sous MacOS Sous Mac OS, le fichier aprint.jar est fournit, il contient le programme, et peut \u00eatre lanc\u00e9 directement par \"double click\". Depuis la version 2016, Java 8 est n\u00e9cessaire, dans le cas o\u00f9 le programme ne d\u00e9marre pas, veuillez v\u00e9rifier votre version de java install\u00e9. L'utilisation des extensions de perforation ou reconnaissance de cartons, doit \u00eatre install\u00e9 dans une 2 eme \u00e9tape. Le fichiers .extensions associ\u00e9s sont fournis \u00e9galement. Pour les mettre en place, placez ces fichiers \u00e0 la racine du r\u00e9pertoire de l'utilisateur /home/[utilisateur]/aprintstudio Lors du prochain lancement du logiciel, les extensions seront prise en compte et apparaitront dans les menus respectifs. En cas de problemes En cas de probl\u00e8mes, vous pouvez r\u00e9soudre ceux ci en lan\u00e7ant une ligne de commande java en sp\u00e9cifiant les param\u00e8tres manuellement. Les erreurs graves apparaitrons dans la console et vous donneront des informations sur l'origine du probl\u00e8me (manque de m\u00e9moire, erreur de lecture .. etc ..) Lancez la ligne suivante sur une seule ligne : java -Xmx3go -cp aprint.jar org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap Vous pouvez trouver \u00e0 cette url des informations compl\u00e9mentaires sur l'utilisation java / maxosx : https://www.java.com/fr/download/faq/java_mac.xml","title":"Installation sous Windows"},{"location":"product/installation/etapes/#etapes-dinstallation","text":"","title":"Etapes d'installation"},{"location":"product/installation/etapes/#installation-sous-windows","text":"L'installation est rendue simple sous windows grace \u00e0 l'installeur. 7 \u00e9tapes rapides sont propos\u00e9es pour l'installation. Choix des composants additionels (extensions + documentation ..) Nouveau en version 2017 , choix du r\u00e9pertoire contenant les fichiers instruments, scripts. Le choix par d\u00e9faut est le choix habituel de vos fichiers existants. (dans le cas d'une mise \u00e0 jour). Vous pouvez consulter la rubrique avanc\u00e9e pour plus de d\u00e9tails. L'installation est en cours. L'installation est termin\u00e9e Le logiciel est maintenant accessible du menu d\u00e9marr\u00e9.","title":"Installation sous windows"},{"location":"product/installation/etapes/#installation-et-utilisation-sous-macos","text":"Sous Mac OS, le fichier aprint.jar est fournit, il contient le programme, et peut \u00eatre lanc\u00e9 directement par \"double click\". Depuis la version 2016, Java 8 est n\u00e9cessaire, dans le cas o\u00f9 le programme ne d\u00e9marre pas, veuillez v\u00e9rifier votre version de java install\u00e9. L'utilisation des extensions de perforation ou reconnaissance de cartons, doit \u00eatre install\u00e9 dans une 2 eme \u00e9tape. Le fichiers .extensions associ\u00e9s sont fournis \u00e9galement. Pour les mettre en place, placez ces fichiers \u00e0 la racine du r\u00e9pertoire de l'utilisateur /home/[utilisateur]/aprintstudio Lors du prochain lancement du logiciel, les extensions seront prise en compte et apparaitront dans les menus respectifs.","title":"Installation et utilisation sous MacOS"},{"location":"product/installation/etapes/#en-cas-de-problemes","text":"En cas de probl\u00e8mes, vous pouvez r\u00e9soudre ceux ci en lan\u00e7ant une ligne de commande java en sp\u00e9cifiant les param\u00e8tres manuellement. Les erreurs graves apparaitrons dans la console et vous donneront des informations sur l'origine du probl\u00e8me (manque de m\u00e9moire, erreur de lecture .. etc ..) Lancez la ligne suivante sur une seule ligne : java -Xmx3go -cp aprint.jar org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap Vous pouvez trouver \u00e0 cette url des informations compl\u00e9mentaires sur l'utilisation java / maxosx : https://www.java.com/fr/download/faq/java_mac.xml","title":"En cas de problemes"},{"location":"product/installation/installation/","text":"Installation avanc\u00e9e Depuis la version 2017, une option avanc\u00e9es permet de choisir pour l'installation donn\u00e9e, le r\u00e9pertoire contenant les fichiers utilisateurs Plusieurs usages sont couverts avec ce choix de r\u00e9pertoire : Installation de plusieurs versions ind\u00e9pendantes c\u00f4te \u00e0 c\u00f4te (par exemple, la derni\u00e8re version et une version utilis\u00e9e en production). Choix de plusieurs configurations (combinaisons d'instruments). Installation sur l'ordinateur de plusieures version APrint Studio Par d\u00e9faut lors de l'installation APrint Studio, l'ensemble des informations d'instruments, de gammes, et param\u00e9trages sont stock\u00e9s dans le r\u00e9pertoire aprintstudio situ\u00e9 dans le r\u00e9pertoire utilisateur (dans c:\\users\\[utilisateur]\\aprintstudio pour windows, ou /home/[utilisateur]/aprintstudio) Il est possible de sp\u00e9cifier un r\u00e9pertoire de configuration d\u00e9di\u00e9 \u00e0 une nouvelle installation, pour permettre l'installation de deux versions diff\u00e9rentes sur le m\u00eame ordinateur. Ceci est possible en ajoutant un param\u00e8tre -Dmainfolder=c:\\aprintstudio , dans la ligne de commande d'\u00e9x\u00e9cution. Le r\u00e9pertoire d'instrument, script, pr\u00e9f\u00e9rence est cr\u00e9\u00e9 automatiquement au premier d\u00e9marrage","title":"Installation, param\u00e9trage"},{"location":"product/installation/installation/#installation-avancee","text":"Depuis la version 2017, une option avanc\u00e9es permet de choisir pour l'installation donn\u00e9e, le r\u00e9pertoire contenant les fichiers utilisateurs Plusieurs usages sont couverts avec ce choix de r\u00e9pertoire : Installation de plusieurs versions ind\u00e9pendantes c\u00f4te \u00e0 c\u00f4te (par exemple, la derni\u00e8re version et une version utilis\u00e9e en production). Choix de plusieurs configurations (combinaisons d'instruments).","title":"Installation avanc\u00e9e"},{"location":"product/installation/installation/#installation-sur-lordinateur-de-plusieures-version-aprint-studio","text":"Par d\u00e9faut lors de l'installation APrint Studio, l'ensemble des informations d'instruments, de gammes, et param\u00e9trages sont stock\u00e9s dans le r\u00e9pertoire aprintstudio situ\u00e9 dans le r\u00e9pertoire utilisateur (dans c:\\users\\[utilisateur]\\aprintstudio pour windows, ou /home/[utilisateur]/aprintstudio) Il est possible de sp\u00e9cifier un r\u00e9pertoire de configuration d\u00e9di\u00e9 \u00e0 une nouvelle installation, pour permettre l'installation de deux versions diff\u00e9rentes sur le m\u00eame ordinateur. Ceci est possible en ajoutant un param\u00e8tre -Dmainfolder=c:\\aprintstudio , dans la ligne de commande d'\u00e9x\u00e9cution. Le r\u00e9pertoire d'instrument, script, pr\u00e9f\u00e9rence est cr\u00e9\u00e9 automatiquement au premier d\u00e9marrage","title":"Installation sur l'ordinateur de plusieures version APrint Studio"},{"location":"product/installation/lancement_manuel_application/","text":"Lancement APrint \u00e0 partir d'un shell Patrice Freydiere - Juillet 2020 APrint Studio peut \u00eatre lanc\u00e9 en ligne de commande, ceci permet : de pouvoir avoir des informations suppl\u00e9mentaires dans la console en cas de probl\u00e8mes rencontr\u00e9s de r\u00e9gler finement les versions de java utilis\u00e9es (dans le cas o\u00f9 il y a plusieurs java install\u00e9s sur le syst\u00e8me) de d\u00e9finir son mode de fonctionnement et l'organisation des fichiers aprint sur son disque V\u00e9rification des pr\u00e9requis V\u00e9rifiez le pr\u00e9requis : Java 8, (le logiciel fonctionne \u00e9galement sur des versions plus recentes, des travaux sont en cours pour valider le fonctionnement sur les versions actuelles de java). Cette version de java est int\u00e9gr\u00e9e dans l'installeur windows, cependant pour les autres plateformes (linux, mac), il faudra vous la procurer par ailleurs. Nous n'avons test\u00e9 fortement les logiciels que pour la version 8 de Java. Si vous utilisez une version plus recente, contactez nous. Pour v\u00e9rifier la version install\u00e9e, \u00e0 partir d'un shell, lancez la commande : java -version Le r\u00e9sultat doit afficher, la version 8 de java, comme ci dessous java version \"1.8.0_112\" Java(TM) SE Runtime Environment (build 1.8.0_112-b15) Java HotSpot(TM) 64-Bit Server VM (build 25.112-b15, mixed mode) Nota : Dans le cas o\u00f9 vous avez une version de java dans un r\u00e9pertoire d\u00e9di\u00e9, et que cette version n'est pas dans le PATH courant du syst\u00e8me, vous pouvez positionner les variables d'environnement pour aller chercher cette version en pr\u00e9f\u00e9rentiel, comme suit (dans cet exemple, le chemin de java est /opt/java8): export JAVA_HOME=/opt/java8 export PATH=$JAVA_HOME:$PATH en procedant ainsi, le test ci dessus java -version doit fonctionner et retourner alors la bonne version. Lancement d'aprint, \u00e0 partir de java Pour lancer APrint en ligne de commande, c'est la ligne suivant qui est appel\u00e9e : java -Xmx4g -server -cp aprint.jar org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap Cette ligne de commande : Indique o\u00f9 est le fichier aprint.jar , via l'option -cp l'option -Xmx4g indique que l'on \"restreint\" l'application \u00e0 4go de m\u00e9moire, si vous en avez plus, vous pouvez augmenter ce param\u00e8tre org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap est le nom de la classe de lancement de l'application L'option -Dmainfolder=$HOME est facultative et peut \u00eatre ajout\u00e9e, cette option, permet d'indiquer \u00e0 aprint o\u00f9 mettre les fichiers d'instruments, les scripts .. etc, si cette option n'est pas indiqu\u00e9e, c'est le \"home\" de l'utilisateur qui est pris. Cette option permet \u00e9galement de pouvoir installer \"cote \u00e0 cote\" le logiciel pour tester diff\u00e9rentes configuration ou version, sans impacter les autres. L'application se lance alors, Dans le cas d'exception (message d'erreur) dans la console, ceux ci sont g\u00e9n\u00e9ralement explicite, nous pouvons aider \u00e0 d\u00e9coder les param\u00e8tres. Pour plus d'informations sur java et les options de lancement, vous pouvez allez sur ce lien : https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html","title":"Lancement manuel en ligne de commande"},{"location":"product/installation/lancement_manuel_application/#lancement-aprint-a-partir-dun-shell","text":"Patrice Freydiere - Juillet 2020 APrint Studio peut \u00eatre lanc\u00e9 en ligne de commande, ceci permet : de pouvoir avoir des informations suppl\u00e9mentaires dans la console en cas de probl\u00e8mes rencontr\u00e9s de r\u00e9gler finement les versions de java utilis\u00e9es (dans le cas o\u00f9 il y a plusieurs java install\u00e9s sur le syst\u00e8me) de d\u00e9finir son mode de fonctionnement et l'organisation des fichiers aprint sur son disque","title":"Lancement APrint \u00e0 partir d'un shell"},{"location":"product/installation/lancement_manuel_application/#verification-des-prerequis","text":"V\u00e9rifiez le pr\u00e9requis : Java 8, (le logiciel fonctionne \u00e9galement sur des versions plus recentes, des travaux sont en cours pour valider le fonctionnement sur les versions actuelles de java). Cette version de java est int\u00e9gr\u00e9e dans l'installeur windows, cependant pour les autres plateformes (linux, mac), il faudra vous la procurer par ailleurs. Nous n'avons test\u00e9 fortement les logiciels que pour la version 8 de Java. Si vous utilisez une version plus recente, contactez nous. Pour v\u00e9rifier la version install\u00e9e, \u00e0 partir d'un shell, lancez la commande : java -version Le r\u00e9sultat doit afficher, la version 8 de java, comme ci dessous java version \"1.8.0_112\" Java(TM) SE Runtime Environment (build 1.8.0_112-b15) Java HotSpot(TM) 64-Bit Server VM (build 25.112-b15, mixed mode) Nota : Dans le cas o\u00f9 vous avez une version de java dans un r\u00e9pertoire d\u00e9di\u00e9, et que cette version n'est pas dans le PATH courant du syst\u00e8me, vous pouvez positionner les variables d'environnement pour aller chercher cette version en pr\u00e9f\u00e9rentiel, comme suit (dans cet exemple, le chemin de java est /opt/java8): export JAVA_HOME=/opt/java8 export PATH=$JAVA_HOME:$PATH en procedant ainsi, le test ci dessus java -version doit fonctionner et retourner alors la bonne version.","title":"V\u00e9rification des pr\u00e9requis"},{"location":"product/installation/lancement_manuel_application/#lancement-daprint-a-partir-de-java","text":"Pour lancer APrint en ligne de commande, c'est la ligne suivant qui est appel\u00e9e : java -Xmx4g -server -cp aprint.jar org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap Cette ligne de commande : Indique o\u00f9 est le fichier aprint.jar , via l'option -cp l'option -Xmx4g indique que l'on \"restreint\" l'application \u00e0 4go de m\u00e9moire, si vous en avez plus, vous pouvez augmenter ce param\u00e8tre org.barrelorgandiscovery.gui.aprintng.APrintApplicationBootStrap est le nom de la classe de lancement de l'application L'option -Dmainfolder=$HOME est facultative et peut \u00eatre ajout\u00e9e, cette option, permet d'indiquer \u00e0 aprint o\u00f9 mettre les fichiers d'instruments, les scripts .. etc, si cette option n'est pas indiqu\u00e9e, c'est le \"home\" de l'utilisateur qui est pris. Cette option permet \u00e9galement de pouvoir installer \"cote \u00e0 cote\" le logiciel pour tester diff\u00e9rentes configuration ou version, sans impacter les autres. L'application se lance alors, Dans le cas d'exception (message d'erreur) dans la console, ceux ci sont g\u00e9n\u00e9ralement explicite, nous pouvons aider \u00e0 d\u00e9coder les param\u00e8tres. Pour plus d'informations sur java et les options de lancement, vous pouvez allez sur ce lien : https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html","title":"Lancement d'aprint, \u00e0 partir de java"},{"location":"product/instrumentcreation/CreationInstrumentTechniqueAPrint/","text":"El\u00e9ments techniques sur la prise en compte des instruments virtuels Patrice Freydiere 2020 APrint Studio dispose d'un ensemble d'outil permettant de d\u00e9finir ou d'ajuster des d\u00e9finitions d'instruments. Dans ces outils, on retrouve : l'\u00e9diteur de gamme, permettant de d\u00e9finir une gamme, avec sa g\u00e9om\u00e9trie , l'\u00e9diteur d'instrument, permettant d'assembler l'ensemble des \u00e9l\u00e9ments constituants d'un instrument, c'est \u00e0 dire : gamme, d\u00e9finition des sons, d\u00e9finition des contraintes (longueur de trous minimum, .. etc) Depuis les ann\u00e9es 2010, l'ensemble de ces outils int\u00e9gr\u00e9s dans l'\u00e9diteur d'instrument, regrouppant ces fonctionnalit\u00e9s, comme des outils int\u00e9gr\u00e9s et compl\u00e9mentaires permettant la gestion des sons, d\u00e9coupage de sons enregistr\u00e9s. Caract\u00e9ristiques de d\u00e9finition des instruments APrint Studio, permet d'int\u00e9grer les types d'instruments suivants : Orgues de rue Orgues de foire Orgues de danse Boites \u00e0 musique Disques de carton ariston Piano m\u00e9caniques Les gammes d'instruments sont d\u00e9finies par une grille r\u00e9guli\u00e8re d\u00e9finissant l'emplacement des pistes de lecture pneumatique ou m\u00e9canique, \u00e0 partir d'un cot\u00e9 de r\u00e9f\u00e9rence (pour la fabrication, ou visualisation) Certaines gammes \"non r\u00e9guli\u00e8res\" peuvent \u00e9galement \u00eatre d\u00e9crites, cependant pour la partie \"reconnaissance\" et \"perforation\", des scripts ou des particularit\u00e9s doivent \u00eatre ajout\u00e9es par script. Chose unique dans le logiciel, est la prise en charge de la d\u00e9finition des registres. Les registres peuvent \u00eatre d\u00e9finis et utilis\u00e9s. On retrouve donc : - la d\u00e9finition des jeux de registres (BASSES, ACCOMPAGNEMENT, CHANT1, CHANT3, CONTRE CHANT) - la d\u00e9finition des registres associ\u00e9s \u00e0 ces jeux, ainsi que la commande des sons sur ces registres (activation de certains registres dans certains jeux) Toutes ces informations sont enregistr\u00e9es dans un fichier .instrumentbundle, qui est en fait un zip (il est possible de renommer le fichier en zip et d'acc\u00e9der \u00e0 ces informations). L'utilisation de ces informations ne n\u00e9cessitent pas de logiciels specifiques, car enregistr\u00e9 sous forme de \"texte\", ou \"fichier Wav\", elles peuvent \u00eatre r\u00e9utili\u00e9es par ailleurs. Prise en charge des sons reels de l'instrument Le logiciel APrint Studio / APrint permet de faire un rendu sonore pour chaque note d'un carton et ceci conditionn\u00e9 par les registres utilis\u00e9s dans le carton. Les notes sont donc enregistr\u00e9es dans un fichier .WAV. et trait\u00e9es en interne dans un format 16bits / 44khz. Les \u00e9chantillons de qualit\u00e9 sup\u00e9rieure ou inf\u00e9rieure sont nivell\u00e9es aux caract\u00e9ristiques pr\u00e9c\u00e9dentes. Les \u00e9chantillons peuvent \u00eatre : attach\u00e9s \u00e0 une note pr\u00e9cise ind\u00e9pendemment d'une section de basse, accompagnement ou chant (c'est \u00e0 dire qu'il sont toujours jou\u00e9s sur la note donn\u00e9e) attach\u00e9s \u00e0 une section de registre (basse, accompagnement), ind\u00e9pendamment d'un registre, c'est parfois le cas lorsqu'un jeu est toujours d\u00e9clench\u00e9 sur la note attach\u00e9s \u00e0 un registre particulier, en effet l'\u00e9chantillon n'est jou\u00e9 que si le registre est activ\u00e9. Un \u00e9chantillon m\u00eame s'il est enregistr\u00e9 sur une note pr\u00e9cise, peut \u00eatre associ\u00e9 \u00e0 plusieurs notes adjacentes, ceci permet de ne pas multiplier les enregistrements de notes si les \u00e9chantillons sont tr\u00e8s similaires. Le s\u00e9quenceur \u00e9tant logiciel, la limite en nombre d'\u00e9chantillons est la m\u00e9moire de l'ordinateur et sa puissance. Le format utilis\u00e9 pour les banques de sons est SoundFont (SF2) mais est uniquement utilis\u00e9 en interne ou reconstruit \u00e0 la vol\u00e9e \u00e0 partir de l'\u00e9diteur d'instruments. Depuis la version 2012, le logiciel d\u00e9passe la capacit\u00e9 MIDI de 16 canaux. Il est maintenant possible d'avoir jusqu'\u00e0 63 registres pilot\u00e9s pour un instrument. Lien avec la norme midi Dans le logiciel, ces informations d'instrument, sont \"compil\u00e9e\" en norme midi, via l'utilisation de bank de sons. Comme la d\u00e9finition des banks de son sont multiples et vari\u00e9es, le fait de reposer sur une description de l'instrument plus proche de la r\u00e9alit\u00e9, permet alors de pouvoir g\u00e9n\u00e9rer les conversions dans les diff\u00e9rents formats demand\u00e9s. Dans l'impl\u00e9mentation de r\u00e9f\u00e9rence, le format SoundFont est utilis\u00e9, et plusieurs \"instruments midi\" sont d\u00e9finis, pour chaque section de registre (basse, accompagnement, chant , ..). Ces instruments sont par la suite mapp\u00e9s sur un canal midi sur lequel un \"program change\" sp\u00e9cifie l'instrument interne utilis\u00e9. Dans le jeu d'un carton virtuel et en fonction de la registration, les notes sont envoy\u00e9es sur les canaux associ\u00e9s.","title":"El\u00e9ments techniques sur la prise en compte des instruments virtuels"},{"location":"product/instrumentcreation/CreationInstrumentTechniqueAPrint/#elements-techniques-sur-la-prise-en-compte-des-instruments-virtuels","text":"Patrice Freydiere 2020 APrint Studio dispose d'un ensemble d'outil permettant de d\u00e9finir ou d'ajuster des d\u00e9finitions d'instruments. Dans ces outils, on retrouve : l'\u00e9diteur de gamme, permettant de d\u00e9finir une gamme, avec sa g\u00e9om\u00e9trie , l'\u00e9diteur d'instrument, permettant d'assembler l'ensemble des \u00e9l\u00e9ments constituants d'un instrument, c'est \u00e0 dire : gamme, d\u00e9finition des sons, d\u00e9finition des contraintes (longueur de trous minimum, .. etc) Depuis les ann\u00e9es 2010, l'ensemble de ces outils int\u00e9gr\u00e9s dans l'\u00e9diteur d'instrument, regrouppant ces fonctionnalit\u00e9s, comme des outils int\u00e9gr\u00e9s et compl\u00e9mentaires permettant la gestion des sons, d\u00e9coupage de sons enregistr\u00e9s.","title":"El\u00e9ments techniques sur la prise en compte des instruments virtuels"},{"location":"product/instrumentcreation/CreationInstrumentTechniqueAPrint/#caracteristiques-de-definition-des-instruments","text":"APrint Studio, permet d'int\u00e9grer les types d'instruments suivants : Orgues de rue Orgues de foire Orgues de danse Boites \u00e0 musique Disques de carton ariston Piano m\u00e9caniques Les gammes d'instruments sont d\u00e9finies par une grille r\u00e9guli\u00e8re d\u00e9finissant l'emplacement des pistes de lecture pneumatique ou m\u00e9canique, \u00e0 partir d'un cot\u00e9 de r\u00e9f\u00e9rence (pour la fabrication, ou visualisation) Certaines gammes \"non r\u00e9guli\u00e8res\" peuvent \u00e9galement \u00eatre d\u00e9crites, cependant pour la partie \"reconnaissance\" et \"perforation\", des scripts ou des particularit\u00e9s doivent \u00eatre ajout\u00e9es par script. Chose unique dans le logiciel, est la prise en charge de la d\u00e9finition des registres. Les registres peuvent \u00eatre d\u00e9finis et utilis\u00e9s. On retrouve donc : - la d\u00e9finition des jeux de registres (BASSES, ACCOMPAGNEMENT, CHANT1, CHANT3, CONTRE CHANT) - la d\u00e9finition des registres associ\u00e9s \u00e0 ces jeux, ainsi que la commande des sons sur ces registres (activation de certains registres dans certains jeux) Toutes ces informations sont enregistr\u00e9es dans un fichier .instrumentbundle, qui est en fait un zip (il est possible de renommer le fichier en zip et d'acc\u00e9der \u00e0 ces informations). L'utilisation de ces informations ne n\u00e9cessitent pas de logiciels specifiques, car enregistr\u00e9 sous forme de \"texte\", ou \"fichier Wav\", elles peuvent \u00eatre r\u00e9utili\u00e9es par ailleurs.","title":"Caract\u00e9ristiques de d\u00e9finition des instruments"},{"location":"product/instrumentcreation/CreationInstrumentTechniqueAPrint/#prise-en-charge-des-sons-reels-de-linstrument","text":"Le logiciel APrint Studio / APrint permet de faire un rendu sonore pour chaque note d'un carton et ceci conditionn\u00e9 par les registres utilis\u00e9s dans le carton. Les notes sont donc enregistr\u00e9es dans un fichier .WAV. et trait\u00e9es en interne dans un format 16bits / 44khz. Les \u00e9chantillons de qualit\u00e9 sup\u00e9rieure ou inf\u00e9rieure sont nivell\u00e9es aux caract\u00e9ristiques pr\u00e9c\u00e9dentes. Les \u00e9chantillons peuvent \u00eatre : attach\u00e9s \u00e0 une note pr\u00e9cise ind\u00e9pendemment d'une section de basse, accompagnement ou chant (c'est \u00e0 dire qu'il sont toujours jou\u00e9s sur la note donn\u00e9e) attach\u00e9s \u00e0 une section de registre (basse, accompagnement), ind\u00e9pendamment d'un registre, c'est parfois le cas lorsqu'un jeu est toujours d\u00e9clench\u00e9 sur la note attach\u00e9s \u00e0 un registre particulier, en effet l'\u00e9chantillon n'est jou\u00e9 que si le registre est activ\u00e9. Un \u00e9chantillon m\u00eame s'il est enregistr\u00e9 sur une note pr\u00e9cise, peut \u00eatre associ\u00e9 \u00e0 plusieurs notes adjacentes, ceci permet de ne pas multiplier les enregistrements de notes si les \u00e9chantillons sont tr\u00e8s similaires. Le s\u00e9quenceur \u00e9tant logiciel, la limite en nombre d'\u00e9chantillons est la m\u00e9moire de l'ordinateur et sa puissance. Le format utilis\u00e9 pour les banques de sons est SoundFont (SF2) mais est uniquement utilis\u00e9 en interne ou reconstruit \u00e0 la vol\u00e9e \u00e0 partir de l'\u00e9diteur d'instruments. Depuis la version 2012, le logiciel d\u00e9passe la capacit\u00e9 MIDI de 16 canaux. Il est maintenant possible d'avoir jusqu'\u00e0 63 registres pilot\u00e9s pour un instrument.","title":"Prise en charge des sons reels de l'instrument"},{"location":"product/instrumentcreation/CreationInstrumentTechniqueAPrint/#lien-avec-la-norme-midi","text":"Dans le logiciel, ces informations d'instrument, sont \"compil\u00e9e\" en norme midi, via l'utilisation de bank de sons. Comme la d\u00e9finition des banks de son sont multiples et vari\u00e9es, le fait de reposer sur une description de l'instrument plus proche de la r\u00e9alit\u00e9, permet alors de pouvoir g\u00e9n\u00e9rer les conversions dans les diff\u00e9rents formats demand\u00e9s. Dans l'impl\u00e9mentation de r\u00e9f\u00e9rence, le format SoundFont est utilis\u00e9, et plusieurs \"instruments midi\" sont d\u00e9finis, pour chaque section de registre (basse, accompagnement, chant , ..). Ces instruments sont par la suite mapp\u00e9s sur un canal midi sur lequel un \"program change\" sp\u00e9cifie l'instrument interne utilis\u00e9. Dans le jeu d'un carton virtuel et en fonction de la registration, les notes sont envoy\u00e9es sur les canaux associ\u00e9s.","title":"Lien avec la norme midi"},{"location":"product/instrumentcreation/CreerUnInstrument/","text":"Creer et d\u00e9finir un nouvel instrument Patrice Freydiere - Decembre 2020 Une biblioth\u00e8que d'instruments est accessible \u00e0 partir du site web , cet article \u00e9galement, vous indique comment les r\u00e9cup\u00e9rer et les utiliser dans le logiciel . Pour cr\u00e9er un nouvel instrument, il vous faudra : Les caract\u00e9ristiques de la gammes (dimensions, distance inter-piste, distance de la 1ere piste par rapport \u00e0 la 1ere piste) La signification des pistes (notes, percussion, registration) \u00e9ventuellement des \u00e9chantillons sonores (fichier sons wav) pour donner de la voix \u00e0 l'instrument dans l'\u00e9coute. Les sons ne sont pas n\u00e9cessaires si vous n'utilisez que la perforation, n\u00e9anmoins, cela permet de valider \u00e0 l'\u00e9coute les fichiers midi import\u00e9s (et on peut avoir des surprises). La cr\u00e9ation d'un instrument en video : (click droit et ouvrir la video dans un nouvel onglet) Cr\u00e9ation d'un instrument La gestion des instruments est accessible depuis le menu principal : Cette fonction vous donne acc\u00e8s \u00e0 la fenetre de gestion des instruments : Les instruments existants sont pr\u00e9sent\u00e9s. Les entrepots d'instruments Les instruments sont organis\u00e9s en \" entrepots \", ceci permet de pouvoir distribuer differemment les d\u00e9finitions d'instruments. Plusieurs types d'instruments sont disponibles : Entrepot \"Priv\u00e9\": cr\u00e9\u00e9 uniquement par l'utilisateur Entrepot \"Web\": une URL permet de synchroniser les instruments \u00e0 un endroit donn\u00e9 (permet la constitution de banque de d\u00e9finition d'instrument) Entrepot \"builtin\": proposition d'instruments tr\u00e8s utilis\u00e9s, et diffus\u00e9s au premier d\u00e9marrage du logiciel. la s\u00e9lection de l'entrepot est r\u00e9alis\u00e9 par la combo box situ\u00e9 en haut : Nota : les instrument sont Modifiables UNIQUEMENT en priv\u00e9 Vous devez donc s\u00e9lectionner \"Instruments personnels: private\", pour avoir acc\u00e8s aux fonctions de modifications. Les instrument modifiables sont sauvegard\u00e9s dans le r\u00e9pertoire de donn\u00e9es d'aprint, dans le sous r\u00e9pertoire \" private \", r\u00e9f\u00e9rez vous alors \u00e0 la rubrique d'installation pour en savoir plus sur ce r\u00e9pertoire. Des boutons vous permettent alors de cr\u00e9er, modifier, ou supprimer un instrument Etapes de cr\u00e9ation d'un nouvel instrument L'appui sur le bouton Nouveau .. permet de cr\u00e9er un nouvel instrument. On saisi le nom de l'instrument, et une description. Voir on y associe une image pour retrouver rapidement l'instrument dans les listes D\u00e9finition des dimensions et caract\u00e9ristiques techniques Les dimensions de la gamme sont d\u00e9finies par les \u00e9l\u00e9ments suivants : Le choix de la r\u00e9f\u00e9rence est d\u00e9finie par le talon. ce choix de r\u00e9f\u00e9rence est fait dans la d\u00e9finition de gamme, et son rep\u00e9rage est effectu\u00e9 avec la fl\u00e8che reference. D\u00e9finition des jeux de tuyau et registres L'instrument a plusieurs jeux de tuyau, cette d\u00e9finition se fait dans la composition de l'instrument. avec le bouton droit de la souris on ajoute des jeux de registres, qui seront utilis\u00e9s pour les sons, et la coloration dans la vue carton. Voila, D\u00e9finition du role des pistes Une fois que la g\u00e9om\u00e9trie est pos\u00e9e, il est possible en s\u00e9lectionnant une piste dans la gamme, il est possible avec le panneau en bas de d\u00e9finir le role des pistes. Nous pouvons alors d\u00e9finir le role de toutes les pistes : D\u00e9finition des sons Pour permettre l'\u00e9coute de l'instrument, il est possible d'ajouter un son associ\u00e9 aux diff\u00e9rents jeux. Il est possible d'ajouter dans l'onglet \"Association de son\", un fichier wav. Le son alors ajout\u00e9, initialement assign\u00e9 \u00e0 une note particuli\u00e8re, peut \u00eatre \u00e9tendu \u00e0 plusieures notes par \"gliss\u00e9 d\u00e9pos\u00e9\" au niveau du clavier,","title":"Creer un instrument pas \u00e0 pas"},{"location":"product/instrumentcreation/CreerUnInstrument/#creer-et-definir-un-nouvel-instrument","text":"Patrice Freydiere - Decembre 2020 Une biblioth\u00e8que d'instruments est accessible \u00e0 partir du site web , cet article \u00e9galement, vous indique comment les r\u00e9cup\u00e9rer et les utiliser dans le logiciel . Pour cr\u00e9er un nouvel instrument, il vous faudra : Les caract\u00e9ristiques de la gammes (dimensions, distance inter-piste, distance de la 1ere piste par rapport \u00e0 la 1ere piste) La signification des pistes (notes, percussion, registration) \u00e9ventuellement des \u00e9chantillons sonores (fichier sons wav) pour donner de la voix \u00e0 l'instrument dans l'\u00e9coute. Les sons ne sont pas n\u00e9cessaires si vous n'utilisez que la perforation, n\u00e9anmoins, cela permet de valider \u00e0 l'\u00e9coute les fichiers midi import\u00e9s (et on peut avoir des surprises). La cr\u00e9ation d'un instrument en video : (click droit et ouvrir la video dans un nouvel onglet)","title":"Creer et d\u00e9finir un nouvel instrument"},{"location":"product/instrumentcreation/CreerUnInstrument/#creation-dun-instrument","text":"La gestion des instruments est accessible depuis le menu principal : Cette fonction vous donne acc\u00e8s \u00e0 la fenetre de gestion des instruments : Les instruments existants sont pr\u00e9sent\u00e9s.","title":"Cr\u00e9ation d'un instrument"},{"location":"product/instrumentcreation/CreerUnInstrument/#les-entrepots-dinstruments","text":"Les instruments sont organis\u00e9s en \" entrepots \", ceci permet de pouvoir distribuer differemment les d\u00e9finitions d'instruments. Plusieurs types d'instruments sont disponibles : Entrepot \"Priv\u00e9\": cr\u00e9\u00e9 uniquement par l'utilisateur Entrepot \"Web\": une URL permet de synchroniser les instruments \u00e0 un endroit donn\u00e9 (permet la constitution de banque de d\u00e9finition d'instrument) Entrepot \"builtin\": proposition d'instruments tr\u00e8s utilis\u00e9s, et diffus\u00e9s au premier d\u00e9marrage du logiciel. la s\u00e9lection de l'entrepot est r\u00e9alis\u00e9 par la combo box situ\u00e9 en haut : Nota : les instrument sont Modifiables UNIQUEMENT en priv\u00e9 Vous devez donc s\u00e9lectionner \"Instruments personnels: private\", pour avoir acc\u00e8s aux fonctions de modifications. Les instrument modifiables sont sauvegard\u00e9s dans le r\u00e9pertoire de donn\u00e9es d'aprint, dans le sous r\u00e9pertoire \" private \", r\u00e9f\u00e9rez vous alors \u00e0 la rubrique d'installation pour en savoir plus sur ce r\u00e9pertoire. Des boutons vous permettent alors de cr\u00e9er, modifier, ou supprimer un instrument","title":"Les entrepots d'instruments"},{"location":"product/instrumentcreation/CreerUnInstrument/#etapes-de-creation-dun-nouvel-instrument","text":"L'appui sur le bouton Nouveau .. permet de cr\u00e9er un nouvel instrument. On saisi le nom de l'instrument, et une description. Voir on y associe une image pour retrouver rapidement l'instrument dans les listes","title":"Etapes de cr\u00e9ation d'un nouvel instrument"},{"location":"product/instrumentcreation/CreerUnInstrument/#definition-des-dimensions-et-caracteristiques-techniques","text":"Les dimensions de la gamme sont d\u00e9finies par les \u00e9l\u00e9ments suivants : Le choix de la r\u00e9f\u00e9rence est d\u00e9finie par le talon. ce choix de r\u00e9f\u00e9rence est fait dans la d\u00e9finition de gamme, et son rep\u00e9rage est effectu\u00e9 avec la fl\u00e8che reference.","title":"D\u00e9finition des dimensions et caract\u00e9ristiques techniques"},{"location":"product/instrumentcreation/CreerUnInstrument/#definition-des-jeux-de-tuyau-et-registres","text":"L'instrument a plusieurs jeux de tuyau, cette d\u00e9finition se fait dans la composition de l'instrument. avec le bouton droit de la souris on ajoute des jeux de registres, qui seront utilis\u00e9s pour les sons, et la coloration dans la vue carton. Voila,","title":"D\u00e9finition des jeux de tuyau et registres"},{"location":"product/instrumentcreation/CreerUnInstrument/#definition-du-role-des-pistes","text":"Une fois que la g\u00e9om\u00e9trie est pos\u00e9e, il est possible en s\u00e9lectionnant une piste dans la gamme, il est possible avec le panneau en bas de d\u00e9finir le role des pistes. Nous pouvons alors d\u00e9finir le role de toutes les pistes :","title":"D\u00e9finition du role des pistes"},{"location":"product/instrumentcreation/CreerUnInstrument/#definition-des-sons","text":"Pour permettre l'\u00e9coute de l'instrument, il est possible d'ajouter un son associ\u00e9 aux diff\u00e9rents jeux. Il est possible d'ajouter dans l'onglet \"Association de son\", un fichier wav. Le son alors ajout\u00e9, initialement assign\u00e9 \u00e0 une note particuli\u00e8re, peut \u00eatre \u00e9tendu \u00e0 plusieures notes par \"gliss\u00e9 d\u00e9pos\u00e9\" au niveau du clavier,","title":"D\u00e9finition des sons"},{"location":"product/krunch/fenetre_de_pilotage_machine/","text":"Pilotage Machine Via la fenetre de perforation, APrint permet la perforation directe du carton, (laser ou punch). Une particularit\u00e9 importante est que APrint, permet de reprendre la perforation, de fa\u00e7on interactive. Depuis la version 2020, une fenetre console a \u00e9t\u00e9 ajout\u00e9e, pour consulter les ordres GRBL de pilotage machine. Description des outils Deux phases dans la perforation : une premi\u00e8re phase de r\u00e9glage de la machine (initialisation / r\u00e9initialisation), puis le lancement de la perforation Les boutons pr\u00e9c\u00e9dent et suivant permettent de passer d'une \u00e9tape \u00e0 l'autre, entre l'initialisation et la performation. La krunch n\u00e9cessite un Homing pour pouvoir sortir du mode \"Alarm\" initial. Le bouton Homing permet le d\u00e9clenchement de la fonction $H initialisant le homing de la machine. En appuyant sur \"Suivant\", l'utilisateur peut alors d\u00e9clencher le per\u00e7age en utilisant le bouton \" Poin\u00e7onner \" Le logiciel indique l'estimation du temps restant et du m\u00e9trage restant \u00e9galement. Modification de la position de d\u00e9part Dans la vue carton associ\u00e9, des outils permettent de repositionner le poin\u00e7on, ou d\u00e9finir la position de d\u00e9part. En jaune apparait les d\u00e9placements et poin\u00e7onnages d\u00e9j\u00e0 r\u00e9alis\u00e9s.","title":"Fenetre de pilotage du poi\u00e7onnage"},{"location":"product/krunch/fenetre_de_pilotage_machine/#pilotage-machine","text":"Via la fenetre de perforation, APrint permet la perforation directe du carton, (laser ou punch). Une particularit\u00e9 importante est que APrint, permet de reprendre la perforation, de fa\u00e7on interactive. Depuis la version 2020, une fenetre console a \u00e9t\u00e9 ajout\u00e9e, pour consulter les ordres GRBL de pilotage machine.","title":"Pilotage Machine"},{"location":"product/krunch/fenetre_de_pilotage_machine/#description-des-outils","text":"Deux phases dans la perforation : une premi\u00e8re phase de r\u00e9glage de la machine (initialisation / r\u00e9initialisation), puis le lancement de la perforation Les boutons pr\u00e9c\u00e9dent et suivant permettent de passer d'une \u00e9tape \u00e0 l'autre, entre l'initialisation et la performation. La krunch n\u00e9cessite un Homing pour pouvoir sortir du mode \"Alarm\" initial. Le bouton Homing permet le d\u00e9clenchement de la fonction $H initialisant le homing de la machine. En appuyant sur \"Suivant\", l'utilisateur peut alors d\u00e9clencher le per\u00e7age en utilisant le bouton \" Poin\u00e7onner \" Le logiciel indique l'estimation du temps restant et du m\u00e9trage restant \u00e9galement.","title":"Description des outils"},{"location":"product/krunch/fenetre_de_pilotage_machine/#modification-de-la-position-de-depart","text":"Dans la vue carton associ\u00e9, des outils permettent de repositionner le poin\u00e7on, ou d\u00e9finir la position de d\u00e9part. En jaune apparait les d\u00e9placements et poin\u00e7onnages d\u00e9j\u00e0 r\u00e9alis\u00e9s.","title":"Modification de la position de d\u00e9part"},{"location":"product/krunch/perfo_lazer/","text":"Perforation laser La perforation Laser est int\u00e9gr\u00e9e dans la version 2020. Autrefois mis en place via des scripts d'export DXF (fichiers utilisable dans les logiciels sp\u00e9cifiques Laser), cette capacit\u00e9 a maintenant \u00e9t\u00e9 int\u00e9gr\u00e9e dans le fonctionnement standard du logiciel. Videos: (pour ouvrir la video, clickez avec le bouton droit et ouvrez la video dans un nouvel onglet) En utilisation r\u00e9elle (video) MiddleWare GRBL L'utilisation des fonctions de per\u00e7age n\u00e9cessite l'utilisation du GRBL 1.1 avec l'activation du mode laser. Activation et param\u00e9trage perfo laser La perforation lazer est r\u00e9alis\u00e9e, \u00e0 partir de la fenetre de perforation du carton Les param\u00e8trages de du mode lazer sont accessible dans le bouton \"...\". Param\u00e9trage du lazer et de la puissance Les paraam\u00e9trage de puissance SXXXX et de vitesse FXXXXX sont r\u00e9gl\u00e9s initialement dans la fenetre de param\u00e9trage du lazer. Ce sont les valeures MAXIMALES qui sont sp\u00e9cifi\u00e9es. Ainsi dans les autres parm\u00e9trages utilis\u00e9s dans les propri\u00e9t\u00e9s de planification, il sera retenu la d\u00e9finition de la fraction de la puissance MAXIMALE. Par exemple, si dans la vitesse maximale, la valeur 500 est retenue, en param\u00e9trant ensuite une fraction de 0.5, la puissance retenue sera donn\u00e9 par la valeur 500 * 0.5 = 250 pour l'envoi machine. Planification de d\u00e9coupe laser Nous retrouvons dans la fen\u00eatre de param\u00e9trage, les pr\u00e9f\u00e9rences de d\u00e9coupe et d'optimisation. les param\u00e9trages de taille max de d\u00e9coupe, ponts, ou espacement entre les ponts, permettent de r\u00e9gler la d\u00e9coupe pour les instruments m\u00e9caniques ou pneumatiques. L'affichage est actualis\u00e9 en temps r\u00e9el en fonction des param\u00e8tres saisie, permettant de controler le resultat. Choix des param\u00e8tres de d\u00e9coupe Le choix de l'export des trous, permet de pr\u00e9parer une d\u00e9coupe uniquement avec les pliures. Il a \u00e9t\u00e9 constat\u00e9 que la r\u00e9alisation des pliures, sans allers et retours am\u00e9liorait la r\u00e9gularit\u00e9 des pages de cartons et donc l'apparence du carton une fois pli\u00e9e (les cartons ne font pas l'accord\u00e9on une fois pli\u00e9s). La taille des trous et pont, permettent de d\u00e9finir le resultat comme suit : Gestion des fins de trous Choix des pliures Des param\u00e8tres de pliures, permettent de d\u00e9finir des pliures sous forme de pointill\u00e9s, d\u00e9coupe \u00e0 \"mi chair\", ou une alternance des deux. Plusieures passes pour la d\u00e9coupe des trous Plusieures passent de d\u00e9coupe peuvent \u00eatre r\u00e9alise\u00e9 pour les trous, ou les pliures, en fonction de la puissance maximale du lazer. Le choix d'utilisation de la 2eme passe est r\u00e9alis\u00e9e par l'activation de la coche 'deux passes', les facteurs de r\u00e9glage de la vitesse et de la puissance peuvent \u00eatre sp\u00e9cifi\u00e9s.","title":"Perforation lazer"},{"location":"product/krunch/perfo_lazer/#perforation-laser","text":"La perforation Laser est int\u00e9gr\u00e9e dans la version 2020. Autrefois mis en place via des scripts d'export DXF (fichiers utilisable dans les logiciels sp\u00e9cifiques Laser), cette capacit\u00e9 a maintenant \u00e9t\u00e9 int\u00e9gr\u00e9e dans le fonctionnement standard du logiciel. Videos: (pour ouvrir la video, clickez avec le bouton droit et ouvrez la video dans un nouvel onglet) En utilisation r\u00e9elle (video)","title":"Perforation laser"},{"location":"product/krunch/perfo_lazer/#middleware-grbl","text":"L'utilisation des fonctions de per\u00e7age n\u00e9cessite l'utilisation du GRBL 1.1 avec l'activation du mode laser.","title":"MiddleWare GRBL"},{"location":"product/krunch/perfo_lazer/#activation-et-parametrage-perfo-laser","text":"La perforation lazer est r\u00e9alis\u00e9e, \u00e0 partir de la fenetre de perforation du carton Les param\u00e8trages de du mode lazer sont accessible dans le bouton \"...\".","title":"Activation et param\u00e9trage perfo laser"},{"location":"product/krunch/perfo_lazer/#parametrage-du-lazer-et-de-la-puissance","text":"Les paraam\u00e9trage de puissance SXXXX et de vitesse FXXXXX sont r\u00e9gl\u00e9s initialement dans la fenetre de param\u00e9trage du lazer. Ce sont les valeures MAXIMALES qui sont sp\u00e9cifi\u00e9es. Ainsi dans les autres parm\u00e9trages utilis\u00e9s dans les propri\u00e9t\u00e9s de planification, il sera retenu la d\u00e9finition de la fraction de la puissance MAXIMALE. Par exemple, si dans la vitesse maximale, la valeur 500 est retenue, en param\u00e9trant ensuite une fraction de 0.5, la puissance retenue sera donn\u00e9 par la valeur 500 * 0.5 = 250 pour l'envoi machine.","title":"Param\u00e9trage du lazer et de la puissance"},{"location":"product/krunch/perfo_lazer/#planification-de-decoupe-laser","text":"Nous retrouvons dans la fen\u00eatre de param\u00e9trage, les pr\u00e9f\u00e9rences de d\u00e9coupe et d'optimisation. les param\u00e9trages de taille max de d\u00e9coupe, ponts, ou espacement entre les ponts, permettent de r\u00e9gler la d\u00e9coupe pour les instruments m\u00e9caniques ou pneumatiques. L'affichage est actualis\u00e9 en temps r\u00e9el en fonction des param\u00e8tres saisie, permettant de controler le resultat.","title":"Planification de d\u00e9coupe laser"},{"location":"product/krunch/perfo_lazer/#choix-des-parametres-de-decoupe","text":"Le choix de l'export des trous, permet de pr\u00e9parer une d\u00e9coupe uniquement avec les pliures. Il a \u00e9t\u00e9 constat\u00e9 que la r\u00e9alisation des pliures, sans allers et retours am\u00e9liorait la r\u00e9gularit\u00e9 des pages de cartons et donc l'apparence du carton une fois pli\u00e9e (les cartons ne font pas l'accord\u00e9on une fois pli\u00e9s). La taille des trous et pont, permettent de d\u00e9finir le resultat comme suit :","title":"Choix des param\u00e8tres de d\u00e9coupe"},{"location":"product/krunch/perfo_lazer/#gestion-des-fins-de-trous","text":"","title":"Gestion des fins de trous"},{"location":"product/krunch/perfo_lazer/#choix-des-pliures","text":"Des param\u00e8tres de pliures, permettent de d\u00e9finir des pliures sous forme de pointill\u00e9s, d\u00e9coupe \u00e0 \"mi chair\", ou une alternance des deux.","title":"Choix des pliures"},{"location":"product/krunch/perfo_lazer/#plusieures-passes-pour-la-decoupe-des-trous","text":"Plusieures passent de d\u00e9coupe peuvent \u00eatre r\u00e9alise\u00e9 pour les trous, ou les pliures, en fonction de la puissance maximale du lazer. Le choix d'utilisation de la 2eme passe est r\u00e9alis\u00e9e par l'activation de la coche 'deux passes', les facteurs de r\u00e9glage de la vitesse et de la puissance peuvent \u00eatre sp\u00e9cifi\u00e9s.","title":"Plusieures passes pour la d\u00e9coupe des trous"},{"location":"product/krunch/utilisation_perforatrice/","text":"Utilisation APrint Studio pour le per\u00e7age Krunch par Freddy Meyer et Patrice Freydiere APrint Studio transforme, en quelques clics, les fichiers midi en Gcode (code utilis\u00e9 dans les machines industrielles \u00e0 commande num\u00e9rique), gage d\u2019une tr\u00e8s bonne pr\u00e9cision m\u00eame \u00e0 grande vitesse. Cette fonction utilise le GCODE g\u00e9n\u00e9r\u00e9 par GRBL Punch, disponible \u00e0 cette addresse. https://github.com/barrelorgandiscovery/grblPunch ou dans le zip complet de la rubrique Download http://www.barrel-organ-discovery.org/site/download.html Pr\u00e9paration de la perforation Sur visualisation du carton. Ici, j\u2019en profite pour dire que les notes plus petites que 3 mm ne seront pas perfor\u00e9es. Ceci n\u2019est bien s\u00fbr pas envisageable. Si ces notes y sont, c\u2019est qu\u2019elles ont une raison d\u2019\u00eatre. Alors comment r\u00e9soudre ce probl\u00e8me ? Rien de plus simple ! Dans la fen\u00eatre \u00ab Quickscript \u00bb, il faudra cliquer sur \u00abagrandir \u00e0 3 mm les trous plus petits\u00bb Je vous laisse d\u00e9couvrir les autres fonctionnalit\u00e9s et les divers onglets de cette page. Une nouvelle fen\u00eatre va s\u2019ouvrir et qui confirmera que les trous ont \u00e9t\u00e9 agrandis Si ces modifications ne conviennent pas, Utilisation du panneau de perforation Cliquez ensuite sur le bouton \u00abGcode perfo windows\u00bb situ\u00e9 sur la droite de la fen\u00eatre de carton. Cette fenetre propose le choix de la perforatrice utilis\u00e9e pour la perforation. Dans le cas de GRBL Punch, il vous faudra s\u00e9lectionner la machine Punch Machine GRBL, Le bouton \" ... \" vous permet de r\u00e9gler le port de communication avec la machine. Si vous souhaitez faire un test, et que vous n'avez pas de machine laser ou punch de connect\u00e9e, vous pouvez s\u00e9lectionner les machines de type \"mock\", qui sont des machines \"fictives\", vous permettant de tester la perfo ou apprendre \u00e0 utiliser le logiciel. une fois la machine s\u00e9lectionn\u00e9e, une fonction int\u00e9gr\u00e9e v\u00e9rifie la taille des trous (si ce n'est fait en phase de pr\u00e9paration). L\u00e0, plusieurs options sont \u00e0 votre disposition Politique d'optimisation en d\u00e9placement En cochant \u00abOptimis\u00e9 en d\u00e9placement\u00bb , le carton va faire des allers \u2013 retours, ce qui diminue consid\u00e9rablement le temps de poin\u00e7onnage. le resultat est directement calcul\u00e9 et affich\u00e9 en temps, r\u00e9el. Ceci permet un controle plus ais\u00e9. Politique \"Sans retours\" Le bouton \u00ab sans retours \u00bb ne fait qu\u2019avancer le carton. Cette option est utilis\u00e9e pour les papiers perfor\u00e9s qui se plieraient lors du retour. Param\u00e8tres de reglages Mm abandonn\u00e9 permet de ne pas perforer une fin de note. En gros, si une note fait 6,1 mm, on pourrait ne perforer que 6 mm. Mettre la valeur 0 Mm de recouvrement permet de faire revenir le poin\u00e7on l\u00e9g\u00e8rement en arri\u00e8re pour \u00eatre s\u00fbr que le trou soit bien propre. Cette fonction est surtout utile pour les poin\u00e7ons carr\u00e9s et les cartons pour lecture m\u00e9canique. A l\u2019inverse, pour du papier ou du carton pour pneumatique, il est conseill\u00e9 de faire des ponts entre chaque trou. Il faudra donc donner les valeurs suivantes \u00ab - 1 \u00bb ou \u00ab - 1,1 \u00bb . On aura ainsi un pont de 1 ou 1,1 mm. Taille du poin\u00e7on sera la dimension de votre poin\u00e7on Taille de page est en mm et d\u00e9termine le retour effectu\u00e9 lors de la perforation. En mettant par exemple 60, le carton reculera de 60 mm pour permettre l\u2019optimisation. Une fois ces valeurs rentr\u00e9es, il faudra cliquer sur appuyer sur la touche \u00abenter ou entr\u00e9e\u00bb du clavier et le calcul se lancera automatiquement. A noter qu\u2019\u00e0 chaque changement d\u2019une des valeurs, il faudra revalider par \u00abenter\u00bb . Le fichier midi est ainsi transform\u00e9 en Gcode. On aura \u00e9galement le nombre de coups de poin\u00e7ons ainsi que la distance parcourue par ce m\u00eame poin\u00e7on. Cette op\u00e9ration termin\u00e9e, on clique sur suivant. La page suivante s\u2019ouvre. Un petit rappel du nombre de coups de poin\u00e7ons et la distance parcourue. Ne reste plus qu\u2019\u00e0 valider \u00abperforer le plan\u00bb ou \u00abexporter le plan dans un fichier\u00bb pour une utilisation ult\u00e9rieure par la fonction \u00abouvrir un fichier book\u00bb que l\u2019on trouvera \u00e0 l\u2019ouverture d\u2019APrint. On arrive maintenant sur la page de perforation o\u00f9 l\u2019on cliquera sur le bouton \u00ab homing \u00bb pour positionner la machine sur le point z\u00e9ro (r\u00e9f\u00e9rence machine). Je conseille de perforer un morceau d\u2019essai afin de v\u00e9rifier si l\u2019axe du premier trou correspond bien aux dimensions n\u00e9cessaires \u00e0 votre orgue. Au besoin, on peut corriger avec les boutons \u00abajuster la position de la machine\u00bb . Le bouton \u00abforward\u00bb permet de faire avancer le carton soit pour cr\u00e9er une amorce ou pour le sortir de la machine sans avoir \u00e0 enlever les rouleaux presseurs. La fen\u00eatre de droite donne un aper\u00e7u du carton et des d\u00e9placements du poin\u00e7on. La cible en rouge est le point de d\u00e9part (le bord de r\u00e9f\u00e9rence carton) d\u2019o\u00f9 partent les perforations. Comme je pense que vous \u00eates press\u00e9s de voir la perforatrice en \u0153uvre, je vous invite \u00e0 cliquer sur le bouton \u00absuivant\u00bb dans la fen\u00eatre \u00abSettings\u00bb La derni\u00e8re fen\u00eatre vous invitera \u00e0 cliquer sur \u00abpunch (perforation)\u00bb Les trous perfor\u00e9s s\u2019affichent en jaune. On peut ainsi voir le chemin parcouru. Les boutons \u00abprevious et next\u00bb permettent de reprendre une perforation. A savoir que lors d\u2019une coupure de courant, on peut reprendre une perforation \u00e0 l\u2019endroit o\u00f9 elle s\u2019est arr\u00eat\u00e9e. Il suffit de mesurer la longueur de carton d\u00e9j\u00e0 perfor\u00e9, de rechercher cette longueur sur l\u2019aper\u00e7u du carton, de comparer les trous et de cliquer sur le dernier trou effectu\u00e9 avant de cliquer sur \u00abpunch\u00bb . Il est conseill\u00e9 de faire quelques essais sur des chutes de carton. Certaines fen\u00eatres peuvent diff\u00e9rer en fonction de l\u2019\u00e9volution du logiciel.","title":"Comment perforer un carton avec Krunch"},{"location":"product/krunch/utilisation_perforatrice/#utilisation-aprint-studio-pour-le-percage-krunch","text":"par Freddy Meyer et Patrice Freydiere APrint Studio transforme, en quelques clics, les fichiers midi en Gcode (code utilis\u00e9 dans les machines industrielles \u00e0 commande num\u00e9rique), gage d\u2019une tr\u00e8s bonne pr\u00e9cision m\u00eame \u00e0 grande vitesse. Cette fonction utilise le GCODE g\u00e9n\u00e9r\u00e9 par GRBL Punch, disponible \u00e0 cette addresse. https://github.com/barrelorgandiscovery/grblPunch ou dans le zip complet de la rubrique Download http://www.barrel-organ-discovery.org/site/download.html","title":"Utilisation APrint Studio pour le per\u00e7age Krunch"},{"location":"product/krunch/utilisation_perforatrice/#preparation-de-la-perforation","text":"Sur visualisation du carton. Ici, j\u2019en profite pour dire que les notes plus petites que 3 mm ne seront pas perfor\u00e9es. Ceci n\u2019est bien s\u00fbr pas envisageable. Si ces notes y sont, c\u2019est qu\u2019elles ont une raison d\u2019\u00eatre. Alors comment r\u00e9soudre ce probl\u00e8me ? Rien de plus simple ! Dans la fen\u00eatre \u00ab Quickscript \u00bb, il faudra cliquer sur \u00abagrandir \u00e0 3 mm les trous plus petits\u00bb Je vous laisse d\u00e9couvrir les autres fonctionnalit\u00e9s et les divers onglets de cette page. Une nouvelle fen\u00eatre va s\u2019ouvrir et qui confirmera que les trous ont \u00e9t\u00e9 agrandis Si ces modifications ne conviennent pas,","title":"Pr\u00e9paration de la perforation"},{"location":"product/krunch/utilisation_perforatrice/#utilisation-du-panneau-de-perforation","text":"Cliquez ensuite sur le bouton \u00abGcode perfo windows\u00bb situ\u00e9 sur la droite de la fen\u00eatre de carton. Cette fenetre propose le choix de la perforatrice utilis\u00e9e pour la perforation. Dans le cas de GRBL Punch, il vous faudra s\u00e9lectionner la machine Punch Machine GRBL, Le bouton \" ... \" vous permet de r\u00e9gler le port de communication avec la machine. Si vous souhaitez faire un test, et que vous n'avez pas de machine laser ou punch de connect\u00e9e, vous pouvez s\u00e9lectionner les machines de type \"mock\", qui sont des machines \"fictives\", vous permettant de tester la perfo ou apprendre \u00e0 utiliser le logiciel. une fois la machine s\u00e9lectionn\u00e9e, une fonction int\u00e9gr\u00e9e v\u00e9rifie la taille des trous (si ce n'est fait en phase de pr\u00e9paration). L\u00e0, plusieurs options sont \u00e0 votre disposition","title":"Utilisation du panneau de perforation"},{"location":"product/krunch/utilisation_perforatrice/#politique-doptimisation-en-deplacement","text":"En cochant \u00abOptimis\u00e9 en d\u00e9placement\u00bb , le carton va faire des allers \u2013 retours, ce qui diminue consid\u00e9rablement le temps de poin\u00e7onnage. le resultat est directement calcul\u00e9 et affich\u00e9 en temps, r\u00e9el. Ceci permet un controle plus ais\u00e9.","title":"Politique d'optimisation en d\u00e9placement"},{"location":"product/krunch/utilisation_perforatrice/#politique-sans-retours","text":"Le bouton \u00ab sans retours \u00bb ne fait qu\u2019avancer le carton. Cette option est utilis\u00e9e pour les papiers perfor\u00e9s qui se plieraient lors du retour.","title":"Politique \"Sans retours\""},{"location":"product/krunch/utilisation_perforatrice/#parametres-de-reglages","text":"Mm abandonn\u00e9 permet de ne pas perforer une fin de note. En gros, si une note fait 6,1 mm, on pourrait ne perforer que 6 mm. Mettre la valeur 0 Mm de recouvrement permet de faire revenir le poin\u00e7on l\u00e9g\u00e8rement en arri\u00e8re pour \u00eatre s\u00fbr que le trou soit bien propre. Cette fonction est surtout utile pour les poin\u00e7ons carr\u00e9s et les cartons pour lecture m\u00e9canique. A l\u2019inverse, pour du papier ou du carton pour pneumatique, il est conseill\u00e9 de faire des ponts entre chaque trou. Il faudra donc donner les valeurs suivantes \u00ab - 1 \u00bb ou \u00ab - 1,1 \u00bb . On aura ainsi un pont de 1 ou 1,1 mm. Taille du poin\u00e7on sera la dimension de votre poin\u00e7on Taille de page est en mm et d\u00e9termine le retour effectu\u00e9 lors de la perforation. En mettant par exemple 60, le carton reculera de 60 mm pour permettre l\u2019optimisation. Une fois ces valeurs rentr\u00e9es, il faudra cliquer sur appuyer sur la touche \u00abenter ou entr\u00e9e\u00bb du clavier et le calcul se lancera automatiquement. A noter qu\u2019\u00e0 chaque changement d\u2019une des valeurs, il faudra revalider par \u00abenter\u00bb . Le fichier midi est ainsi transform\u00e9 en Gcode. On aura \u00e9galement le nombre de coups de poin\u00e7ons ainsi que la distance parcourue par ce m\u00eame poin\u00e7on. Cette op\u00e9ration termin\u00e9e, on clique sur suivant. La page suivante s\u2019ouvre. Un petit rappel du nombre de coups de poin\u00e7ons et la distance parcourue. Ne reste plus qu\u2019\u00e0 valider \u00abperforer le plan\u00bb ou \u00abexporter le plan dans un fichier\u00bb pour une utilisation ult\u00e9rieure par la fonction \u00abouvrir un fichier book\u00bb que l\u2019on trouvera \u00e0 l\u2019ouverture d\u2019APrint. On arrive maintenant sur la page de perforation o\u00f9 l\u2019on cliquera sur le bouton \u00ab homing \u00bb pour positionner la machine sur le point z\u00e9ro (r\u00e9f\u00e9rence machine). Je conseille de perforer un morceau d\u2019essai afin de v\u00e9rifier si l\u2019axe du premier trou correspond bien aux dimensions n\u00e9cessaires \u00e0 votre orgue. Au besoin, on peut corriger avec les boutons \u00abajuster la position de la machine\u00bb . Le bouton \u00abforward\u00bb permet de faire avancer le carton soit pour cr\u00e9er une amorce ou pour le sortir de la machine sans avoir \u00e0 enlever les rouleaux presseurs. La fen\u00eatre de droite donne un aper\u00e7u du carton et des d\u00e9placements du poin\u00e7on. La cible en rouge est le point de d\u00e9part (le bord de r\u00e9f\u00e9rence carton) d\u2019o\u00f9 partent les perforations. Comme je pense que vous \u00eates press\u00e9s de voir la perforatrice en \u0153uvre, je vous invite \u00e0 cliquer sur le bouton \u00absuivant\u00bb dans la fen\u00eatre \u00abSettings\u00bb La derni\u00e8re fen\u00eatre vous invitera \u00e0 cliquer sur \u00abpunch (perforation)\u00bb Les trous perfor\u00e9s s\u2019affichent en jaune. On peut ainsi voir le chemin parcouru. Les boutons \u00abprevious et next\u00bb permettent de reprendre une perforation. A savoir que lors d\u2019une coupure de courant, on peut reprendre une perforation \u00e0 l\u2019endroit o\u00f9 elle s\u2019est arr\u00eat\u00e9e. Il suffit de mesurer la longueur de carton d\u00e9j\u00e0 perfor\u00e9, de rechercher cette longueur sur l\u2019aper\u00e7u du carton, de comparer les trous et de cliquer sur le dernier trou effectu\u00e9 avant de cliquer sur \u00abpunch\u00bb . Il est conseill\u00e9 de faire quelques essais sur des chutes de carton. Certaines fen\u00eatres peuvent diff\u00e9rer en fonction de l\u2019\u00e9volution du logiciel.","title":"Param\u00e8tres de reglages"},{"location":"product/metadata/book_metadata/","text":"Informations sur le carton Le format VirtualBook (.book) permet la d\u00e9finition de m\u00e9tadonn\u00e9es, documentant l'origine du carton, et plusieures informations associ\u00e9es Ces informations peuvent \u00eatre d\u00e9finies dans la fenetre carton. Ces renseignements informent sur le titre du carton (ind\u00e9pendemment du nom du fichier), la date de cr\u00e9ation, ainsi que l'auteur, et \u00e9ventuellement une couverture Ces informations sont sauvegard\u00e9e dans le fichier en lui m\u00eame, avec le contenu du carton et la description de la gamme du carton. Utilisation de ces informations Ces informations de carton sont utilis\u00e9e dans le moteur de recherche, permettant une recherche rapide d'un morceau. Ces \u00e9l\u00e9ments peuvent \u00e9galement \u00eatre mis en place par script.","title":"Definition des informations du carton"},{"location":"product/metadata/book_metadata/#informations-sur-le-carton","text":"Le format VirtualBook (.book) permet la d\u00e9finition de m\u00e9tadonn\u00e9es, documentant l'origine du carton, et plusieures informations associ\u00e9es Ces informations peuvent \u00eatre d\u00e9finies dans la fenetre carton. Ces renseignements informent sur le titre du carton (ind\u00e9pendemment du nom du fichier), la date de cr\u00e9ation, ainsi que l'auteur, et \u00e9ventuellement une couverture Ces informations sont sauvegard\u00e9e dans le fichier en lui m\u00eame, avec le contenu du carton et la description de la gamme du carton.","title":"Informations sur le carton"},{"location":"product/metadata/book_metadata/#utilisation-de-ces-informations","text":"Ces informations de carton sont utilis\u00e9e dans le moteur de recherche, permettant une recherche rapide d'un morceau. Ces \u00e9l\u00e9ments peuvent \u00e9galement \u00eatre mis en place par script.","title":"Utilisation de ces informations"},{"location":"product/metadata/constitution_bibliotheque/","text":"Constitution d'une biblioth\u00e8que de cartons Les informations entr\u00e9es sur les cartons sont utilis\u00e9e dans la fenetre de recherche. Cette fenetre, permet de retrouver rapidement un carton, en utilisant \u00e9galement les informations de gammes et d'instrument. Un r\u00e9pertoire est sp\u00e9cifi\u00e9 dans cette fonction pour indexer les diff\u00e9rents fichiers book, plusieurs modes de recherche sont possibles : par instrument / gamme par auteur/arrangeur","title":"Constitution d'une bibliotheque"},{"location":"product/metadata/constitution_bibliotheque/#constitution-dune-bibliotheque-de-cartons","text":"Les informations entr\u00e9es sur les cartons sont utilis\u00e9e dans la fenetre de recherche. Cette fenetre, permet de retrouver rapidement un carton, en utilisant \u00e9galement les informations de gammes et d'instrument. Un r\u00e9pertoire est sp\u00e9cifi\u00e9 dans cette fonction pour indexer les diff\u00e9rents fichiers book, plusieurs modes de recherche sont possibles : par instrument / gamme par auteur/arrangeur","title":"Constitution d'une biblioth\u00e8que de cartons"},{"location":"product/modeleditor/introduction/","text":"Introduction au model editor Patrice Freydiere - Juin 2018 Le model editor vous permet d'effectuer des traitements sur les cartons ou les fichiers midi. Il rends plus simple l'import d'un fichier midi particuier, ou propose une fa\u00e7on visuelle d'effectuer des traitements sur les cartons (par exemple, changer le carton de gamme). Comprendre le mod\u00e8le editor Le mod\u00e8le editor repose sur des processeurs, proposant des traitements. Chaque processeur effectue un traitement. Les processeurs prennent en entr\u00e9e des param\u00e8tres, et fournissent des sorties. Dans l'exemple ci dessus, le processeur prends en entr\u00e9e un fichier midi et fournit des listes de notes, class\u00e9es par code midi. Configuration des processeurs Les boites de traitements (processeurs), sont configurables. L'acc\u00e8s \u00e0 la configuration du processeur est r\u00e9alisable par un double click souris. Ce param\u00e9trage permet de sp\u00e9cifier la gamme de l'instrument, ou d'autres param\u00e8tres pouvant faire varier les entr\u00e9es et les sorties. Ci dessous un exemple de processeur permettant de transformer une succession de notes ou de trous, en un carton d'orgue de barbarie. Lorsque configur\u00e9 le processeur affiche les notes de la gamme, pour permettre des connexions en entr\u00e9e. Le premier mod\u00e8le Nous allons voir dans cette section, comment r\u00e9aliser un premier mod\u00e8le. Dans ce premier mod\u00e8le nous allons montrer comment il est possible de lire un fichier midi, puis le convertir en carton d'orgue. Contrairement \u00e0 un logiciel d'\u00e9dition MIDI, l'op\u00e9ration sera r\u00e9p\u00e9table \u00e0 volont\u00e9. Plusieurs mod\u00e8les peuvent \u00eatre mis en place en fonction des types de fichiers midi d'entr\u00e9e. Ci dessous la pr\u00e9sentation de le fenetre principale du model editor. L'\u00e9cran propose sur la gauche une palette de processeurs et sur la droite la construction du mod\u00e8le. Ajouter un processeur dans l'espace de travail La premi\u00e8re \u00e9tape consiste \u00e0 prendre l'\u00e9l\u00e9ment \"Midi File Reading\" et le faire glisser sur la zone du mod\u00e8le. une fois dans la zone, le processeur propose ses entr\u00e9es par d\u00e9faut, il est possible d'observer les param\u00e8tres de configuration en double clickant sur le processeur. Configuration du processeur un double click sur le processeur affiche une fenetre de configuration, contenant les param\u00e8tres. Dans le cas pr\u00e9sent, ce processeur prends en entr\u00e9e un fichier midi et propose en sortie une liste d'\u00e9v\u00e8nements MIDI (les notes + d'autres informations). pour alimenter l'entr\u00e9e en fichier midi, on utiliser le processeur input. Ce processeur permet de param\u00e9trer le mod\u00e8le en sp\u00e9cifiant des param\u00e8tres d'entr\u00e9e ou de sortie. Lorsqu'il est plac\u00e9 dans le mod\u00e8le, ce processeur propose un type \"chaine de caract\u00e8re\" dans sa configuation. Le changement du type de parm\u00e8tre en \"fichier\" permettra de pouvoir s\u00e9lectionner un fichier, puis de pouvoir connecter les deux \u00e9l\u00e9ments. Connexion des deux processeurs La connexion des deux boites est r\u00e9alis\u00e9e en gliss\u00e9 d\u00e9pos\u00e9 depuis la sortie, comme ci dessous : Les \u00e9v\u00e8nements Midi sont alors disponibles pour permettre la conversion en Carton. La transformation en carton est r\u00e9alis\u00e9e en utilisant le processeur \"Concentrator\", celui ci accepte en entr\u00e9e des \u00e9v\u00e8nements de notes midi , ou des notes de carton . En sortie le processeur construit un objet carton, associ\u00e9 \u00e0 une gamme d'instrument. Une fois dispos\u00e9 dans le mod\u00e8le, il est possible par configuration de choisir la gamme de l'instrument, ce qui fait apparaitre l'ensemble des entr\u00e9es. Ci dessous la liste des entr\u00e9es qui apparaissent lorsque la configuration du processeur est d\u00e9finie. Effectuer le mapping des notes Encore faut il envoyer les bonnes notes Midi sur la bonne piste, une boite va alors nous int\u00e9resser : le Midi Distributor. Cette boite permet de r\u00e9partir les notes midi et nous permet de connecter les notes midi sur le carton. On connecte alors, La sortie du midi \u00e0 l'entr\u00e9e du \"Midi Distributor\". Puis on peut connecter les pistes midi aux pistes du carton. Pour afficher le r\u00e9sultat, un processeur est ensuite ajout\u00e9 pour permettre l'affichage du resultat, dans une fenetre de type \"carton\" dans APrint Studio. Un seul param\u00e8tre est n\u00e9cessaire : le nom de l'instrument (que l'on indique comme pr\u00e9c\u00e9demment dans la configuration, accessible par double click). Le mod\u00e8le est termin\u00e9, et il est possible de l'executer. La console en bas \u00e0 gauche permet de suivre l'execution et informe sur les possibles erreurs. Le r\u00e9sultat de la lecture s'affiche dans une nouvelle fenetre. Synth\u00e8se Voici comment en quelques click , il est possible de faire une lecture personnalis\u00e9e d'un fichier midi, pour le convertir correctement en carton. Cette conversion est r\u00e9p\u00e8table, et peut \u00eatre utilis\u00e9e pour plusieurs fichiers midi diff\u00e9rents. Description des processeurs No Processeur Description Configuration associ\u00e9e 1 Concentrator Fusionne des \u00e9v\u00e8nements midi ou des notes d'un carton Gamme utilis\u00e9e 2 Distributeur R\u00e9parti les notes d'un CARTON Gamme utilis\u00e9e pour les sorties 3 Midi Distributor R\u00e9parti les \u00e9v\u00e8nements, par leur midi code Possibilit\u00e9 de limiter les sorties \u00e0 une plage de MidiCode, ou filtrer le canal des notes 4 Open Virtual Book Affiche un carton dans une nouvelle fenetre Le nom de l'instrument 5 Read Midi File Lecture d'un fichier midi et extraction des \u00e9v\u00e8nements - 6 Input Processeur g\u00e9n\u00e9rique, permettant de d\u00e9finir une valeur n\u00e9cessaire pour un processeur Type de param\u00e8tre (entr\u00e9e / sortie) Type de param\u00e8tre (fichier, boolean, chaine de caract\u00e8res, ... ) 7 Script Processeur \"Script\", permettant de cr\u00e9er de nouveau processeur pour des taches plus complexes Le script d\u00e9finissant le processeur.","title":"Prendre en main le model editor"},{"location":"product/modeleditor/introduction/#introduction-au-model-editor","text":"Patrice Freydiere - Juin 2018 Le model editor vous permet d'effectuer des traitements sur les cartons ou les fichiers midi. Il rends plus simple l'import d'un fichier midi particuier, ou propose une fa\u00e7on visuelle d'effectuer des traitements sur les cartons (par exemple, changer le carton de gamme).","title":"Introduction au model editor"},{"location":"product/modeleditor/introduction/#comprendre-le-modele-editor","text":"Le mod\u00e8le editor repose sur des processeurs, proposant des traitements. Chaque processeur effectue un traitement. Les processeurs prennent en entr\u00e9e des param\u00e8tres, et fournissent des sorties. Dans l'exemple ci dessus, le processeur prends en entr\u00e9e un fichier midi et fournit des listes de notes, class\u00e9es par code midi.","title":"Comprendre le mod\u00e8le editor"},{"location":"product/modeleditor/introduction/#configuration-des-processeurs","text":"Les boites de traitements (processeurs), sont configurables. L'acc\u00e8s \u00e0 la configuration du processeur est r\u00e9alisable par un double click souris. Ce param\u00e9trage permet de sp\u00e9cifier la gamme de l'instrument, ou d'autres param\u00e8tres pouvant faire varier les entr\u00e9es et les sorties. Ci dessous un exemple de processeur permettant de transformer une succession de notes ou de trous, en un carton d'orgue de barbarie. Lorsque configur\u00e9 le processeur affiche les notes de la gamme, pour permettre des connexions en entr\u00e9e.","title":"Configuration des processeurs"},{"location":"product/modeleditor/introduction/#le-premier-modele","text":"Nous allons voir dans cette section, comment r\u00e9aliser un premier mod\u00e8le. Dans ce premier mod\u00e8le nous allons montrer comment il est possible de lire un fichier midi, puis le convertir en carton d'orgue. Contrairement \u00e0 un logiciel d'\u00e9dition MIDI, l'op\u00e9ration sera r\u00e9p\u00e9table \u00e0 volont\u00e9. Plusieurs mod\u00e8les peuvent \u00eatre mis en place en fonction des types de fichiers midi d'entr\u00e9e. Ci dessous la pr\u00e9sentation de le fenetre principale du model editor. L'\u00e9cran propose sur la gauche une palette de processeurs et sur la droite la construction du mod\u00e8le.","title":"Le premier mod\u00e8le"},{"location":"product/modeleditor/introduction/#ajouter-un-processeur-dans-lespace-de-travail","text":"La premi\u00e8re \u00e9tape consiste \u00e0 prendre l'\u00e9l\u00e9ment \"Midi File Reading\" et le faire glisser sur la zone du mod\u00e8le. une fois dans la zone, le processeur propose ses entr\u00e9es par d\u00e9faut, il est possible d'observer les param\u00e8tres de configuration en double clickant sur le processeur.","title":"Ajouter un processeur dans l'espace de travail"},{"location":"product/modeleditor/introduction/#configuration-du-processeur","text":"un double click sur le processeur affiche une fenetre de configuration, contenant les param\u00e8tres. Dans le cas pr\u00e9sent, ce processeur prends en entr\u00e9e un fichier midi et propose en sortie une liste d'\u00e9v\u00e8nements MIDI (les notes + d'autres informations). pour alimenter l'entr\u00e9e en fichier midi, on utiliser le processeur input. Ce processeur permet de param\u00e9trer le mod\u00e8le en sp\u00e9cifiant des param\u00e8tres d'entr\u00e9e ou de sortie. Lorsqu'il est plac\u00e9 dans le mod\u00e8le, ce processeur propose un type \"chaine de caract\u00e8re\" dans sa configuation. Le changement du type de parm\u00e8tre en \"fichier\" permettra de pouvoir s\u00e9lectionner un fichier, puis de pouvoir connecter les deux \u00e9l\u00e9ments.","title":"Configuration du processeur"},{"location":"product/modeleditor/introduction/#connexion-des-deux-processeurs","text":"La connexion des deux boites est r\u00e9alis\u00e9e en gliss\u00e9 d\u00e9pos\u00e9 depuis la sortie, comme ci dessous : Les \u00e9v\u00e8nements Midi sont alors disponibles pour permettre la conversion en Carton. La transformation en carton est r\u00e9alis\u00e9e en utilisant le processeur \"Concentrator\", celui ci accepte en entr\u00e9e des \u00e9v\u00e8nements de notes midi , ou des notes de carton . En sortie le processeur construit un objet carton, associ\u00e9 \u00e0 une gamme d'instrument. Une fois dispos\u00e9 dans le mod\u00e8le, il est possible par configuration de choisir la gamme de l'instrument, ce qui fait apparaitre l'ensemble des entr\u00e9es. Ci dessous la liste des entr\u00e9es qui apparaissent lorsque la configuration du processeur est d\u00e9finie.","title":"Connexion des deux processeurs"},{"location":"product/modeleditor/introduction/#effectuer-le-mapping-des-notes","text":"Encore faut il envoyer les bonnes notes Midi sur la bonne piste, une boite va alors nous int\u00e9resser : le Midi Distributor. Cette boite permet de r\u00e9partir les notes midi et nous permet de connecter les notes midi sur le carton. On connecte alors, La sortie du midi \u00e0 l'entr\u00e9e du \"Midi Distributor\". Puis on peut connecter les pistes midi aux pistes du carton. Pour afficher le r\u00e9sultat, un processeur est ensuite ajout\u00e9 pour permettre l'affichage du resultat, dans une fenetre de type \"carton\" dans APrint Studio. Un seul param\u00e8tre est n\u00e9cessaire : le nom de l'instrument (que l'on indique comme pr\u00e9c\u00e9demment dans la configuration, accessible par double click). Le mod\u00e8le est termin\u00e9, et il est possible de l'executer. La console en bas \u00e0 gauche permet de suivre l'execution et informe sur les possibles erreurs. Le r\u00e9sultat de la lecture s'affiche dans une nouvelle fenetre.","title":"Effectuer le mapping des notes"},{"location":"product/modeleditor/introduction/#synthese","text":"Voici comment en quelques click , il est possible de faire une lecture personnalis\u00e9e d'un fichier midi, pour le convertir correctement en carton. Cette conversion est r\u00e9p\u00e8table, et peut \u00eatre utilis\u00e9e pour plusieurs fichiers midi diff\u00e9rents.","title":"Synth\u00e8se"},{"location":"product/modeleditor/introduction/#description-des-processeurs","text":"No Processeur Description Configuration associ\u00e9e 1 Concentrator Fusionne des \u00e9v\u00e8nements midi ou des notes d'un carton Gamme utilis\u00e9e 2 Distributeur R\u00e9parti les notes d'un CARTON Gamme utilis\u00e9e pour les sorties 3 Midi Distributor R\u00e9parti les \u00e9v\u00e8nements, par leur midi code Possibilit\u00e9 de limiter les sorties \u00e0 une plage de MidiCode, ou filtrer le canal des notes 4 Open Virtual Book Affiche un carton dans une nouvelle fenetre Le nom de l'instrument 5 Read Midi File Lecture d'un fichier midi et extraction des \u00e9v\u00e8nements - 6 Input Processeur g\u00e9n\u00e9rique, permettant de d\u00e9finir une valeur n\u00e9cessaire pour un processeur Type de param\u00e8tre (entr\u00e9e / sortie) Type de param\u00e8tre (fichier, boolean, chaine de caract\u00e8res, ... ) 7 Script Processeur \"Script\", permettant de cr\u00e9er de nouveau processeur pour des taches plus complexes Le script d\u00e9finissant le processeur.","title":"Description des processeurs"},{"location":"product/modeleditor/model_step_implementation/","text":"Implementation processeur Patrice Freydiere - F\u00e9vrier 2019 Dans le mod\u00e8le objet, les \u00e9tapes sont impl\u00e9ment\u00e9es par la classe ModelStep . Cette classe de base d\u00e9finit les r\u00e8gles associ\u00e9es au fonctionnement du traitement. Ci dessous les propri\u00e9t\u00e9s et m\u00e9thodes importantes de la classe Cette classe est utilis\u00e9e en d\u00e9rivation dans toutes les impl\u00e9mentations d'\u00e9tape du logiciel (Scripting, sur base objet, Visuel ... ) Chaque impl\u00e9mentation d'\u00e9tape de mod\u00e8le (processeur) prend en charge : Des param\u00e8tres de configuration (ces param\u00e8tres de configuration peuvent modifier les entr\u00e9e et les sorties) getConfigureParametersByRef() Une description des param\u00e8tres d'entr\u00e9e et de sortie ( getAllParametersByRef ) L'execution de l'\u00e9tape (impl\u00e9mentation de la m\u00e9thode execute ). Cycle de vie des processeurs Configuration Le processeur est instanci\u00e9, puis propose des param\u00e8tres de configuration. Ces param\u00e8tres sont d\u00e9finis dans le mod\u00e8le en utilisant un \"double click\", et propose la configuration du processeur. La validation de la configuration conduit le mod\u00e8le editor \u00e0 appeler la fonction applyConfig du processeur pour \u00e9ventuellement modifier la liste des param\u00e8tres. Execution Lorsque la configuration est termin\u00e9e dans le mod\u00e8le ainsi que les entr\u00e9e n\u00e9cessaires configur\u00e9es, un graph des \u00e9tape est cr\u00e9\u00e9 pour permettre l'ordonnancement des \u00e9tapes. L'\u00e9x\u00e9cuteur principal r\u00e9alise ensuite une \u00e9x\u00e9cution ordonn\u00e9e des m\u00e9thodes 'execute' des diff\u00e9rents ModelStep . Typage des param\u00e8tres Le model editor a son propre syst\u00e8me de typage pour permettre la d\u00e9finition d'\u00e9quivalence de type et simplifier l'utilisation. En effet, il est parfois n\u00e9cessaire de pouvoir pr\u00e9senter des objets avec de multiples facettes, et notamment pour la gestion des \u00e9v\u00e8nements, qui peuvent \u00eatre : des \u00e9v\u00e8nements midi ou des trous dans les cartons. Le syst\u00e8me de typage permet alors de pouvoir donner des \u00e9quivalences de typage en fonction de l'usage r\u00e9alis\u00e9. Les r\u00e8gles de connexion entre les boites du mod\u00e8le \u00e9ditor v\u00e9rifie alors l'equivalence de type propos\u00e9. (Dans le cas contraire, les connexions ne sont pas possibles) Les deux procedures principales pour le typage sont : isAssignableFrom : permet de tester si un type \"correspond \u00e0 un autre\", (inclusion) doesValueBelongToThisType: permet de savoir si une instance correspond au type Les diff\u00e9rentes impl\u00e9mentation du mod\u00e8le de type sont : GenericSimpleType: correspondance des collections java (il est possible d'utiliser des interfaces, pour la d\u00e9finition des contraintes sur l'\u00e9l\u00e9ment). CompositeType: choix entre plusieurs types exemple de choix entre une liste de \\<HoleWithScale> ou VirtualBook inVirtualBook.setType(new CompositeType( new ModelType[] { new GenericSimpleType(Collection.class, new Class[] { HoleWithScale.class }), new JavaType(VirtualBook.class) }, Javatype : exposition d'un type java JavaChoiceType: choix entre plusieurs types simple java","title":"Documentation sur les processeurs"},{"location":"product/modeleditor/model_step_implementation/#implementation-processeur","text":"Patrice Freydiere - F\u00e9vrier 2019 Dans le mod\u00e8le objet, les \u00e9tapes sont impl\u00e9ment\u00e9es par la classe ModelStep . Cette classe de base d\u00e9finit les r\u00e8gles associ\u00e9es au fonctionnement du traitement. Ci dessous les propri\u00e9t\u00e9s et m\u00e9thodes importantes de la classe Cette classe est utilis\u00e9e en d\u00e9rivation dans toutes les impl\u00e9mentations d'\u00e9tape du logiciel (Scripting, sur base objet, Visuel ... ) Chaque impl\u00e9mentation d'\u00e9tape de mod\u00e8le (processeur) prend en charge : Des param\u00e8tres de configuration (ces param\u00e8tres de configuration peuvent modifier les entr\u00e9e et les sorties) getConfigureParametersByRef() Une description des param\u00e8tres d'entr\u00e9e et de sortie ( getAllParametersByRef ) L'execution de l'\u00e9tape (impl\u00e9mentation de la m\u00e9thode execute ).","title":"Implementation processeur"},{"location":"product/modeleditor/model_step_implementation/#cycle-de-vie-des-processeurs","text":"","title":"Cycle de vie des processeurs"},{"location":"product/modeleditor/model_step_implementation/#configuration","text":"Le processeur est instanci\u00e9, puis propose des param\u00e8tres de configuration. Ces param\u00e8tres sont d\u00e9finis dans le mod\u00e8le en utilisant un \"double click\", et propose la configuration du processeur. La validation de la configuration conduit le mod\u00e8le editor \u00e0 appeler la fonction applyConfig du processeur pour \u00e9ventuellement modifier la liste des param\u00e8tres.","title":"Configuration"},{"location":"product/modeleditor/model_step_implementation/#execution","text":"Lorsque la configuration est termin\u00e9e dans le mod\u00e8le ainsi que les entr\u00e9e n\u00e9cessaires configur\u00e9es, un graph des \u00e9tape est cr\u00e9\u00e9 pour permettre l'ordonnancement des \u00e9tapes. L'\u00e9x\u00e9cuteur principal r\u00e9alise ensuite une \u00e9x\u00e9cution ordonn\u00e9e des m\u00e9thodes 'execute' des diff\u00e9rents ModelStep .","title":"Execution"},{"location":"product/modeleditor/model_step_implementation/#typage-des-parametres","text":"Le model editor a son propre syst\u00e8me de typage pour permettre la d\u00e9finition d'\u00e9quivalence de type et simplifier l'utilisation. En effet, il est parfois n\u00e9cessaire de pouvoir pr\u00e9senter des objets avec de multiples facettes, et notamment pour la gestion des \u00e9v\u00e8nements, qui peuvent \u00eatre : des \u00e9v\u00e8nements midi ou des trous dans les cartons. Le syst\u00e8me de typage permet alors de pouvoir donner des \u00e9quivalences de typage en fonction de l'usage r\u00e9alis\u00e9. Les r\u00e8gles de connexion entre les boites du mod\u00e8le \u00e9ditor v\u00e9rifie alors l'equivalence de type propos\u00e9. (Dans le cas contraire, les connexions ne sont pas possibles) Les deux procedures principales pour le typage sont : isAssignableFrom : permet de tester si un type \"correspond \u00e0 un autre\", (inclusion) doesValueBelongToThisType: permet de savoir si une instance correspond au type Les diff\u00e9rentes impl\u00e9mentation du mod\u00e8le de type sont : GenericSimpleType: correspondance des collections java (il est possible d'utiliser des interfaces, pour la d\u00e9finition des contraintes sur l'\u00e9l\u00e9ment). CompositeType: choix entre plusieurs types exemple de choix entre une liste de \\<HoleWithScale> ou VirtualBook inVirtualBook.setType(new CompositeType( new ModelType[] { new GenericSimpleType(Collection.class, new Class[] { HoleWithScale.class }), new JavaType(VirtualBook.class) }, Javatype : exposition d'un type java JavaChoiceType: choix entre plusieurs types simple java","title":"Typage des param\u00e8tres"},{"location":"product/modeleditor/transformations_visuelles/","text":"Model editor Le mod\u00e8le editor est un outil de programmation visuel, permettant d'effectuer des transformations sur des cartons, des fichiers midi, ou automatiser certaines actions. Son utilisation limite l'impl\u00e9mentation de script, ou de code et de pouvoir effectuer les taches suivantes : Chargement d'un fichier midi, et correspondance des \u00e9v\u00e8nements sur le carton Passer un carton d'instrument vers une autre gamme Faire des d\u00e9calages pour les percussions, ou autres modifications","title":"Model Editor"},{"location":"product/modeleditor/transformations_visuelles/#model-editor","text":"Le mod\u00e8le editor est un outil de programmation visuel, permettant d'effectuer des transformations sur des cartons, des fichiers midi, ou automatiser certaines actions. Son utilisation limite l'impl\u00e9mentation de script, ou de code et de pouvoir effectuer les taches suivantes : Chargement d'un fichier midi, et correspondance des \u00e9v\u00e8nements sur le carton Passer un carton d'instrument vers une autre gamme Faire des d\u00e9calages pour les percussions, ou autres modifications","title":"Model editor"},{"location":"product/modeleditor/write_your_processor/","text":"Ecrire son processeur script Patrice Freydiere - 2018 Dans le cas o\u00f9 un bloc manque dans la panoplie de ceux existants, Il est possible d'en d\u00e9finir de nouveau avec un script. Cette extensibilit\u00e9 n\u00e9cessite des comp\u00e9tences de programmation en language Java / Groovy. Premiers pas avec le processeur Script Situ\u00e9 dans la palette, un gliss\u00e9 / d\u00e9pos\u00e9, permet l'ajout du script dans le mod\u00e8le. Un double click permet de d\u00e9finir le script associ\u00e9. Le processeur script, est une classe groovy, d\u00e9rivant de ModelGroovyScript. Cette d\u00e9rivation permet la prise en charge de la classe par le proceseur de scripts. Dans cette classe, deux m\u00e9thodes sont \u00e0 d\u00e9finir / ou surcharger. La m\u00e9thode configureParameters impose de retourner la liste des param\u00e8tres qui seront expos\u00e9s par le processeur. La liste des param\u00e8tres est retourn\u00e9e dans un tableau de ModelParameter . Une seconde m\u00e9thode pour d\u00e9finir la logique \u00e9x\u00e9cut\u00e9e lors de l'\u00e9x\u00e9cution du processeur : Map execute(Map m) . Cette m\u00e9thode prends la liste des param\u00e8tres pass\u00e9s et retourne les param\u00e8tres de sortie. Ci dessous un exemple de programme d\u00e9finissant un processeur : import org.barrelorgandiscovery.model.steps.scripts.*; import org.barrelorgandiscovery.model.*; import org.barrelorgandiscovery.virtualbook.* import org.barrelorgandiscovery.xml.* import java.io.File; class T extends ModelGroovyScript { def console // cette fonction est appele\u00e9 par le model editor // pour connaitre les param\u00e8tres et leur type ModelParameter[] configureParameters() { [ newParameter(true,\"fichier book\",newJavaType(File.class)), newParameter(false,\"book\",newJavaType(VirtualBook.class))] } Map execute(Map m) { // m contient les valeures des param\u00e8tres pass\u00e9s au processeur console.println(\"hello :\") console.println(m) // on retourne le param\u00e8tre \"book\" contenant un objet Virtualbook return [book:VirtualBookXmlIO.read(m[\"fichier book\"]).virtualBook] } } new T(console:out) // le script retourne une instanciation de la classe L'exemple ci dessus montre comment lire un fichier .book en utilisant les fonctions d'APrint Studio. (en utilisant la fonction VirtualBookXmlIO.read ) Impl\u00e9mentation Le script doit retourner en sortie (derni\u00e8re ligne), une instance de classe ModelGroovyScript , cette instance sera prise en charge par le processeur et appel\u00e9e. deux m\u00e9thodes sont \u00e0 impl\u00e9menter : configureParameters : cette fonction retourne la liste des param\u00e8tres qui sont configur\u00e9s en entr\u00e9e et en sortie execute : cette fonction est appel\u00e9e lors de l'execution du processeur configureParameters Cette m\u00e9thode retourne la liste des param\u00e8tres d'entr\u00e9es et de sortie. Pour la d\u00e9finition des param\u00e8tres d'entr\u00e9e et de sortie, la m\u00e9thode newParameter (boolean isIn, String name, ModelType type) propose d'aider \u00e0 la cr\u00e9ation du param\u00e8tre. isIn : le premier param\u00e8tre indique le type de param\u00e8tre (entr\u00e9e ou sortie), si \u00e0 true, le param\u00e8tre sp\u00e9cifie un param\u00e8tre d'entr\u00e9e. name : le second sp\u00e9cifie l'identifiant utilis\u00e9 dans les hashmap pass\u00e9es en param\u00e8tres de la m\u00e9thode execute ou dans le retour de la fonction (retour de la fonction). type : type de param\u00e8tres. ce param\u00e8tre d\u00e9fini le type de param\u00e8tre (information de typage), et propose \u00e0 l'utilisateur une saisie associ\u00e9e, ainsi que de valider les types de connexion possibles avec les autres boites. l'objet param\u00e9tr\u00e9 doit \u00eatre du type ModelType deux fonctions propos\u00e9es par la classe de base, permettent de simplifier l'utilisation : newJavaType , et newHolesType le syst\u00e8me de typage est pr\u00e9cis\u00e9 dans les articles li\u00e9s \u00e0 l'impl\u00e9mentation des processeurs. execute La fonction execute est d\u00e9clench\u00e9e lors de l'execution du processeur. Celle ci impl\u00e9mente la fonctionnalit\u00e9 en fournissant les valeurs des param\u00e8tres d'entr\u00e9e dans une table de hashage et retourne le r\u00e9sultat sous cette m\u00eame forme. Les identifiants des param\u00e8tres sont utilis\u00e9s pour associer les valeurs aux param\u00e8tres d'entr\u00e9e et de sortie. Log La classe de processeur impl\u00e9ment\u00e9e peut d\u00e9clarer un objet console, pour effectuer des logs de d\u00e9boggage, permettant la mise au point. La fonction println est utilis\u00e9e pour envoyer des valeur \u00e0 la console de d\u00e9boggage.","title":"Ecrire un processeur script"},{"location":"product/modeleditor/write_your_processor/#ecrire-son-processeur-script","text":"Patrice Freydiere - 2018 Dans le cas o\u00f9 un bloc manque dans la panoplie de ceux existants, Il est possible d'en d\u00e9finir de nouveau avec un script. Cette extensibilit\u00e9 n\u00e9cessite des comp\u00e9tences de programmation en language Java / Groovy.","title":"Ecrire son processeur script"},{"location":"product/modeleditor/write_your_processor/#premiers-pas-avec-le-processeur-script","text":"Situ\u00e9 dans la palette, un gliss\u00e9 / d\u00e9pos\u00e9, permet l'ajout du script dans le mod\u00e8le. Un double click permet de d\u00e9finir le script associ\u00e9. Le processeur script, est une classe groovy, d\u00e9rivant de ModelGroovyScript. Cette d\u00e9rivation permet la prise en charge de la classe par le proceseur de scripts. Dans cette classe, deux m\u00e9thodes sont \u00e0 d\u00e9finir / ou surcharger. La m\u00e9thode configureParameters impose de retourner la liste des param\u00e8tres qui seront expos\u00e9s par le processeur. La liste des param\u00e8tres est retourn\u00e9e dans un tableau de ModelParameter . Une seconde m\u00e9thode pour d\u00e9finir la logique \u00e9x\u00e9cut\u00e9e lors de l'\u00e9x\u00e9cution du processeur : Map execute(Map m) . Cette m\u00e9thode prends la liste des param\u00e8tres pass\u00e9s et retourne les param\u00e8tres de sortie. Ci dessous un exemple de programme d\u00e9finissant un processeur : import org.barrelorgandiscovery.model.steps.scripts.*; import org.barrelorgandiscovery.model.*; import org.barrelorgandiscovery.virtualbook.* import org.barrelorgandiscovery.xml.* import java.io.File; class T extends ModelGroovyScript { def console // cette fonction est appele\u00e9 par le model editor // pour connaitre les param\u00e8tres et leur type ModelParameter[] configureParameters() { [ newParameter(true,\"fichier book\",newJavaType(File.class)), newParameter(false,\"book\",newJavaType(VirtualBook.class))] } Map execute(Map m) { // m contient les valeures des param\u00e8tres pass\u00e9s au processeur console.println(\"hello :\") console.println(m) // on retourne le param\u00e8tre \"book\" contenant un objet Virtualbook return [book:VirtualBookXmlIO.read(m[\"fichier book\"]).virtualBook] } } new T(console:out) // le script retourne une instanciation de la classe L'exemple ci dessus montre comment lire un fichier .book en utilisant les fonctions d'APrint Studio. (en utilisant la fonction VirtualBookXmlIO.read )","title":"Premiers pas avec le processeur Script"},{"location":"product/modeleditor/write_your_processor/#implementation","text":"Le script doit retourner en sortie (derni\u00e8re ligne), une instance de classe ModelGroovyScript , cette instance sera prise en charge par le processeur et appel\u00e9e. deux m\u00e9thodes sont \u00e0 impl\u00e9menter : configureParameters : cette fonction retourne la liste des param\u00e8tres qui sont configur\u00e9s en entr\u00e9e et en sortie execute : cette fonction est appel\u00e9e lors de l'execution du processeur","title":"Impl\u00e9mentation"},{"location":"product/modeleditor/write_your_processor/#configureparameters","text":"Cette m\u00e9thode retourne la liste des param\u00e8tres d'entr\u00e9es et de sortie. Pour la d\u00e9finition des param\u00e8tres d'entr\u00e9e et de sortie, la m\u00e9thode newParameter (boolean isIn, String name, ModelType type) propose d'aider \u00e0 la cr\u00e9ation du param\u00e8tre. isIn : le premier param\u00e8tre indique le type de param\u00e8tre (entr\u00e9e ou sortie), si \u00e0 true, le param\u00e8tre sp\u00e9cifie un param\u00e8tre d'entr\u00e9e. name : le second sp\u00e9cifie l'identifiant utilis\u00e9 dans les hashmap pass\u00e9es en param\u00e8tres de la m\u00e9thode execute ou dans le retour de la fonction (retour de la fonction). type : type de param\u00e8tres. ce param\u00e8tre d\u00e9fini le type de param\u00e8tre (information de typage), et propose \u00e0 l'utilisateur une saisie associ\u00e9e, ainsi que de valider les types de connexion possibles avec les autres boites. l'objet param\u00e9tr\u00e9 doit \u00eatre du type ModelType deux fonctions propos\u00e9es par la classe de base, permettent de simplifier l'utilisation : newJavaType , et newHolesType le syst\u00e8me de typage est pr\u00e9cis\u00e9 dans les articles li\u00e9s \u00e0 l'impl\u00e9mentation des processeurs.","title":"configureParameters"},{"location":"product/modeleditor/write_your_processor/#execute","text":"La fonction execute est d\u00e9clench\u00e9e lors de l'execution du processeur. Celle ci impl\u00e9mente la fonctionnalit\u00e9 en fournissant les valeurs des param\u00e8tres d'entr\u00e9e dans une table de hashage et retourne le r\u00e9sultat sous cette m\u00eame forme. Les identifiants des param\u00e8tres sont utilis\u00e9s pour associer les valeurs aux param\u00e8tres d'entr\u00e9e et de sortie.","title":"execute"},{"location":"product/modeleditor/write_your_processor/#log","text":"La classe de processeur impl\u00e9ment\u00e9e peut d\u00e9clarer un objet console, pour effectuer des logs de d\u00e9boggage, permettant la mise au point. La fonction println est utilis\u00e9e pour envoyer des valeur \u00e0 la console de d\u00e9boggage.","title":"Log"},{"location":"product/modeleditor/midi249/converting_midi49_book/","text":"Mise en pratique du Model Editor pour un arrangeur Patrice Freydiere - Decembre 2020 Certains instruments, notamment les instruments de foire, comportent de multiples jeux de registres pouvant avoir plusieurs notes identiques en midi. Se pose alors la question, lorsque l'on arrange le fichier Midi dans son logiciel s\u00e9quenceur, sur l'organisation de la notation. Doit on utiliser plusieurs canaux ? utilises t on les diff\u00e9rentes pistes ?, Doit on monter \u00e0 une octave au dessus le chant ? Ind\u00e9pendamment de l'outil utilis\u00e9 pour la cr\u00e9ation musicale Midi, Model Editor vous permet de faire rentrer votre composition Midi dans le format du carton, pour \u00e9coute ou per\u00e7age. Le cas pr\u00e9sent\u00e9 est une r\u00e9alisation de J\u00e9r\u00f4me Collomb , arrangeur \u00e0 son temps libre, sur instrument de foire limonaires et orgues de rue. Organisation de l'arrangement dans les outils Midi L'arrangement est r\u00e9alis\u00e9 par J\u00e9rome en utilisant diff\u00e9rents Canaux MIDI pour : les percussions, l'accompagnement le chant et contre chant Une image ci dessous, montre l'organisation d'un fichier Midi arrang\u00e9 pour le 49 Limonaire. Le canal \"10\" est utilis\u00e9 pour les percussions, les autres canaux sont utilis\u00e9s ici pour les diff\u00e9rentes sections de registre Utilisation du model editor pour d\u00e9finir le carton Ainsi, pour \"envoyer\" les diff\u00e9rentes notes correctement sur le carton, sans perdre la notation, Model Editor est utilis\u00e9. le chargement du fichier midi est r\u00e9alis\u00e9 par deux boites initiales, permettant de charger le fichier midi et extraire les \u00e9v\u00e8nements. Le fichier Midi est lu dans la boite \"input\" Les boites \"input\" permettent de d\u00e9finir une valeur, pouvant \u00eatre utilis\u00e9. Dans le cas ci dessus, c'est un fichier qui est lu pour permettre d'en d\u00e9coder les \u00e9v\u00e8nements. La lecture du fichier est alors r\u00e9alis\u00e9e avec le processeur 'Midi File Reading'. Celui ci lit le contenu du fichier midi et en extrait les diff\u00e9rents \u00e9v\u00e8nements. le port de sortie de la boite contient alors une collection d'\u00e9v\u00e8nement midi, qui pourra \u00eatre filtr\u00e9 pour envoi vers le carton. Pour s\u00e9parer du fichier midi, chaque canal et l'associer correctement aux diff\u00e9rentes sections du carton, le processeur Midi Distributor est utilis\u00e9, au nombre de 4, celui ci va prendre en entr\u00e9e les \u00e9v\u00e8nements midi et va filtrer les canaux important, pour ressortir : les percussions, les basses, l'accompagnement, le chant / contre chant. Comme ci dessous pour l'accompagnement : Les param\u00e8tres fromnote, tonote, permettent de limiter l'affichage du Midi Distributor, en fonction du code MIDI. (Pour plus d'information sur les valeures des notes midi, vous pouvez consulter cet article de wikipedia ). APrint, Apr\u00e8s validation de la boite, affiche les notes avec leur correspondance midi code. Ceci simplifie la compr\u00e9hension. Dans le cas de cette organisation, en canaux, le param\u00e8tre channel_filter est sp\u00e9cifi\u00e9 pour indiquer quel INDEX DE CANAL nous retenons dans le filtrage des \u00e9v\u00e8nements de type note du fichier MIDI ATTENTION, Nota : L'index de canal param\u00e9tr\u00e9 dans le Model Editor d\u00e9bute \u00e0 \"0\", et correspond \u00e0 l'encodage dans le fichier midi. Nombre de logiciels de cr\u00e9ation de musiques travaillent et affichent le Numero du canal, (qui correspond \u00e0 l'index incr\u00e9ment\u00e9 de 1). Veillez donc \u00e0 faire quelques tests pour v\u00e9rifier ce param\u00e9trage, en fonction de votre logiciel de cr\u00e9ation musical. Envoi des notes dans la gamme du carton Le d\u00e9codage midi, filtre et offre une r\u00e9partition des notes, pouvant \u00eatre connect\u00e9e sur le processeur \"Concentratror\", param\u00e9tr\u00e9 par la gamme du 49 Limonaire. La connexion des notes du Midi Distributor, peut \u00eatre r\u00e9alis\u00e9 dans les pistes souhait\u00e9es de la gamme de l'instrument. Construction du Carton Les Pistes du carton \u00e9tant aliment\u00e9e, un objet \"Carton Virtuel\" est cr\u00e9\u00e9 en sortie et peut \u00eatre affich\u00e9 dans une fen\u00eatre. Execution du mod\u00e8le L'\u00e9x\u00e9cution du mod\u00e8le est r\u00e9alis\u00e9 par le bouton \"execute\" qui lancera la transformation. L'affichage du r\u00e9sultat est alors r\u00e9alis\u00e9 dans une nouvelle fenetre. Conclusion Nous avons vu comment utiliser le mod\u00e8le editor pour faire une passerelle pr\u00e9cise, sans pertes, entre la notation dans un fichier de cr\u00e9ation musical et le passage en carton. Cette op\u00e9ration n'a demand\u00e9 aucunes comp\u00e9tences de d\u00e9veloppement et peut \u00eatre adapt\u00e9e pour l'ensemble des gammes et des instruments disponibles.","title":"Un cas d'utilisation : 49 Limonaire"},{"location":"product/modeleditor/midi249/converting_midi49_book/#mise-en-pratique-du-model-editor-pour-un-arrangeur","text":"Patrice Freydiere - Decembre 2020 Certains instruments, notamment les instruments de foire, comportent de multiples jeux de registres pouvant avoir plusieurs notes identiques en midi. Se pose alors la question, lorsque l'on arrange le fichier Midi dans son logiciel s\u00e9quenceur, sur l'organisation de la notation. Doit on utiliser plusieurs canaux ? utilises t on les diff\u00e9rentes pistes ?, Doit on monter \u00e0 une octave au dessus le chant ? Ind\u00e9pendamment de l'outil utilis\u00e9 pour la cr\u00e9ation musicale Midi, Model Editor vous permet de faire rentrer votre composition Midi dans le format du carton, pour \u00e9coute ou per\u00e7age. Le cas pr\u00e9sent\u00e9 est une r\u00e9alisation de J\u00e9r\u00f4me Collomb , arrangeur \u00e0 son temps libre, sur instrument de foire limonaires et orgues de rue.","title":"Mise en pratique du Model Editor pour un arrangeur"},{"location":"product/modeleditor/midi249/converting_midi49_book/#organisation-de-larrangement-dans-les-outils-midi","text":"L'arrangement est r\u00e9alis\u00e9 par J\u00e9rome en utilisant diff\u00e9rents Canaux MIDI pour : les percussions, l'accompagnement le chant et contre chant Une image ci dessous, montre l'organisation d'un fichier Midi arrang\u00e9 pour le 49 Limonaire. Le canal \"10\" est utilis\u00e9 pour les percussions, les autres canaux sont utilis\u00e9s ici pour les diff\u00e9rentes sections de registre","title":"Organisation de l'arrangement dans les outils Midi"},{"location":"product/modeleditor/midi249/converting_midi49_book/#utilisation-du-model-editor-pour-definir-le-carton","text":"Ainsi, pour \"envoyer\" les diff\u00e9rentes notes correctement sur le carton, sans perdre la notation, Model Editor est utilis\u00e9. le chargement du fichier midi est r\u00e9alis\u00e9 par deux boites initiales, permettant de charger le fichier midi et extraire les \u00e9v\u00e8nements. Le fichier Midi est lu dans la boite \"input\" Les boites \"input\" permettent de d\u00e9finir une valeur, pouvant \u00eatre utilis\u00e9. Dans le cas ci dessus, c'est un fichier qui est lu pour permettre d'en d\u00e9coder les \u00e9v\u00e8nements. La lecture du fichier est alors r\u00e9alis\u00e9e avec le processeur 'Midi File Reading'. Celui ci lit le contenu du fichier midi et en extrait les diff\u00e9rents \u00e9v\u00e8nements. le port de sortie de la boite contient alors une collection d'\u00e9v\u00e8nement midi, qui pourra \u00eatre filtr\u00e9 pour envoi vers le carton. Pour s\u00e9parer du fichier midi, chaque canal et l'associer correctement aux diff\u00e9rentes sections du carton, le processeur Midi Distributor est utilis\u00e9, au nombre de 4, celui ci va prendre en entr\u00e9e les \u00e9v\u00e8nements midi et va filtrer les canaux important, pour ressortir : les percussions, les basses, l'accompagnement, le chant / contre chant. Comme ci dessous pour l'accompagnement : Les param\u00e8tres fromnote, tonote, permettent de limiter l'affichage du Midi Distributor, en fonction du code MIDI. (Pour plus d'information sur les valeures des notes midi, vous pouvez consulter cet article de wikipedia ). APrint, Apr\u00e8s validation de la boite, affiche les notes avec leur correspondance midi code. Ceci simplifie la compr\u00e9hension. Dans le cas de cette organisation, en canaux, le param\u00e8tre channel_filter est sp\u00e9cifi\u00e9 pour indiquer quel INDEX DE CANAL nous retenons dans le filtrage des \u00e9v\u00e8nements de type note du fichier MIDI ATTENTION, Nota : L'index de canal param\u00e9tr\u00e9 dans le Model Editor d\u00e9bute \u00e0 \"0\", et correspond \u00e0 l'encodage dans le fichier midi. Nombre de logiciels de cr\u00e9ation de musiques travaillent et affichent le Numero du canal, (qui correspond \u00e0 l'index incr\u00e9ment\u00e9 de 1). Veillez donc \u00e0 faire quelques tests pour v\u00e9rifier ce param\u00e9trage, en fonction de votre logiciel de cr\u00e9ation musical.","title":"Utilisation du model editor pour d\u00e9finir le carton"},{"location":"product/modeleditor/midi249/converting_midi49_book/#envoi-des-notes-dans-la-gamme-du-carton","text":"Le d\u00e9codage midi, filtre et offre une r\u00e9partition des notes, pouvant \u00eatre connect\u00e9e sur le processeur \"Concentratror\", param\u00e9tr\u00e9 par la gamme du 49 Limonaire. La connexion des notes du Midi Distributor, peut \u00eatre r\u00e9alis\u00e9 dans les pistes souhait\u00e9es de la gamme de l'instrument.","title":"Envoi des notes dans la gamme du carton"},{"location":"product/modeleditor/midi249/converting_midi49_book/#construction-du-carton","text":"Les Pistes du carton \u00e9tant aliment\u00e9e, un objet \"Carton Virtuel\" est cr\u00e9\u00e9 en sortie et peut \u00eatre affich\u00e9 dans une fen\u00eatre.","title":"Construction du Carton"},{"location":"product/modeleditor/midi249/converting_midi49_book/#execution-du-modele","text":"L'\u00e9x\u00e9cution du mod\u00e8le est r\u00e9alis\u00e9 par le bouton \"execute\" qui lancera la transformation. L'affichage du r\u00e9sultat est alors r\u00e9alis\u00e9 dans une nouvelle fenetre.","title":"Execution du mod\u00e8le"},{"location":"product/modeleditor/midi249/converting_midi49_book/#conclusion","text":"Nous avons vu comment utiliser le mod\u00e8le editor pour faire une passerelle pr\u00e9cise, sans pertes, entre la notation dans un fichier de cr\u00e9ation musical et le passage en carton. Cette op\u00e9ration n'a demand\u00e9 aucunes comp\u00e9tences de d\u00e9veloppement et peut \u00eatre adapt\u00e9e pour l'ensemble des gammes et des instruments disponibles.","title":"Conclusion"},{"location":"product/montage/Montage_Cartons/","text":"Fonctionnalit\u00e9s de montage de cartons Disponible \u00e0 partir de la version 2014 Q4 Il est fr\u00e9quent de r\u00e9cup\u00e9rer des fichiers midi, ou des num\u00e9risation ne contenant que des parties de fichiers midi, organis\u00e9es en \"Refrain\" + \"Couplet\" etc ... , et que l'on doivent mettre bout \u00e0 bout ces \u00e9l\u00e9ments pour reconstituer le carton final. Ces fonctions de montage de carton peuvent \u00eatre utilis\u00e9es pour effectuer ces modifications, mais peuvent \u00eatre utilis\u00e9es \u00e9galement en \u00e9dition pour modifier, ou raccourcir ou \u00e9tendre un carton avec des refrains ou des morceaux de musique suppl\u00e9mentaires. Marquer des d\u00e9but de section une nouvelle barre d'outil affichable dans la vue carton permet de travailler avec ces nouveaux outils. ces outils travaillent avec un calque de \"marqueurs\", permettant l'affichage. Cr\u00e9er une marque La cr\u00e9ation d'une marque est r\u00e9alis\u00e9e avec l'outil \"Nouveau marqueur\", en clickant cet outil et en s\u00e9lectionnant un endroit sur le carton, il est possible de cr\u00e9er une marque de s\u00e9but de section. le marqueur apparait dans une fenetre situ\u00e9e sur la droite, donnant une vision des diff\u00e9rentes marques pos\u00e9es. Modifier la position d'une marque l'outil \"D\u00e9placer marqueur\" permet de r\u00e9ajuster le marqueur si celui ci a \u00e9t\u00e9 mal plac\u00e9 et doit \u00eatre avanc\u00e9 ou recul\u00e9. Supprimer une marque L'outil \"Supprimer marqueur\" permet d'effacer la marque, en le s\u00e9lectionnant sur le carton. Ajuster le carton Il est parfois int\u00e9ressant de pouvoir avancer ou reculer des trous sur le carton. L'outil Ajuster le carton permet par un gliss\u00e9 d\u00e9pos\u00e9 sur le carton d'avancer ou de reculer TOUS LES TROUS SITUES apr\u00e8s le click souris. Manipulation des sections Chaque marqueur d\u00e9fini un debut de section depuis sa position et juqu'\u00e0 la marque suivante, ou la fin du fichier. Une fenetre situ\u00e9e sur la droite de la fenetre d'\u00e9dition donne la possibilit\u00e9 \u00e0 l'utilisateur de travailler les sections marqu\u00e9es. Il est possible alors de dupliquer une section, d\u00e9placer une section ou supprimer une section. Ces actions sont r\u00e9alis\u00e9e en s\u00e9lectionant la section dans la fenetre, puis en effectuant un gliss\u00e9 d\u00e9pos\u00e9. Les actions sont modifi\u00e9es par la touche CTRL qui propose la duplication en lieu et place du d\u00e9placement. Entrainez vous sur ces actions, si une action n'a pas l'effet escompt\u00e9, vous pouvez annuler en utilisant le bouton \"D\u00e9faire\".","title":"Montage de poncifs ou cartons"},{"location":"product/montage/Montage_Cartons/#fonctionnalites-de-montage-de-cartons","text":"Disponible \u00e0 partir de la version 2014 Q4 Il est fr\u00e9quent de r\u00e9cup\u00e9rer des fichiers midi, ou des num\u00e9risation ne contenant que des parties de fichiers midi, organis\u00e9es en \"Refrain\" + \"Couplet\" etc ... , et que l'on doivent mettre bout \u00e0 bout ces \u00e9l\u00e9ments pour reconstituer le carton final. Ces fonctions de montage de carton peuvent \u00eatre utilis\u00e9es pour effectuer ces modifications, mais peuvent \u00eatre utilis\u00e9es \u00e9galement en \u00e9dition pour modifier, ou raccourcir ou \u00e9tendre un carton avec des refrains ou des morceaux de musique suppl\u00e9mentaires.","title":"Fonctionnalit\u00e9s de montage de cartons"},{"location":"product/montage/Montage_Cartons/#marquer-des-debut-de-section","text":"une nouvelle barre d'outil affichable dans la vue carton permet de travailler avec ces nouveaux outils. ces outils travaillent avec un calque de \"marqueurs\", permettant l'affichage.","title":"Marquer des d\u00e9but de section"},{"location":"product/montage/Montage_Cartons/#creer-une-marque","text":"La cr\u00e9ation d'une marque est r\u00e9alis\u00e9e avec l'outil \"Nouveau marqueur\", en clickant cet outil et en s\u00e9lectionnant un endroit sur le carton, il est possible de cr\u00e9er une marque de s\u00e9but de section. le marqueur apparait dans une fenetre situ\u00e9e sur la droite, donnant une vision des diff\u00e9rentes marques pos\u00e9es.","title":"Cr\u00e9er une marque"},{"location":"product/montage/Montage_Cartons/#modifier-la-position-dune-marque","text":"l'outil \"D\u00e9placer marqueur\" permet de r\u00e9ajuster le marqueur si celui ci a \u00e9t\u00e9 mal plac\u00e9 et doit \u00eatre avanc\u00e9 ou recul\u00e9.","title":"Modifier la position d'une marque"},{"location":"product/montage/Montage_Cartons/#supprimer-une-marque","text":"L'outil \"Supprimer marqueur\" permet d'effacer la marque, en le s\u00e9lectionnant sur le carton.","title":"Supprimer une marque"},{"location":"product/montage/Montage_Cartons/#ajuster-le-carton","text":"Il est parfois int\u00e9ressant de pouvoir avancer ou reculer des trous sur le carton. L'outil Ajuster le carton permet par un gliss\u00e9 d\u00e9pos\u00e9 sur le carton d'avancer ou de reculer TOUS LES TROUS SITUES apr\u00e8s le click souris.","title":"Ajuster le carton"},{"location":"product/montage/Montage_Cartons/#manipulation-des-sections","text":"Chaque marqueur d\u00e9fini un debut de section depuis sa position et juqu'\u00e0 la marque suivante, ou la fin du fichier. Une fenetre situ\u00e9e sur la droite de la fenetre d'\u00e9dition donne la possibilit\u00e9 \u00e0 l'utilisateur de travailler les sections marqu\u00e9es. Il est possible alors de dupliquer une section, d\u00e9placer une section ou supprimer une section. Ces actions sont r\u00e9alis\u00e9e en s\u00e9lectionant la section dans la fenetre, puis en effectuant un gliss\u00e9 d\u00e9pos\u00e9. Les actions sont modifi\u00e9es par la touche CTRL qui propose la duplication en lieu et place du d\u00e9placement. Entrainez vous sur ces actions, si une action n'a pas l'effet escompt\u00e9, vous pouvez annuler en utilisant le bouton \"D\u00e9faire\".","title":"Manipulation des sections"},{"location":"product/recognition/books/","text":"Reconnaissance de cartons Patrice Freydiere - 2017 Cette fonctionnalit\u00e9, accessible depuis le menu principal, permet la transformation d'une image num\u00e9ris\u00e9e en fichier book, exportable en MIDI. 3 \u00e9tapes sont n\u00e9cessaires pour la conversion de l'image en fichier midi ou book : 1 - Choix du mod\u00e8le de reconnaissance 2 - D\u00e9finition des bords du carton 3 - Reconnaissance, ajustement du tempo et corrections manuelles Numerisation du carton Cette fonctionnalit\u00e9 repose sur une image du carton. Cette image doit \u00eatre cr\u00e9\u00e9e au pr\u00e9alable par un scanner ou une camera, en utilisant un logiciel de reconstruction d'image (@@@ references). Dans nos essai, un scanner \u00e0 main de ce type a \u00e9t\u00e9 utilis\u00e9, d'autres sources d'image ont \u00e9t\u00e9 \u00e9galement test\u00e9e Le carton peut \u00eatre long (plusieurs m\u00e8tres), le processus pr\u00e9sent\u00e9 ci dessous peut \u00eatre r\u00e9p\u00e9t\u00e9 plusieurs fois, l'assemblage final pouvant \u00eatre r\u00e9alis\u00e9 avec les fonctions de copier / coller. R\u00e9solution de num\u00e9risation La reconnaissance est r\u00e9alis\u00e9e en couleur, il n'est donc pas n\u00e9cessaire d'avoir une pr\u00e9cision importante. Dans les essais conduits, pour les instruments courants (27-29 touche, orgues de foire), 200 dpi sont suffisants, avec une hauteurs de 800 pixels. Dans le cas o\u00f9 l'image est beaucoup plus importante, le logiciel proposera la cr\u00e9ation d'une image moins pr\u00e9cise et suffisante, pour acc\u00e9l\u00e9rer les traitements Conditions de num\u00e9risation Les trous sont reconnus par diff\u00e9rents mod\u00e8les math\u00e9matiques. Ces mod\u00e8les sont mis en place pour prendre en charge les cas rencontr\u00e9s. (Ces mod\u00e8les peuvent \u00eatre enrichis au besoin). Les meilleurs resultat sont obtenus en ayant un assez bon contraste entre les trous et le carton, m\u00eame si les algorithmes s'adaptent \u00e0 des contrastes moins \u00e9lev\u00e9s. 1 \u00e8re \u00e9tape : l'ouverture de l'image et choix de l'instrument Dans la premi\u00e8re \u00e9tape, on s\u00e9lectionne l'image \u00e0 transformer. Ainsi que l'instrument associ\u00e9 au carton (gamme equivalente) Lorsque l'image est s\u00e9lectionn\u00e9e, celle ci est affich\u00e9e. L'image doit \u00eatre horizonale pour pouvoir \u00eatre utilis\u00e9e dans cette fonction, si ce n'est pas le cas, il faudra prendre un logiciel de dessin pour r\u00e9aliser cette action. Lorsque l'instrument est s\u00e9lectionn\u00e9, il est possible de passer \u00e0 l'\u00e9tape suivante. D\u00e9finition du mod\u00e8le de reconnaissance L'\u00e9tape 2 propose le choix du mod\u00e8le math\u00e9matique de reconnaissance, plusieurs types sont propos\u00e9s. Le choix du type de mod\u00e8le d\u00e9clenche le calcul de traitement d'image. Ce traitement peut \u00eatre relativement long (fonction de la taille de l'image et de la complexit\u00e9 du mod\u00e8le math\u00e9matique). Une jauge indique la progression du calcul. Pendant le calcul, le resultat apparait par parties, permettant de v\u00e9rifier la bonne validit\u00e9 du choix du mod\u00e8le. Il est possible de changer si besoin. Le passage \u00e0 l'\u00e9tape suivante ne pourra \u00eatre r\u00e9alis\u00e9 qu'\u00e0 la fin du traitement de l'ensemble de l'image. Une jauge de transparence permet de visualiser l'image trait\u00e9e par rapport \u00e0 l'image d'origine. Un crit\u00e8re de bonne reconnaissance est le recouvrement en noir des zones de trous, dans le cas ou ces zones sont disparates, le mod\u00e8le n'est peut \u00eatre pas compatible. Il est alors int\u00e9ressant d'en s\u00e9lectionner un autre. Les outils de visualisation permettent de se d\u00e9placer sur l'images, de pouvoir observer le resultat. D\u00e9finition des bords du carton Apr\u00e8s la phase de traitement d'image, il est n\u00e9cessaire de caler la grille de la gamme, pour assurer une bonne reconnaissance des notes. Cette \u00e9tape est la plus d\u00e9licat (bien que simple), et d\u00e9finit grandement la qualit\u00e9 du resultat \u00e0 l'initial, 4 poign\u00e9es sont disponibles pour recaler la gamme sur le carton. L'outil d'ajustement permet de modifier leur position Par gliss\u00e9 d\u00e9plac\u00e9, sur les poign\u00e9es, il est possible d'avoir une premi\u00e8re approximation de la position de la gamme sur le poncif. Comme ci dessous Note sur l'orientation du carton il est possible que la gamme soit invers\u00e9e par rapport au carton (soit par une num\u00e9risation \u00e0 l'envers, soit par d\u00e9finition de gamme dont la r\u00e9f\u00e9rence est en bas). La r\u00e9f\u00e9rence de la gamme est indiqu\u00e9e sur l'\u00e9cran par une fl\u00e8che, comme ci dessous : Pour inverser la position de la gamme, il est possible d'inverser cette r\u00e9f\u00e9rence. La premi\u00e8re approximation, peut ne pas coller \u00e0 certains endroits du carton (probleme de num\u00e9risation, ou d\u00e9formation du carton). Comme ci dessous : Il est alors possible de cr\u00e9er des poign\u00e9es suppl\u00e9mentaires, localement avec l'outil d'ajustement en s'approchant de la ligne du bord. Le logiciel propose alors la cr\u00e9ation d'une nouvelle poign\u00e9e par click\u00e9 - gliss\u00e9. Lorsque l'outil d'ajustement est s\u00e9lectionn\u00e9, il est possible de supprimer une poign\u00e9e en s'approchant de celle ci (elle se colorie en bleu), puis en appuyant sur la touche du clavier \"DEL\" ou \"Suppr\". Ceci permet au mieux de faire coller la gamme \u00e0 l'image du carton. Lorsque le travail est termin\u00e9, il est possible de passer \u00e0 l'\u00e9tape suivante de l'assistant. ajustement termin\u00e9. Conversion en Musique et corrections manuelles L'\u00e9tape suivante montre le carton \"redress\u00e9\" sur la gamme, Les trous sont maintenant bien align\u00e9s et peuvent \u00eatre lus en utilisant le bouton \"Reconnaissance Auto ...\" La vitesse peut avoir \u00e9t\u00e9 mal interpr\u00e9t\u00e9s car d\u00e9finie par une \u00e9valuation de la largeur du carton. Il est possible de corriger cela avec l'outil \"Adjust Hole Scale\". En r\u00e9alisant un gliss\u00e9 sur le carton, il est possible de faire supperposer l'image et les trous. Le carton est ci dessus ajust\u00e9 en vitesse. Dans cette \u00e9tape, l'outil d'\u00e9dition manuel permet avec des gliss\u00e9 d\u00e9plac\u00e9, de corriger unitairement les problemes restant sur la reconnaissance. La reconnaissance est maintenant termin\u00e9e, la terminaison de l'assistant cr\u00e9er une fen\u00eatre finale, permettant l'\u00e9coute, l'assemblage ou l'export Midi.","title":"Reconnaissance d'une image de carton d'orgue"},{"location":"product/recognition/books/#reconnaissance-de-cartons","text":"Patrice Freydiere - 2017 Cette fonctionnalit\u00e9, accessible depuis le menu principal, permet la transformation d'une image num\u00e9ris\u00e9e en fichier book, exportable en MIDI. 3 \u00e9tapes sont n\u00e9cessaires pour la conversion de l'image en fichier midi ou book : 1 - Choix du mod\u00e8le de reconnaissance 2 - D\u00e9finition des bords du carton 3 - Reconnaissance, ajustement du tempo et corrections manuelles","title":"Reconnaissance de cartons"},{"location":"product/recognition/books/#numerisation-du-carton","text":"Cette fonctionnalit\u00e9 repose sur une image du carton. Cette image doit \u00eatre cr\u00e9\u00e9e au pr\u00e9alable par un scanner ou une camera, en utilisant un logiciel de reconstruction d'image (@@@ references). Dans nos essai, un scanner \u00e0 main de ce type a \u00e9t\u00e9 utilis\u00e9, d'autres sources d'image ont \u00e9t\u00e9 \u00e9galement test\u00e9e Le carton peut \u00eatre long (plusieurs m\u00e8tres), le processus pr\u00e9sent\u00e9 ci dessous peut \u00eatre r\u00e9p\u00e9t\u00e9 plusieurs fois, l'assemblage final pouvant \u00eatre r\u00e9alis\u00e9 avec les fonctions de copier / coller.","title":"Numerisation du carton"},{"location":"product/recognition/books/#resolution-de-numerisation","text":"La reconnaissance est r\u00e9alis\u00e9e en couleur, il n'est donc pas n\u00e9cessaire d'avoir une pr\u00e9cision importante. Dans les essais conduits, pour les instruments courants (27-29 touche, orgues de foire), 200 dpi sont suffisants, avec une hauteurs de 800 pixels. Dans le cas o\u00f9 l'image est beaucoup plus importante, le logiciel proposera la cr\u00e9ation d'une image moins pr\u00e9cise et suffisante, pour acc\u00e9l\u00e9rer les traitements","title":"R\u00e9solution de num\u00e9risation"},{"location":"product/recognition/books/#conditions-de-numerisation","text":"Les trous sont reconnus par diff\u00e9rents mod\u00e8les math\u00e9matiques. Ces mod\u00e8les sont mis en place pour prendre en charge les cas rencontr\u00e9s. (Ces mod\u00e8les peuvent \u00eatre enrichis au besoin). Les meilleurs resultat sont obtenus en ayant un assez bon contraste entre les trous et le carton, m\u00eame si les algorithmes s'adaptent \u00e0 des contrastes moins \u00e9lev\u00e9s.","title":"Conditions de num\u00e9risation"},{"location":"product/recognition/books/#1-ere-etape-louverture-de-limage-et-choix-de-linstrument","text":"Dans la premi\u00e8re \u00e9tape, on s\u00e9lectionne l'image \u00e0 transformer. Ainsi que l'instrument associ\u00e9 au carton (gamme equivalente) Lorsque l'image est s\u00e9lectionn\u00e9e, celle ci est affich\u00e9e. L'image doit \u00eatre horizonale pour pouvoir \u00eatre utilis\u00e9e dans cette fonction, si ce n'est pas le cas, il faudra prendre un logiciel de dessin pour r\u00e9aliser cette action. Lorsque l'instrument est s\u00e9lectionn\u00e9, il est possible de passer \u00e0 l'\u00e9tape suivante.","title":"1 \u00e8re \u00e9tape : l'ouverture de l'image et choix de l'instrument"},{"location":"product/recognition/books/#definition-du-modele-de-reconnaissance","text":"L'\u00e9tape 2 propose le choix du mod\u00e8le math\u00e9matique de reconnaissance, plusieurs types sont propos\u00e9s. Le choix du type de mod\u00e8le d\u00e9clenche le calcul de traitement d'image. Ce traitement peut \u00eatre relativement long (fonction de la taille de l'image et de la complexit\u00e9 du mod\u00e8le math\u00e9matique). Une jauge indique la progression du calcul. Pendant le calcul, le resultat apparait par parties, permettant de v\u00e9rifier la bonne validit\u00e9 du choix du mod\u00e8le. Il est possible de changer si besoin. Le passage \u00e0 l'\u00e9tape suivante ne pourra \u00eatre r\u00e9alis\u00e9 qu'\u00e0 la fin du traitement de l'ensemble de l'image. Une jauge de transparence permet de visualiser l'image trait\u00e9e par rapport \u00e0 l'image d'origine. Un crit\u00e8re de bonne reconnaissance est le recouvrement en noir des zones de trous, dans le cas ou ces zones sont disparates, le mod\u00e8le n'est peut \u00eatre pas compatible. Il est alors int\u00e9ressant d'en s\u00e9lectionner un autre. Les outils de visualisation permettent de se d\u00e9placer sur l'images, de pouvoir observer le resultat.","title":"D\u00e9finition du mod\u00e8le de reconnaissance"},{"location":"product/recognition/books/#definition-des-bords-du-carton","text":"Apr\u00e8s la phase de traitement d'image, il est n\u00e9cessaire de caler la grille de la gamme, pour assurer une bonne reconnaissance des notes. Cette \u00e9tape est la plus d\u00e9licat (bien que simple), et d\u00e9finit grandement la qualit\u00e9 du resultat \u00e0 l'initial, 4 poign\u00e9es sont disponibles pour recaler la gamme sur le carton. L'outil d'ajustement permet de modifier leur position Par gliss\u00e9 d\u00e9plac\u00e9, sur les poign\u00e9es, il est possible d'avoir une premi\u00e8re approximation de la position de la gamme sur le poncif. Comme ci dessous Note sur l'orientation du carton il est possible que la gamme soit invers\u00e9e par rapport au carton (soit par une num\u00e9risation \u00e0 l'envers, soit par d\u00e9finition de gamme dont la r\u00e9f\u00e9rence est en bas). La r\u00e9f\u00e9rence de la gamme est indiqu\u00e9e sur l'\u00e9cran par une fl\u00e8che, comme ci dessous : Pour inverser la position de la gamme, il est possible d'inverser cette r\u00e9f\u00e9rence. La premi\u00e8re approximation, peut ne pas coller \u00e0 certains endroits du carton (probleme de num\u00e9risation, ou d\u00e9formation du carton). Comme ci dessous : Il est alors possible de cr\u00e9er des poign\u00e9es suppl\u00e9mentaires, localement avec l'outil d'ajustement en s'approchant de la ligne du bord. Le logiciel propose alors la cr\u00e9ation d'une nouvelle poign\u00e9e par click\u00e9 - gliss\u00e9. Lorsque l'outil d'ajustement est s\u00e9lectionn\u00e9, il est possible de supprimer une poign\u00e9e en s'approchant de celle ci (elle se colorie en bleu), puis en appuyant sur la touche du clavier \"DEL\" ou \"Suppr\". Ceci permet au mieux de faire coller la gamme \u00e0 l'image du carton. Lorsque le travail est termin\u00e9, il est possible de passer \u00e0 l'\u00e9tape suivante de l'assistant. ajustement termin\u00e9.","title":"D\u00e9finition des bords du carton"},{"location":"product/recognition/books/#conversion-en-musique-et-corrections-manuelles","text":"L'\u00e9tape suivante montre le carton \"redress\u00e9\" sur la gamme, Les trous sont maintenant bien align\u00e9s et peuvent \u00eatre lus en utilisant le bouton \"Reconnaissance Auto ...\" La vitesse peut avoir \u00e9t\u00e9 mal interpr\u00e9t\u00e9s car d\u00e9finie par une \u00e9valuation de la largeur du carton. Il est possible de corriger cela avec l'outil \"Adjust Hole Scale\". En r\u00e9alisant un gliss\u00e9 sur le carton, il est possible de faire supperposer l'image et les trous. Le carton est ci dessus ajust\u00e9 en vitesse. Dans cette \u00e9tape, l'outil d'\u00e9dition manuel permet avec des gliss\u00e9 d\u00e9plac\u00e9, de corriger unitairement les problemes restant sur la reconnaissance. La reconnaissance est maintenant termin\u00e9e, la terminaison de l'assistant cr\u00e9er une fen\u00eatre finale, permettant l'\u00e9coute, l'assemblage ou l'export Midi.","title":"Conversion en Musique et corrections manuelles"},{"location":"product/recognition/extension/","text":"Extension de reconnaissance de fichier bookimage Depuis la version APrint 2020 Q2, une nouvelle fenetre d'extension est mise en place pour effectuer de la reconnaissance de carton, avec apprentissage. Pour l'utiliser, vous devez avoir cr\u00e9\u00e9 au pr\u00e9alable un fichier .bookimage, contenant l'image du carton. R\u00e9f\u00e9rez vous alors \u00e0 la rubrique de num\u00e9risation. Chargement du fichier BookImage Cr\u00e9er un nouveau carton, avec la gamme de l'instrument Selectionnez le bouton de chargement du fichier book image, et s\u00e9lectionnez le fichier Le carton apparait dans la zone carton. en utilisant l'outil main (d\u00e9placement), vous pouvez voir l'image mise en sous impression dans la zone carton. Sp\u00e9cifiez la reconnaissance en utilisant les outils d'apprentissage, vous pouvez indiquer \u00e0 aprint les zones contenant du carton, et les zones contenant des trous. une fois que des zones carton et trous sont d\u00e9finies,d\u00e9clenchez le traitement avec le bouton. Le traitement peut prendre un peu de temps, un ordinateur puissant est n\u00e9cessaire pour faire le travail. Quelques instant apr\u00e8s, le processus de reconnaissance est affich\u00e9 en bleu sur le carton. Il indique les trous reconnus sur l'image. En fonction de la prise de vue, et des jeux d'apprentissages donn\u00e9s, le resultat n'est pas forcement optimum, cependant il est possible de continuer \u00e0 lui d\u00e9finir les zones de trous et de carton, en fonction des erreurs commises. en g\u00e9n\u00e9ral une ou deux it\u00e9rations suffisent pour avoir un resultat tr\u00e8s int\u00e9ressant. R\u00e9cup\u00e9rez le resultat de la reconnaissance Le resultat \u00e9tant jug\u00e9 satisfaisant, la reconnaissance peut \u00eatre r\u00e9cup\u00e9r\u00e9e dans le carton, en utilisant le bouton en bas de la fen\u00eatre Il est alors possible de conserver l'image en fond et d'effectuer des retouches, en fonction du resultat de la reconnaissance.","title":"Reconnaissance du carton"},{"location":"product/recognition/extension/#extension-de-reconnaissance-de-fichier-bookimage","text":"Depuis la version APrint 2020 Q2, une nouvelle fenetre d'extension est mise en place pour effectuer de la reconnaissance de carton, avec apprentissage. Pour l'utiliser, vous devez avoir cr\u00e9\u00e9 au pr\u00e9alable un fichier .bookimage, contenant l'image du carton. R\u00e9f\u00e9rez vous alors \u00e0 la rubrique de num\u00e9risation.","title":"Extension de reconnaissance de fichier bookimage"},{"location":"product/recognition/extension/#chargement-du-fichier-bookimage","text":"Cr\u00e9er un nouveau carton, avec la gamme de l'instrument Selectionnez le bouton de chargement du fichier book image, et s\u00e9lectionnez le fichier Le carton apparait dans la zone carton. en utilisant l'outil main (d\u00e9placement), vous pouvez voir l'image mise en sous impression dans la zone carton.","title":"Chargement du fichier BookImage"},{"location":"product/recognition/extension/#specifiez-la-reconnaissance","text":"en utilisant les outils d'apprentissage, vous pouvez indiquer \u00e0 aprint les zones contenant du carton, et les zones contenant des trous. une fois que des zones carton et trous sont d\u00e9finies,d\u00e9clenchez le traitement avec le bouton. Le traitement peut prendre un peu de temps, un ordinateur puissant est n\u00e9cessaire pour faire le travail. Quelques instant apr\u00e8s, le processus de reconnaissance est affich\u00e9 en bleu sur le carton. Il indique les trous reconnus sur l'image. En fonction de la prise de vue, et des jeux d'apprentissages donn\u00e9s, le resultat n'est pas forcement optimum, cependant il est possible de continuer \u00e0 lui d\u00e9finir les zones de trous et de carton, en fonction des erreurs commises. en g\u00e9n\u00e9ral une ou deux it\u00e9rations suffisent pour avoir un resultat tr\u00e8s int\u00e9ressant.","title":"Sp\u00e9cifiez la reconnaissance"},{"location":"product/recognition/extension/#recuperez-le-resultat-de-la-reconnaissance","text":"Le resultat \u00e9tant jug\u00e9 satisfaisant, la reconnaissance peut \u00eatre r\u00e9cup\u00e9r\u00e9e dans le carton, en utilisant le bouton en bas de la fen\u00eatre Il est alors possible de conserver l'image en fond et d'effectuer des retouches, en fonction du resultat de la reconnaissance.","title":"R\u00e9cup\u00e9rez le resultat de la reconnaissance"},{"location":"product/recognition/training/","text":"Ameliorer la reconnaissance de cartons Patrice Freydiere - f\u00e9vrier 2019 APrint Studio permet d'effectuer la reconnaissance de carton en utilisant des algorithmes d'intelligence artificiels. Ces algorithmes donnent de bonnes performances sur des jeux d'entrainement donn\u00e9s. Cet article explique comment cr\u00e9er son propre mod\u00e8le de reconnaissance pour s'adapter : Aux conditions de prises de vues (\u00e9clairage) Aux diff\u00e9rents types de cartons (poncifs, cartons clairs, ou sombres). La cr\u00e9ation d'un mod\u00e8le est assez rapide, et peut n\u00e9cessiter quelques essais. Une fois le mod\u00e8le mis en place il est assez ais\u00e9 d'am\u00e9liorer SIGNIFICATIVEMENT la reconnaissance et limiter le nombre de retouches manuelles. Fonctionnement Les algorithms apprennent en fonction de param\u00e8tres d'entr\u00e9e (dans notre cas, une image). On d\u00e9finit alors dans l'image ce qui \"est\" : un trou du carton APrint Studio, utilise la large biblioth\u00e8que d'algorithmes de WEKA (projet de l'universit\u00e9 de Waikiki) exemple de d\u00e9finition des classes La classe 1 d\u00e9fini sur l'image les \"trous\", dans Fiji, un outil permet de s\u00e9lectionner des pixels et le bouton \"Add to trou\" permet de d\u00e9finir ces pixels comment faisant partie de la classe \"trous\" une fois les classes d\u00e9finies, le bouton \"Train Classifier\", permet de d\u00e9clencher l'apprentissage et de visualiser le resultat. Il est alors possible de modifier les classes de nouveau et relancer l'apprentissage. Le mod\u00e8le une fois r\u00e9alis\u00e9 peut etre sauvegard\u00e9 dans un fichier (save classifier), et r\u00e9utilis\u00e9 dans APrint Studio. Param\u00e8tres de mod\u00e8les M\u00eame si le param\u00e9trage par d\u00e9faut (utilisation des \"random forest\") donne de tr\u00e8s bons r\u00e9sultats, La performance du mod\u00e8le d\u00e9pend beaucoup des conditions d'image d'entr\u00e9e. Beaucoup d'algorithms sont disponibles et peuvent \u00eatre utilis\u00e9e pour tester les meilleurs r\u00e9sultats en fonction de conditions d'entr\u00e9e : Dans la partie sup\u00e9rieur, le plugin Segmentation Classifier Weka propose l'augmentation des param\u00e8tres d'entr\u00e9e en utilisant diff\u00e9rentes fonctions de traitement d'image. En effet, l'utilisation des filtrages de sobel (d\u00e9tection de contours) aide l'algorithme d'apprentissage pour la d\u00e9tection des trous. Retours d'exp\u00e9rience Les param\u00e8tres par d\u00e9faut fonctionnent bien, avec des couleurs d\u00e9finies. Dans le cas o\u00f9 l'on souhaite mettre en place une reconnaissance plus g\u00e9n\u00e9rale, il est possible de combiner des mod\u00e8les et des donn\u00e9es associ\u00e9es et construire un mod\u00e8le plus complet. Plus le mod\u00e8le est complet (augmentation du nombre de param\u00e8tres, complexit\u00e9 du mod\u00e8le ), plus le temps d'apprentissage et de reconnaissance est important ! Il n'est pas \u00e9tonnant d'avoir quelques dizaines de minutes de calculs est une bonne moyenne. D\u00e8s lors que le calcul ne n\u00e9cessite pas d'intervention humaines, ceci peut \u00eatre fait en tache de fond. exemple d'utilisation sur un PONCIF non perc\u00e9 : le r\u00e9sultat, apr\u00e8s mod\u00e8le sp\u00e9cifique : Autre exemple, sur une prise de vue continue (webcam) : ci dessous, le carton n'\u00e9tant pas bien guid\u00e9 en partie sup\u00e9rieur, la superposition des images g\u00e9n\u00e8re un floue dans la reconstruction finale. (Fonctionnalit\u00e9 APrint 2019)","title":"Cr\u00e9er son mod\u00e8le d'I.A."},{"location":"product/recognition/training/#ameliorer-la-reconnaissance-de-cartons","text":"Patrice Freydiere - f\u00e9vrier 2019 APrint Studio permet d'effectuer la reconnaissance de carton en utilisant des algorithmes d'intelligence artificiels. Ces algorithmes donnent de bonnes performances sur des jeux d'entrainement donn\u00e9s. Cet article explique comment cr\u00e9er son propre mod\u00e8le de reconnaissance pour s'adapter : Aux conditions de prises de vues (\u00e9clairage) Aux diff\u00e9rents types de cartons (poncifs, cartons clairs, ou sombres). La cr\u00e9ation d'un mod\u00e8le est assez rapide, et peut n\u00e9cessiter quelques essais. Une fois le mod\u00e8le mis en place il est assez ais\u00e9 d'am\u00e9liorer SIGNIFICATIVEMENT la reconnaissance et limiter le nombre de retouches manuelles.","title":"Ameliorer la reconnaissance de cartons"},{"location":"product/recognition/training/#fonctionnement","text":"Les algorithms apprennent en fonction de param\u00e8tres d'entr\u00e9e (dans notre cas, une image). On d\u00e9finit alors dans l'image ce qui \"est\" : un trou du carton APrint Studio, utilise la large biblioth\u00e8que d'algorithmes de WEKA (projet de l'universit\u00e9 de Waikiki) exemple de d\u00e9finition des classes La classe 1 d\u00e9fini sur l'image les \"trous\", dans Fiji, un outil permet de s\u00e9lectionner des pixels et le bouton \"Add to trou\" permet de d\u00e9finir ces pixels comment faisant partie de la classe \"trous\" une fois les classes d\u00e9finies, le bouton \"Train Classifier\", permet de d\u00e9clencher l'apprentissage et de visualiser le resultat. Il est alors possible de modifier les classes de nouveau et relancer l'apprentissage. Le mod\u00e8le une fois r\u00e9alis\u00e9 peut etre sauvegard\u00e9 dans un fichier (save classifier), et r\u00e9utilis\u00e9 dans APrint Studio.","title":"Fonctionnement"},{"location":"product/recognition/training/#parametres-de-modeles","text":"M\u00eame si le param\u00e9trage par d\u00e9faut (utilisation des \"random forest\") donne de tr\u00e8s bons r\u00e9sultats, La performance du mod\u00e8le d\u00e9pend beaucoup des conditions d'image d'entr\u00e9e. Beaucoup d'algorithms sont disponibles et peuvent \u00eatre utilis\u00e9e pour tester les meilleurs r\u00e9sultats en fonction de conditions d'entr\u00e9e : Dans la partie sup\u00e9rieur, le plugin Segmentation Classifier Weka propose l'augmentation des param\u00e8tres d'entr\u00e9e en utilisant diff\u00e9rentes fonctions de traitement d'image. En effet, l'utilisation des filtrages de sobel (d\u00e9tection de contours) aide l'algorithme d'apprentissage pour la d\u00e9tection des trous.","title":"Param\u00e8tres de mod\u00e8les"},{"location":"product/recognition/training/#retours-dexperience","text":"Les param\u00e8tres par d\u00e9faut fonctionnent bien, avec des couleurs d\u00e9finies. Dans le cas o\u00f9 l'on souhaite mettre en place une reconnaissance plus g\u00e9n\u00e9rale, il est possible de combiner des mod\u00e8les et des donn\u00e9es associ\u00e9es et construire un mod\u00e8le plus complet. Plus le mod\u00e8le est complet (augmentation du nombre de param\u00e8tres, complexit\u00e9 du mod\u00e8le ), plus le temps d'apprentissage et de reconnaissance est important ! Il n'est pas \u00e9tonnant d'avoir quelques dizaines de minutes de calculs est une bonne moyenne. D\u00e8s lors que le calcul ne n\u00e9cessite pas d'intervention humaines, ceci peut \u00eatre fait en tache de fond. exemple d'utilisation sur un PONCIF non perc\u00e9 : le r\u00e9sultat, apr\u00e8s mod\u00e8le sp\u00e9cifique : Autre exemple, sur une prise de vue continue (webcam) : ci dessous, le carton n'\u00e9tant pas bien guid\u00e9 en partie sup\u00e9rieur, la superposition des images g\u00e9n\u00e8re un floue dans la reconstruction finale. (Fonctionnalit\u00e9 APrint 2019)","title":"Retours d'exp\u00e9rience"},{"location":"product/scan/choosewebcam/","text":"Prise de vue pour la reconnaissance de cartons Patrice Freydiere - Mars 2019 Le choix d'une cam\u00e9ra ou d'un capteur. Pour le carton La prise de vue avec des webcam haute r\u00e9solutions semble tr\u00e8s adapt\u00e9e, \u00e0 retester Les potences utilis\u00e9es pour la num\u00e9risation de document effectuent des traitement qui rendent le carton difficilement rep\u00e9rable.","title":"Prise de vue pour la reconnaissance de cartons"},{"location":"product/scan/choosewebcam/#prise-de-vue-pour-la-reconnaissance-de-cartons","text":"Patrice Freydiere - Mars 2019 Le choix d'une cam\u00e9ra ou d'un capteur.","title":"Prise de vue pour la reconnaissance de cartons"},{"location":"product/scan/choosewebcam/#pour-le-carton","text":"La prise de vue avec des webcam haute r\u00e9solutions semble tr\u00e8s adapt\u00e9e,","title":"Pour le carton"},{"location":"product/scan/choosewebcam/#a-retester","text":"Les potences utilis\u00e9es pour la num\u00e9risation de document effectuent des traitement qui rendent le carton difficilement rep\u00e9rable.","title":"\u00e0 retester"},{"location":"product/scan/createBookVideo/","text":"Cr\u00e9er une image de carton \u00e0 partir d'une video Il est possible d'utiliser une video pour cr\u00e9er une images du carton, et permettre la supperposition avec l'espace de travail, cet article explique comment proceder. Video: (ouvrir avec le clic droit, ouvrir la video dans un nouvel onglet) Passer de la video au carton Dans l'extension Scan, il est possible depuis la version 2020 Q2, de r\u00e9cuperer des portions d'images \u00e0 partir de video. Celle ci est disponible dans l'installeur, et doit avoir \u00e9t\u00e9 install\u00e9e. Dans ce cas, le bouton apparait sur la fenetre principale. Le scan video est disponible sur la 3 eme \u00e9tape, S\u00e9lectionner ensuite le fichier video, et appuyez sur Open / Suivant pour passer \u00e0 l'\u00e9tape suivante. Si vous souhaitez faire un essai de votre cot\u00e9, ci dessous une video d'exemple , avec l'instrument associ\u00e9 (si vous ne l'avez pas d\u00e9j\u00e0). Fichier video d'exemple, pour utilisation dans APrint Studio Fichier instrument 45 Limonaire Le passage \u00e0 l'\u00e9tape suivante propose la saisie de la fenetre Utilisation de la fenetre de scan (en video, clickez sur le bouton droite, et ouvrir la video dans un nouvel onglet). Le fichier BookImage \u00e9tant cr\u00e9\u00e9, vous pouvez passer \u00e0 la nouvelle reconnaissance install\u00e9e dans la vue carton.","title":"Utiliser une Video pour scanner le carton"},{"location":"product/scan/createBookVideo/#creer-une-image-de-carton-a-partir-dune-video","text":"Il est possible d'utiliser une video pour cr\u00e9er une images du carton, et permettre la supperposition avec l'espace de travail, cet article explique comment proceder. Video: (ouvrir avec le clic droit, ouvrir la video dans un nouvel onglet)","title":"Cr\u00e9er une image de carton \u00e0 partir d'une video"},{"location":"product/scan/createBookVideo/#passer-de-la-video-au-carton","text":"Dans l'extension Scan, il est possible depuis la version 2020 Q2, de r\u00e9cuperer des portions d'images \u00e0 partir de video. Celle ci est disponible dans l'installeur, et doit avoir \u00e9t\u00e9 install\u00e9e. Dans ce cas, le bouton apparait sur la fenetre principale. Le scan video est disponible sur la 3 eme \u00e9tape, S\u00e9lectionner ensuite le fichier video, et appuyez sur Open / Suivant pour passer \u00e0 l'\u00e9tape suivante. Si vous souhaitez faire un essai de votre cot\u00e9, ci dessous une video d'exemple , avec l'instrument associ\u00e9 (si vous ne l'avez pas d\u00e9j\u00e0). Fichier video d'exemple, pour utilisation dans APrint Studio Fichier instrument 45 Limonaire Le passage \u00e0 l'\u00e9tape suivante propose la saisie de la fenetre Utilisation de la fenetre de scan (en video, clickez sur le bouton droite, et ouvrir la video dans un nouvel onglet). Le fichier BookImage \u00e9tant cr\u00e9\u00e9, vous pouvez passer \u00e0 la nouvelle reconnaissance install\u00e9e dans la vue carton.","title":"Passer de la video au carton"},{"location":"product/scan/scanning_books_intro/","text":"Construire une image de carton, de poncif 2019-02 Patrice Freydiere \u00e0 Partir de 2019, APrint Studio propose des fonctionnalit\u00e9s pour scanner les cartons endommag\u00e9s, ou des poncifs d'origine, \u00e0 partir de cam\u00e9ras USB. Des prises de vues p\u00e9riodiques peuvent \u00e9galement \u00eatre utilis\u00e9e pour la reconstruction de l'image finale. L'avantage de ce mode de fonctionnement, est de permettre d'avoir une image compl\u00e8te de l'ensemble du carton, pour pouvoir l'archiver, ou revalider apr\u00e8s coup la num\u00e9risation. Les erreurs peuvent se corriger directement in situs sur l'image du carton. Ce proc\u00e9d\u00e9 utilise un d\u00e9placement r\u00e9gulier et pr\u00e9cis. Qui peut n\u00e9cessit\u00e9 un petit montage pour positionner la cam\u00e9ra, et une avance r\u00e9guli\u00e8re pour le carton. Une prise de vue video peut \u00e9galement \u00eatre envisag\u00e9e, des outils comme VLC, permettent d'extraire de la video des prises de vues r\u00e9guli\u00e8res. Comment \u00e7a marche ? \u00e0 partir de plusieurs images r\u00e9guli\u00e8res, pris \u00e0 intervalles r\u00e9guliers ou en utilisant une base de temps fixe (sans variations de vitesse). l'utilisateur s\u00e9lectionne la fenetre de superposition et d'aquisition sur le carton : La zone en jaune indique la portion de l'image \u00e0 conserver, le param\u00e8tre \"Overlap\" sp\u00e9cifie la longueur du recouvrement sur l'image (d\u00e9calage de chaque image) En quelques clicks et r\u00e9glages, le carton apparait sur la droite, une pr\u00e9visualisation peut \u00eatre r\u00e9alis\u00e9e sur l'ensemble du carton Ce carton reconstruit peut \u00eatre utilis\u00e9 dans la reconnaissance.","title":"Construction d'un fichier bookimage du carton"},{"location":"product/scan/scanning_books_intro/#construire-une-image-de-carton-de-poncif","text":"2019-02 Patrice Freydiere \u00e0 Partir de 2019, APrint Studio propose des fonctionnalit\u00e9s pour scanner les cartons endommag\u00e9s, ou des poncifs d'origine, \u00e0 partir de cam\u00e9ras USB. Des prises de vues p\u00e9riodiques peuvent \u00e9galement \u00eatre utilis\u00e9e pour la reconstruction de l'image finale. L'avantage de ce mode de fonctionnement, est de permettre d'avoir une image compl\u00e8te de l'ensemble du carton, pour pouvoir l'archiver, ou revalider apr\u00e8s coup la num\u00e9risation. Les erreurs peuvent se corriger directement in situs sur l'image du carton. Ce proc\u00e9d\u00e9 utilise un d\u00e9placement r\u00e9gulier et pr\u00e9cis. Qui peut n\u00e9cessit\u00e9 un petit montage pour positionner la cam\u00e9ra, et une avance r\u00e9guli\u00e8re pour le carton. Une prise de vue video peut \u00e9galement \u00eatre envisag\u00e9e, des outils comme VLC, permettent d'extraire de la video des prises de vues r\u00e9guli\u00e8res.","title":"Construire une image de carton, de poncif"},{"location":"product/scan/scanning_books_intro/#comment-ca-marche","text":"\u00e0 partir de plusieurs images r\u00e9guli\u00e8res, pris \u00e0 intervalles r\u00e9guliers ou en utilisant une base de temps fixe (sans variations de vitesse). l'utilisateur s\u00e9lectionne la fenetre de superposition et d'aquisition sur le carton : La zone en jaune indique la portion de l'image \u00e0 conserver, le param\u00e8tre \"Overlap\" sp\u00e9cifie la longueur du recouvrement sur l'image (d\u00e9calage de chaque image) En quelques clicks et r\u00e9glages, le carton apparait sur la droite, une pr\u00e9visualisation peut \u00eatre r\u00e9alis\u00e9e sur l'ensemble du carton Ce carton reconstruit peut \u00eatre utilis\u00e9 dans la reconnaissance.","title":"Comment \u00e7a marche ?"},{"location":"product/scan/use_webcam/","text":"Utiliser une WebCam pour num\u00e9riser un carton 2019 - Patrice Freydiere L'utilisation d'une web cam prenant des clich\u00e9s r\u00e9gulier du carton, pour la num\u00e9risation, est possible. En prenant une s\u00e9rie d'images \u00e0 intervalles r\u00e9gulier, il est possible de cr\u00e9er un ensemble d'image pouvant \u00eatre reconstruits. ci dessous une image compl\u00e8te, une fois reconstruite du carton : Scan WebCam La s\u00e9lection du scan est r\u00e9alis\u00e9e \u00e0 partir de l'extension de scan, permettant de num\u00e9riser : en utilisant une machine en utilisant une prise de vue r\u00e9guli\u00e8res (bas\u00e9e sur le temps) Montage WebCam utilis\u00e9 pour un scan Pour l'aquision, il est possible de r\u00e9utiliser un guidage de carton, ci dessous, l'exemple de montage utilis\u00e9 sur une machine de perforation. La webcam est mont\u00e9e sur un trepied amovible, situ\u00e9 au dessus du chemin de carton. Utilisation du d\u00e9clenchement par une machine GRBL L'interface de num\u00e9risation permet l'utilisation de GRBL pour l'avancement automatique du carton entre les diff\u00e9rentes prises de vues.","title":"Utiliser une WebCam, avec prise de vues"},{"location":"product/scan/use_webcam/#utiliser-une-webcam-pour-numeriser-un-carton","text":"2019 - Patrice Freydiere L'utilisation d'une web cam prenant des clich\u00e9s r\u00e9gulier du carton, pour la num\u00e9risation, est possible. En prenant une s\u00e9rie d'images \u00e0 intervalles r\u00e9gulier, il est possible de cr\u00e9er un ensemble d'image pouvant \u00eatre reconstruits. ci dessous une image compl\u00e8te, une fois reconstruite du carton :","title":"Utiliser une WebCam pour num\u00e9riser un carton"},{"location":"product/scan/use_webcam/#scan-webcam","text":"La s\u00e9lection du scan est r\u00e9alis\u00e9e \u00e0 partir de l'extension de scan, permettant de num\u00e9riser : en utilisant une machine en utilisant une prise de vue r\u00e9guli\u00e8res (bas\u00e9e sur le temps)","title":"Scan WebCam"},{"location":"product/scan/use_webcam/#montage-webcam-utilise-pour-un-scan","text":"Pour l'aquision, il est possible de r\u00e9utiliser un guidage de carton, ci dessous, l'exemple de montage utilis\u00e9 sur une machine de perforation. La webcam est mont\u00e9e sur un trepied amovible, situ\u00e9 au dessus du chemin de carton.","title":"Montage WebCam utilis\u00e9 pour un scan"},{"location":"product/scan/use_webcam/#utilisation-du-declenchement-par-une-machine-grbl","text":"L'interface de num\u00e9risation permet l'utilisation de GRBL pour l'avancement automatique du carton entre les diff\u00e9rentes prises de vues.","title":"Utilisation du d\u00e9clenchement par une machine GRBL"},{"location":"product/scripting/TransformerCarton/","text":"Travailler avec les cartons en scripting Introduction Il est fr\u00e9quent de vouloir effectuer des transformations de fichiers midi / ou de cartons d'un instrument \u00e0 un autre. Le langage de scripting d'APrint propose un ensemble de fonctions permettant de largement simplifier ces actions, nous pr\u00e9sentons ci dessous des exemples d'utilisation de ces fonctions Nous consid\u00e9rons dans les exemples ci dessous que les actions sont r\u00e9alis\u00e9es dans une console de type \"Quickscript\", donc associ\u00e9e \u00e0 un carton et ayant une variable \"virtualbook\" pr\u00e9d\u00e9finie. Jouer avec la gamme d'un carton pour transformation import groovy.aprint.transform.* import org.barrelorgandiscovery.scale.* import org.barrelorgandiscovery.tools.MidiHelper use (NoteCategory, ScaleCategory, HoleCategory) { def h = virtualbook.scale.helper println \"nom de la gamme :\" + virtualbook.scale.name println \"\" // jouons avec les notes Note n = \"D3\".note // la note Re 3 println n // affiche D3 println n+1 // affiche D#3 println MidiHelper.localizedMidiLibelle(n.midiCode) // R\u00e9 3 // on fait une collection de notes def listeNotes = ((48..62) as List).collect { index -> new Note(midiCode: index) } println listeNotes // [C4, C#4, D4, D#4, E4, F4, F#4, G4, G#4, A4, A#4, B4, C5, C#5, D5] // transpose la liste des notes ... println listeNotes.collect { it + 1 } // [C#4, D4, D#4, E4, F4, F#4, G4, G#4, A4, A#4, B4, C5, C#5, D5, D#5] // liste des pistes du carton println \"Liste des pistes de la gamme \" + h.tracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de la gamme Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 2 -> NoteDef - 89 - CHANT Track no 3 -> NoteDef - 88 - CHANT Track no 4 -> NoteDef - 86 - CHANT Track no 5 -> NoteDef - 85 - CHANT Track no 6 -> NoteDef - 84 - CHANT Track no 7 -> NoteDef - 83 - CHANT Track no 8 -> NoteDef - 82 - CHANT Track no 9 -> NoteDef - 81 - CHANT Track no 10 -> NoteDef - 80 - CHANT Track no 11 -> NoteDef - 79 - CHANT Track no 12 -> NoteDef - 78 - CHANT Track no 13 -> NoteDef - 77 - CHANT Track no 14 -> NoteDef - 76 - CHANT Track no 15 -> NoteDef - 75 - CHANT Track no 16 -> NoteDef - 74 - CHANT Track no 17 -> NoteDef - 73 - CHANT Track no 18 -> NoteDef - 72 - CHANT Track no 19 -> NoteDef - 71 - CHANT Track no 20 -> NoteDef - 70 - CHANT Track no 21 -> NoteDef - 69 - CHANT Track no 22 -> NoteDef - 68 - CHANT Track no 23 -> NoteDef - 67 - CHANT Track no 24 -> NoteDef - 66 - ACCOMPAGNEMENT Track no 25 -> NoteDef - 65 - ACCOMPAGNEMENT Track no 26 -> NoteDef - 64 - ACCOMPAGNEMENT Track no 27 -> NoteDef - 63 - ACCOMPAGNEMENT Track no 28 -> NoteDef - 62 - ACCOMPAGNEMENT Track no 29 -> NoteDef - 61 - ACCOMPAGNEMENT Track no 30 -> NoteDef - 60 - ACCOMPAGNEMENT Track no 31 -> NoteDef - 59 - ACCOMPAGNEMENT Track no 32 -> NoteDef - 58 - ACCOMPAGNEMENT Track no 33 -> NoteDef - 57 - ACCOMPAGNEMENT Track no 34 -> NoteDef - 55 - ACCOMPAGNEMENT Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Track no 43 -> null Track no 44 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Track no 46 -> null Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@4c2849 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@1e8f2a0 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@90f19c Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1e67280 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@675039 Fin Resultat --------------------------------------------------------- */ // liste des registres possibles println \"\" println \"Diff\u00e9rents Registres : \" + h.registerSets.keySet().join(\"\\n\") /* Resultat --------------------------------------------------------- Diff\u00e9rents Registres : bass accompagnement melody counterMelody melody3 Fin Resultat --------------------------------------------------------- */ println \"\" println \"Liste des notes des basses : \" + h.tracks(h.bass.notes, h.bass.name).join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des notes des basses : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Fin Resultat --------------------------------------------------------- */ println \"\" println \"Recherche la piste du Do dans les basses : \" + h.trackWithoutOctave(\"D3\".note,h.bass.name) // Recherche la piste du Do dans les basses : Track no 37 -> NoteDef - 50 - BASSE println \"\" println \"Liste les pistes de percussion \" + h.percussionTracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de percussion Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 44 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Fin Resultat --------------------------------------------------------- */ println \"\" println \"Liste des pistes de commande de registres \" + h.registerTracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de commande de registres Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@4c2849 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@1e8f2a0 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@90f19c Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1e67280 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@675039 Fin Resultat --------------------------------------------------------- */ ///////////////////////////////////////////////////////////////////////////// // transformation de cartons def ins = services.repository.getInstrument(\"Raffin 27 / 29 t Simplifie\") // cr\u00e9ation d'un objet TransformHelper (cf documentation Groovy) def t = h.transformFor(ins.scale) def d = ins.scale.helper // on fait la correspondance entre les basses et les basses trouv\u00e9es dans le 27/29, en montant d'un demi ton def pistesnotesbasse = h.tracks(h.bass.notes, h.bass.name) println \"Piste des notes de basse origine : \" + pistesnotesbasse.join(\"\\n\") /* Resultat --------------------------------------------------------- Piste des notes de basse origine : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Fin Resultat --------------------------------------------------------- */ def notesBasseOrigineDontOnAjouteUnTon = h.bass.notes.collect { it + 2 } println notesBasseOrigineDontOnAjouteUnTon.join(\"\\n\") /* Resultat --------------------------------------------------------- G4 F#4 E4 D4 C#5 C5 B4 A4 Fin Resultat --------------------------------------------------------- */ def nonTrouvee = t.map( pistesnotesbasse, d.tracks(notesBasseOrigineDontOnAjouteUnTon as Note[] ,null )) def result = t.transform(virtualbook) // on transform le carton, result contient le carton transform\u00e9 et la liste des erreurs de transcriptions services.newVirtualBook(result.virtualbook, ins); // affiche le carton dont on a println \" Erreurs de transcription : \" + result.untransposedholes.size() // Erreurs de transcription : 3748 void }","title":"Transformer un carton"},{"location":"product/scripting/TransformerCarton/#travailler-avec-les-cartons-en-scripting","text":"","title":"Travailler avec les cartons en scripting"},{"location":"product/scripting/TransformerCarton/#introduction","text":"Il est fr\u00e9quent de vouloir effectuer des transformations de fichiers midi / ou de cartons d'un instrument \u00e0 un autre. Le langage de scripting d'APrint propose un ensemble de fonctions permettant de largement simplifier ces actions, nous pr\u00e9sentons ci dessous des exemples d'utilisation de ces fonctions Nous consid\u00e9rons dans les exemples ci dessous que les actions sont r\u00e9alis\u00e9es dans une console de type \"Quickscript\", donc associ\u00e9e \u00e0 un carton et ayant une variable \"virtualbook\" pr\u00e9d\u00e9finie.","title":"Introduction"},{"location":"product/scripting/TransformerCarton/#jouer-avec-la-gamme-dun-carton-pour-transformation","text":"import groovy.aprint.transform.* import org.barrelorgandiscovery.scale.* import org.barrelorgandiscovery.tools.MidiHelper use (NoteCategory, ScaleCategory, HoleCategory) { def h = virtualbook.scale.helper println \"nom de la gamme :\" + virtualbook.scale.name println \"\" // jouons avec les notes Note n = \"D3\".note // la note Re 3 println n // affiche D3 println n+1 // affiche D#3 println MidiHelper.localizedMidiLibelle(n.midiCode) // R\u00e9 3 // on fait une collection de notes def listeNotes = ((48..62) as List).collect { index -> new Note(midiCode: index) } println listeNotes // [C4, C#4, D4, D#4, E4, F4, F#4, G4, G#4, A4, A#4, B4, C5, C#5, D5] // transpose la liste des notes ... println listeNotes.collect { it + 1 } // [C#4, D4, D#4, E4, F4, F#4, G4, G#4, A4, A#4, B4, C5, C#5, D5, D#5] // liste des pistes du carton println \"Liste des pistes de la gamme \" + h.tracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de la gamme Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 2 -> NoteDef - 89 - CHANT Track no 3 -> NoteDef - 88 - CHANT Track no 4 -> NoteDef - 86 - CHANT Track no 5 -> NoteDef - 85 - CHANT Track no 6 -> NoteDef - 84 - CHANT Track no 7 -> NoteDef - 83 - CHANT Track no 8 -> NoteDef - 82 - CHANT Track no 9 -> NoteDef - 81 - CHANT Track no 10 -> NoteDef - 80 - CHANT Track no 11 -> NoteDef - 79 - CHANT Track no 12 -> NoteDef - 78 - CHANT Track no 13 -> NoteDef - 77 - CHANT Track no 14 -> NoteDef - 76 - CHANT Track no 15 -> NoteDef - 75 - CHANT Track no 16 -> NoteDef - 74 - CHANT Track no 17 -> NoteDef - 73 - CHANT Track no 18 -> NoteDef - 72 - CHANT Track no 19 -> NoteDef - 71 - CHANT Track no 20 -> NoteDef - 70 - CHANT Track no 21 -> NoteDef - 69 - CHANT Track no 22 -> NoteDef - 68 - CHANT Track no 23 -> NoteDef - 67 - CHANT Track no 24 -> NoteDef - 66 - ACCOMPAGNEMENT Track no 25 -> NoteDef - 65 - ACCOMPAGNEMENT Track no 26 -> NoteDef - 64 - ACCOMPAGNEMENT Track no 27 -> NoteDef - 63 - ACCOMPAGNEMENT Track no 28 -> NoteDef - 62 - ACCOMPAGNEMENT Track no 29 -> NoteDef - 61 - ACCOMPAGNEMENT Track no 30 -> NoteDef - 60 - ACCOMPAGNEMENT Track no 31 -> NoteDef - 59 - ACCOMPAGNEMENT Track no 32 -> NoteDef - 58 - ACCOMPAGNEMENT Track no 33 -> NoteDef - 57 - ACCOMPAGNEMENT Track no 34 -> NoteDef - 55 - ACCOMPAGNEMENT Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Track no 43 -> null Track no 44 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Track no 46 -> null Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@4c2849 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@1e8f2a0 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@90f19c Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1e67280 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@675039 Fin Resultat --------------------------------------------------------- */ // liste des registres possibles println \"\" println \"Diff\u00e9rents Registres : \" + h.registerSets.keySet().join(\"\\n\") /* Resultat --------------------------------------------------------- Diff\u00e9rents Registres : bass accompagnement melody counterMelody melody3 Fin Resultat --------------------------------------------------------- */ println \"\" println \"Liste des notes des basses : \" + h.tracks(h.bass.notes, h.bass.name).join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des notes des basses : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Fin Resultat --------------------------------------------------------- */ println \"\" println \"Recherche la piste du Do dans les basses : \" + h.trackWithoutOctave(\"D3\".note,h.bass.name) // Recherche la piste du Do dans les basses : Track no 37 -> NoteDef - 50 - BASSE println \"\" println \"Liste les pistes de percussion \" + h.percussionTracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de percussion Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 44 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Fin Resultat --------------------------------------------------------- */ println \"\" println \"Liste des pistes de commande de registres \" + h.registerTracks.join(\"\\n\") /* Resultat --------------------------------------------------------- Liste des pistes de commande de registres Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@4c2849 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@1e8f2a0 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@90f19c Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1e67280 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@675039 Fin Resultat --------------------------------------------------------- */ ///////////////////////////////////////////////////////////////////////////// // transformation de cartons def ins = services.repository.getInstrument(\"Raffin 27 / 29 t Simplifie\") // cr\u00e9ation d'un objet TransformHelper (cf documentation Groovy) def t = h.transformFor(ins.scale) def d = ins.scale.helper // on fait la correspondance entre les basses et les basses trouv\u00e9es dans le 27/29, en montant d'un demi ton def pistesnotesbasse = h.tracks(h.bass.notes, h.bass.name) println \"Piste des notes de basse origine : \" + pistesnotesbasse.join(\"\\n\") /* Resultat --------------------------------------------------------- Piste des notes de basse origine : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Fin Resultat --------------------------------------------------------- */ def notesBasseOrigineDontOnAjouteUnTon = h.bass.notes.collect { it + 2 } println notesBasseOrigineDontOnAjouteUnTon.join(\"\\n\") /* Resultat --------------------------------------------------------- G4 F#4 E4 D4 C#5 C5 B4 A4 Fin Resultat --------------------------------------------------------- */ def nonTrouvee = t.map( pistesnotesbasse, d.tracks(notesBasseOrigineDontOnAjouteUnTon as Note[] ,null )) def result = t.transform(virtualbook) // on transform le carton, result contient le carton transform\u00e9 et la liste des erreurs de transcriptions services.newVirtualBook(result.virtualbook, ins); // affiche le carton dont on a println \" Erreurs de transcription : \" + result.untransposedholes.size() // Erreurs de transcription : 3748 void }","title":"Jouer avec la gamme d'un carton pour transformation"},{"location":"product/scripting/extension_principale/","text":"Creation d'extensions avec groovy Il est possible depuis la version 2017, de proposer une extension dans la fen\u00eatre principale d'APrint Studio. Cette possibilit\u00e9 simplifie la mise en oeuvre pour les utilisateurs finaux, qui n'ont pas besoin de comprendre le fonctionnement des scripts. Une simple pression sur le bouton, lance la fonctionnalit\u00e9 demand\u00e9e. Exemple de pr\u00e9sentation des scripts principaux : Pr\u00e9paration du script Le script \u00e9crit est un script g\u00e9n\u00e9ral, comme expliqu\u00e9 dans la section suivante : Introduction aux scripts . Le script, \"aprintgroovyscript\" une fois cr\u00e9\u00e9 avec la console g\u00e9n\u00e9rale, peut \u00eatre install\u00e9 pour \u00eatre pr\u00e9sent\u00e9 dans la fen\u00eatre principale. Installation de l'extension Le script d\u00e9finissant l'extension est plac\u00e9 dans le r\u00e9pertoire de contenu d'aprint studio, dans un sous r\u00e9pertoire nomm\u00e9 extensionscripts comme dans l'illustration ci dessous : Lors du d\u00e9marrage du logicel, le r\u00e9pertoire est scann\u00e9 pour en extraire la liste des scripts \".aprintgroovyscript\", et ajout\u00e9 sous forme de bouton dans l'interface. Un icon peut \u00eatre associ\u00e9 en cr\u00e9ant un fichier .png \u00e0 cot\u00e9 et portant le m\u00eame nom que le script.","title":"Cr\u00e9er une extension principale en script"},{"location":"product/scripting/extension_principale/#creation-dextensions-avec-groovy","text":"Il est possible depuis la version 2017, de proposer une extension dans la fen\u00eatre principale d'APrint Studio. Cette possibilit\u00e9 simplifie la mise en oeuvre pour les utilisateurs finaux, qui n'ont pas besoin de comprendre le fonctionnement des scripts. Une simple pression sur le bouton, lance la fonctionnalit\u00e9 demand\u00e9e. Exemple de pr\u00e9sentation des scripts principaux :","title":"Creation d'extensions avec groovy"},{"location":"product/scripting/extension_principale/#preparation-du-script","text":"Le script \u00e9crit est un script g\u00e9n\u00e9ral, comme expliqu\u00e9 dans la section suivante : Introduction aux scripts . Le script, \"aprintgroovyscript\" une fois cr\u00e9\u00e9 avec la console g\u00e9n\u00e9rale, peut \u00eatre install\u00e9 pour \u00eatre pr\u00e9sent\u00e9 dans la fen\u00eatre principale.","title":"Pr\u00e9paration du script"},{"location":"product/scripting/extension_principale/#installation-de-lextension","text":"Le script d\u00e9finissant l'extension est plac\u00e9 dans le r\u00e9pertoire de contenu d'aprint studio, dans un sous r\u00e9pertoire nomm\u00e9 extensionscripts comme dans l'illustration ci dessous : Lors du d\u00e9marrage du logicel, le r\u00e9pertoire est scann\u00e9 pour en extraire la liste des scripts \".aprintgroovyscript\", et ajout\u00e9 sous forme de bouton dans l'interface. Un icon peut \u00eatre associ\u00e9 en cr\u00e9ant un fichier .png \u00e0 cot\u00e9 et portant le m\u00eame nom que le script.","title":"Installation de l'extension"},{"location":"product/scripting/implementation_outil/","text":"Impl\u00e9mentation d'un outil en script Le scripting ne se limite pas \u00e0 des transformations sur les cartons, mais peut permettre \u00e9galement de compl\u00e9ter l'\u00e9cran par de nouveaux outils. ci dessous est expliqu\u00e9 comment cr\u00e9er un nouvel outil, utilisable dans la fenetre de carton. Cet outil pr\u00e9sent\u00e9 propose un action de \"Punch\" pour faire des trous calibr\u00e9s dans le carton. Cet outil montre le coup de poin\u00e7on donn\u00e9 sur le carton, Les touches + et - permettent de r\u00e9gler la taille du poin\u00e7on Le code source associ\u00e9 \u00e0 l'outil import org.barrelorgandiscovery.gui.aedit.* import org.barrelorgandiscovery.virtualbook.* import javax.swing.* import java.awt.event.* import java.awt.* // JOptionPane.showMessageDialog(null,\"Punch Tool Activated\") class PunchTool extends Tool { def pianoroll // position actuelle de la souris // utilis\u00e9 pour l'affichage du texte Integer currentX Integer currentY // taille du trou pour les coups de poin\u00e7ons double tailleTrou = 5.0 // position courante sur le carton // si null, on est pas dans une position connue sur la matrice du carton def position def void activated() { // JOptionPane.showMessageDialog(null,\"activated \" + pianoroll) } def void unactivated() { // JOptionPane.showMessageDialog(null,\"unactivated\") } def void paintElements(Graphics g) { if (position != null) { // on est sur une position dans le carton position.track; // piste match\u00e9e position.position; // timestamp, in micros // calcul de la position de la piste en mm def axis = pianoroll.trackToMM(position.track) def debut = pianoroll.timeToMM(position.position) def scale = pianoroll.virtualBook.scale def hauteurPiste = scale.intertrackHeight g.drawRect(pianoroll.convertCartonToScreenX(debut ), pianoroll.convertCartonToScreenY(axis - hauteurPiste/2), pianoroll.MmToPixel(tailleTrou), pianoroll.MmToPixel(hauteurPiste)) g.drawString(\"\" + tailleTrou + \" mm\" , currentX, currentY) } } def void mouseMoved(MouseEvent e) { currentX = e.x currentY = e.y // on question pour savoir sur quelle piste on est // et \u00e0 quel horodatage dans le carton position = pianoroll.query(e.x, e.y) // on demande le r\u00e9affichage pour que le dessin // se fasse pianoroll.repaint() } def void mouseReleased(MouseEvent e) { if (position != null) { try { // definition de la position du \"trou\", ou \"mati\u00e8re \u00e0 remettre sur le carton\" def h = new Hole(position.track, position.position, pianoroll.MMToTime(tailleTrou)) pianoroll.startEventTransaction(); try { def us = pianoroll.undoStack us.push(new GlobalVirtualBookUndoOperation(pianoroll.virtualBook, \"Undo Punch\", pianoroll)); if (e.button == MouseEvent.BUTTON1) { // on a click\u00e9 sur le bouton gauche, on d\u00e9coupe le carton pianoroll.virtualBook.addAndMerge(h) } else if (e.button == MouseEvent.BUTTON3) { // on a click\u00e9 sur le bouton droit, on remet de la mati\u00e8re pianoroll.virtualBook.cutHoles(h) } } finally { pianoroll.endEventTransaction() } // pianoroll.repaint() } catch(Throwable t) { // en cas d'erreur, on l'affiche JOptionPane.showMessageDialog(null,t.message) } } // if position != null } void keyTyped(KeyEvent e) { // on a appuy\u00e9 sur une touche // JOptionPane.showMessageDialog(null,e.keyChar) if (e.keyChar == '+') { tailleTrou = tailleTrou + 1 pianoroll.repaint() } else if (e.keyChar == '-') { tailleTrou = tailleTrou -1 pianoroll.repaint() } } } // cr\u00e9ation de l'outil def p = new PunchTool( pianoroll: pianoroll ); // activation de l'outil dans la fenetre pianoroll.setCurrentTool(p);","title":"Ajout d'un nouvel outil"},{"location":"product/scripting/implementation_outil/#implementation-dun-outil-en-script","text":"Le scripting ne se limite pas \u00e0 des transformations sur les cartons, mais peut permettre \u00e9galement de compl\u00e9ter l'\u00e9cran par de nouveaux outils. ci dessous est expliqu\u00e9 comment cr\u00e9er un nouvel outil, utilisable dans la fenetre de carton. Cet outil pr\u00e9sent\u00e9 propose un action de \"Punch\" pour faire des trous calibr\u00e9s dans le carton. Cet outil montre le coup de poin\u00e7on donn\u00e9 sur le carton, Les touches + et - permettent de r\u00e9gler la taille du poin\u00e7on Le code source associ\u00e9 \u00e0 l'outil import org.barrelorgandiscovery.gui.aedit.* import org.barrelorgandiscovery.virtualbook.* import javax.swing.* import java.awt.event.* import java.awt.* // JOptionPane.showMessageDialog(null,\"Punch Tool Activated\") class PunchTool extends Tool { def pianoroll // position actuelle de la souris // utilis\u00e9 pour l'affichage du texte Integer currentX Integer currentY // taille du trou pour les coups de poin\u00e7ons double tailleTrou = 5.0 // position courante sur le carton // si null, on est pas dans une position connue sur la matrice du carton def position def void activated() { // JOptionPane.showMessageDialog(null,\"activated \" + pianoroll) } def void unactivated() { // JOptionPane.showMessageDialog(null,\"unactivated\") } def void paintElements(Graphics g) { if (position != null) { // on est sur une position dans le carton position.track; // piste match\u00e9e position.position; // timestamp, in micros // calcul de la position de la piste en mm def axis = pianoroll.trackToMM(position.track) def debut = pianoroll.timeToMM(position.position) def scale = pianoroll.virtualBook.scale def hauteurPiste = scale.intertrackHeight g.drawRect(pianoroll.convertCartonToScreenX(debut ), pianoroll.convertCartonToScreenY(axis - hauteurPiste/2), pianoroll.MmToPixel(tailleTrou), pianoroll.MmToPixel(hauteurPiste)) g.drawString(\"\" + tailleTrou + \" mm\" , currentX, currentY) } } def void mouseMoved(MouseEvent e) { currentX = e.x currentY = e.y // on question pour savoir sur quelle piste on est // et \u00e0 quel horodatage dans le carton position = pianoroll.query(e.x, e.y) // on demande le r\u00e9affichage pour que le dessin // se fasse pianoroll.repaint() } def void mouseReleased(MouseEvent e) { if (position != null) { try { // definition de la position du \"trou\", ou \"mati\u00e8re \u00e0 remettre sur le carton\" def h = new Hole(position.track, position.position, pianoroll.MMToTime(tailleTrou)) pianoroll.startEventTransaction(); try { def us = pianoroll.undoStack us.push(new GlobalVirtualBookUndoOperation(pianoroll.virtualBook, \"Undo Punch\", pianoroll)); if (e.button == MouseEvent.BUTTON1) { // on a click\u00e9 sur le bouton gauche, on d\u00e9coupe le carton pianoroll.virtualBook.addAndMerge(h) } else if (e.button == MouseEvent.BUTTON3) { // on a click\u00e9 sur le bouton droit, on remet de la mati\u00e8re pianoroll.virtualBook.cutHoles(h) } } finally { pianoroll.endEventTransaction() } // pianoroll.repaint() } catch(Throwable t) { // en cas d'erreur, on l'affiche JOptionPane.showMessageDialog(null,t.message) } } // if position != null } void keyTyped(KeyEvent e) { // on a appuy\u00e9 sur une touche // JOptionPane.showMessageDialog(null,e.keyChar) if (e.keyChar == '+') { tailleTrou = tailleTrou + 1 pianoroll.repaint() } else if (e.keyChar == '-') { tailleTrou = tailleTrou -1 pianoroll.repaint() } } } // cr\u00e9ation de l'outil def p = new PunchTool( pianoroll: pianoroll ); // activation de l'outil dans la fenetre pianoroll.setCurrentTool(p);","title":"Impl\u00e9mentation d'un outil en script"},{"location":"product/scripting/scriptexamples/","text":"Scripts Samples Exemples de scripts Lister les instruments pr\u00e9sents Liste instruments Dans la console g\u00e9n\u00e9rale def repository = services.repository print repository def instruments = repository.listInstruments() instruments.each { print \"\" + it.name + \"\\n\" } lister tous les trous dans la console list all holes in the console dans la console carton in the book console virtualbook.holesCopy.each { println(\"\" + it) } void d\u00e9placer les trous s\u00e9lectionn\u00e9s de 10 mm move selected hole by 10 mm dans la console carton in the book console import org.barrelorgandiscovery.virtualbook.* def c = pianoroll.selectionCopy pianoroll.clearSelection() c.each { virtualbook.removeHole(it) def h = new Hole(it.track, + virtualbook.scale.mmToTime(10) + it.timestamp, it.length) virtualbook.addHole(h) pianoroll.addToSelection(h) } void S\u00e9lectionner les basses Select the bass dans la console carton in the book console pianoroll.clearSelection() def holes = virtualbook.holesCopy def basses = virtualbook.scale.findNoteDefTrack(\"BASSE\") holes.each { if (it.track in basses) { pianoroll.addToSelection(it) } } void Rechercher tous les trous sup\u00e9rieurs \u00e0 20mm pour diviser leur longueur par 2 Search all holes greater than 20mm and divide its length by 2 dans la console carton in the book console import org.barrelorgandiscovery.virtualbook.* pianoroll.clearSelection() def list=[] virtualbook.holesCopy.each { if (virtualbook.scale.timeToMM(it.length) > 20) { virtualbook.removeHole(it) def h = new Hole(it.track, it.timestamp, (long)(it.length / 2)) virtualbook.addHole(h) list.push(h) } } list.each {pianoroll.addToSelection(it)} Cr\u00e9er une gamme de test pour un instrument Create a test scale for an instrument import org.barrelorgandiscovery.scale.*; import org.barrelorgandiscovery.virtualbook.*; print services def r = services.repository def instrument = r.getInstrument(\"52 Touches FROR (Gamme Limonaire)\") //def instrument = r.getInstrument(\"50 JazzBand Limonaire\") if (instrument == null) throw new Exception(\"error, instrument not found\") print \"instrument name :\" + instrument.name + \"\\n\" def scale = instrument.scale def t = scale.tracksDefinition print \"****************************************************\" print \"List all tracks definitions \\n\" print \"getting the reset command keys\" def resetkeys = [] for (i in 0..t.length-1) { if (t[i] instanceof RegisterSetCommandResetDef) resetkeys.add(i) } def registerByPipeStops = [:] // pour chaque commande dans la gamme, on memorise les registres influent dessus ... for (i in 0..t.length-1) { def it = t[i] if (t[i] instanceof RegisterCommandStartDef) { print \"adding \" + it.registerSetName + \" to \" + t[i] if (! (registerByPipeStops[it.registerSetName])) { registerByPipeStops[it.registerSetName] = [] } registerByPipeStops[it.registerSetName].add([\"track\" : i, \"register\":it.registerInRegisterSet]) } } print \"\\n\\n\\nDone !\" print registerByPipeStops def longueur = 1000000 def smallNote = 100000 def registerchangelength = 200000 // create a new virtual book def v = new VirtualBook(scale) v.name = \"Gamme \" + instrument.name // position in the book def start = 100000 // this function add a play note with repeated small note def addPlayNote = {int track -> v.addHole(new Hole(track,start,longueur)) start += longueur + smallNote [0,1,2].each { v.addHole(new Hole(track,start,smallNote)) start += 2*smallNote } } // this function activate a register def addRegisterChange = {int track-> v.addHole(new Hole(track,start,registerchangelength)) start += registerchangelength * 2 } def addHoles = { rs -> for(i in 0..t.length-1) { if (t[i] instanceof NoteDef) { if (rs != null && t[i].registerSetName != rs ) { continue } addPlayNote(i) } } } addHoles(null); registerByPipeStops.each { // reset all the registers resetkeys.each { def track = it v.addHole(new Hole(track, start, registerchangelength)) } start += registerchangelength * 2 def k = it.key it.value.each { print \"\" + k + \"\\n\" addRegisterChange(it[\"track\"]) addHoles(k) } } // add the virtual book to aprint services.newVirtualBook(v,instrument) void Ouvrir une fen\u00eatre de s\u00e9lection de r\u00e9pertoire Open a Directory Selection Frame dans la console carton ou la console g\u00e9n\u00e9rale In the general console import groovy.aprint.tools.* new ChooseFolderFrame(action : { f-> print \"Hello le r\u00e9pertoire s\u00e9lectionn\u00e9 est : ${f}\" }).show()","title":"Scriptexamples"},{"location":"product/scripting/scriptexamples/#scripts-samples","text":"","title":"Scripts Samples"},{"location":"product/scripting/scriptexamples/#exemples-de-scripts","text":"","title":"Exemples de scripts"},{"location":"product/scripting/scriptexamples/#lister-les-instruments-presents","text":"","title":"Lister les instruments pr\u00e9sents"},{"location":"product/scripting/scriptexamples/#liste-instruments","text":"Dans la console g\u00e9n\u00e9rale def repository = services.repository print repository def instruments = repository.listInstruments() instruments.each { print \"\" + it.name + \"\\n\" }","title":"Liste instruments"},{"location":"product/scripting/scriptexamples/#lister-tous-les-trous-dans-la-console","text":"","title":"lister tous les trous dans la console"},{"location":"product/scripting/scriptexamples/#list-all-holes-in-the-console","text":"dans la console carton in the book console virtualbook.holesCopy.each { println(\"\" + it) } void","title":"list all holes in the console"},{"location":"product/scripting/scriptexamples/#deplacer-les-trous-selectionnes-de-10-mm","text":"","title":"d\u00e9placer les trous s\u00e9lectionn\u00e9s de 10 mm"},{"location":"product/scripting/scriptexamples/#move-selected-hole-by-10-mm","text":"dans la console carton in the book console import org.barrelorgandiscovery.virtualbook.* def c = pianoroll.selectionCopy pianoroll.clearSelection() c.each { virtualbook.removeHole(it) def h = new Hole(it.track, + virtualbook.scale.mmToTime(10) + it.timestamp, it.length) virtualbook.addHole(h) pianoroll.addToSelection(h) } void","title":"move selected hole by 10 mm"},{"location":"product/scripting/scriptexamples/#selectionner-les-basses","text":"","title":"S\u00e9lectionner les basses"},{"location":"product/scripting/scriptexamples/#select-the-bass","text":"dans la console carton in the book console pianoroll.clearSelection() def holes = virtualbook.holesCopy def basses = virtualbook.scale.findNoteDefTrack(\"BASSE\") holes.each { if (it.track in basses) { pianoroll.addToSelection(it) } } void","title":"Select the bass"},{"location":"product/scripting/scriptexamples/#rechercher-tous-les-trous-superieurs-a-20mm-pour-diviser-leur-longueur-par-2","text":"","title":"Rechercher tous les trous sup\u00e9rieurs \u00e0 20mm pour diviser leur longueur par 2"},{"location":"product/scripting/scriptexamples/#search-all-holes-greater-than-20mm-and-divide-its-length-by-2","text":"dans la console carton in the book console import org.barrelorgandiscovery.virtualbook.* pianoroll.clearSelection() def list=[] virtualbook.holesCopy.each { if (virtualbook.scale.timeToMM(it.length) > 20) { virtualbook.removeHole(it) def h = new Hole(it.track, it.timestamp, (long)(it.length / 2)) virtualbook.addHole(h) list.push(h) } } list.each {pianoroll.addToSelection(it)}","title":"Search all holes greater than 20mm and divide its length by 2"},{"location":"product/scripting/scriptexamples/#creer-une-gamme-de-test-pour-un-instrument","text":"","title":"Cr\u00e9er une gamme de test pour un instrument"},{"location":"product/scripting/scriptexamples/#create-a-test-scale-for-an-instrument","text":"import org.barrelorgandiscovery.scale.*; import org.barrelorgandiscovery.virtualbook.*; print services def r = services.repository def instrument = r.getInstrument(\"52 Touches FROR (Gamme Limonaire)\") //def instrument = r.getInstrument(\"50 JazzBand Limonaire\") if (instrument == null) throw new Exception(\"error, instrument not found\") print \"instrument name :\" + instrument.name + \"\\n\" def scale = instrument.scale def t = scale.tracksDefinition print \"****************************************************\" print \"List all tracks definitions \\n\" print \"getting the reset command keys\" def resetkeys = [] for (i in 0..t.length-1) { if (t[i] instanceof RegisterSetCommandResetDef) resetkeys.add(i) } def registerByPipeStops = [:] // pour chaque commande dans la gamme, on memorise les registres influent dessus ... for (i in 0..t.length-1) { def it = t[i] if (t[i] instanceof RegisterCommandStartDef) { print \"adding \" + it.registerSetName + \" to \" + t[i] if (! (registerByPipeStops[it.registerSetName])) { registerByPipeStops[it.registerSetName] = [] } registerByPipeStops[it.registerSetName].add([\"track\" : i, \"register\":it.registerInRegisterSet]) } } print \"\\n\\n\\nDone !\" print registerByPipeStops def longueur = 1000000 def smallNote = 100000 def registerchangelength = 200000 // create a new virtual book def v = new VirtualBook(scale) v.name = \"Gamme \" + instrument.name // position in the book def start = 100000 // this function add a play note with repeated small note def addPlayNote = {int track -> v.addHole(new Hole(track,start,longueur)) start += longueur + smallNote [0,1,2].each { v.addHole(new Hole(track,start,smallNote)) start += 2*smallNote } } // this function activate a register def addRegisterChange = {int track-> v.addHole(new Hole(track,start,registerchangelength)) start += registerchangelength * 2 } def addHoles = { rs -> for(i in 0..t.length-1) { if (t[i] instanceof NoteDef) { if (rs != null && t[i].registerSetName != rs ) { continue } addPlayNote(i) } } } addHoles(null); registerByPipeStops.each { // reset all the registers resetkeys.each { def track = it v.addHole(new Hole(track, start, registerchangelength)) } start += registerchangelength * 2 def k = it.key it.value.each { print \"\" + k + \"\\n\" addRegisterChange(it[\"track\"]) addHoles(k) } } // add the virtual book to aprint services.newVirtualBook(v,instrument) void","title":"Create a test scale for an instrument"},{"location":"product/scripting/scriptexamples/#ouvrir-une-fenetre-de-selection-de-repertoire","text":"","title":"Ouvrir une fen\u00eatre de s\u00e9lection de r\u00e9pertoire"},{"location":"product/scripting/scriptexamples/#open-a-directory-selection-frame","text":"dans la console carton ou la console g\u00e9n\u00e9rale In the general console import groovy.aprint.tools.* new ChooseFolderFrame(action : { f-> print \"Hello le r\u00e9pertoire s\u00e9lectionn\u00e9 est : ${f}\" }).show()","title":"Open a Directory Selection Frame"},{"location":"product/scripting/scripting/","text":"Scripting avec APrint Bien que le logiciel permette de r\u00e9aliser des cartons, certaines fonctionnalit\u00e9s n'ont pas \u00e9t\u00e9 pr\u00e9vues ou m\u00eame d\u00e9velopp\u00e9es. APrint et APrint Studio int\u00e8grent un langage de script permettant de prototyper ou combler des manques dans le programme initial. Dans l'activit\u00e9 d'arrangement de cartons, il est fr\u00e9quent de faire des manipulations qui n'ont pas \u00e9t\u00e9 pr\u00e9vues, le langage de script permet d'ajouter des fonctionnalit\u00e9s facilement sans \u00eatre d\u00e9veloppeur. Plusieurs consoles de script ont \u00e9t\u00e9 int\u00e9gr\u00e9es \u00e0 des endroits strat\u00e9giques du logiciel. Il est ainsi possible de manipuler les instruments, le carton, les exports vid\u00e9o, la g\u00e9n\u00e9ration de gamme et tous les objets utilis\u00e9s dans le logiciel. Il est \u00e9galement possible de cr\u00e9er des fen\u00eatres pour faciliter l'utilisation de ces nouvelles fonctionnalit\u00e9s. APrint utilise le language groovy comme moteur de scripts. Ce language simple \u00e0 apprendre a une multitude d'exemples, tutoriels, informations de r\u00e9f\u00e9rences sont disponibles sur le site de groovy \u00e0 cette adresse http://groovy.codehaus.org/ . Ce langage bas\u00e9 sur Java permet d'exploiter tous les objets du logiciel APrint L'utilisation du langage de script au sein du logiciel est r\u00e9alis\u00e9e dans des consoles, ces consoles donnent acc\u00e8s au contexte direct de l'application via des variables pr\u00e9d\u00e9finies qui permettent d'acc\u00e9der aux objets vivants de l'application (possibilit\u00e9 de piloter l'application). Il est \u00e9galement possible d'utiliser principalement le langage de script (utilisation de la console Groovy) et d'y ajouter en r\u00e9f\u00e9rence les objets du logiciel APrint. Plusieurs consoles sont disponibles dans le logiciel : Une console g\u00e9n\u00e9rale cette console permet la construction g\u00e9n\u00e9rale de scripts, non reli\u00e9e \u00e0 un carton donn\u00e9e Une console carton (quickscript) Cette console donne un acc\u00e8s au contenu du carton, des trous et permet de modifier le contenu directement, cet acc\u00e8s est souvent utilis\u00e9 pour des modifications en masse du contenu du carton Une console pour la partie instrument (export / import / transformations). Console g\u00e9n\u00e9rale d'APrint Situ\u00e9e dans le menu Outil, cette console permet d'effectuer des op\u00e9rations g\u00e9n\u00e9rales non forcement li\u00e9es \u00e0 un carton. cette console g\u00e9n\u00e9rale permet entre autres d'automatiser l'import du fichier MIDI ainsi que toutes les t\u00e2ches r\u00e9p\u00e9titives sur plusieurs objets du logiciel (instrument, cartons). la fenetre de scripting propose deux panneau pour cr\u00e9er les programme et visualiser le resultat : Dans l'\u00e9criture d'un programme, des variables importantes sont pr\u00e9-d\u00e9clar\u00e9es pour donner acc\u00e8s au logiciel, la premi\u00e8re variable d\u00e9finie est la variable services o\u00f9 le logiciel offre ses services au d\u00e9veloppeur. plusieurs m\u00e9thodes sont disponibles sur cette variable : Methode Description Object getOwnerForDialog () R\u00e9cup\u00e9ration de la fen\u00eatre globale, utilis\u00e9e pour les fen\u00eatres modales Repository2 getRepository () R\u00e9cup\u00e9ration de l'objet contenant les instruments void newVirtualBook (VirtualBook virtualBook, Instrument instrument) cr\u00e9e une nouvelle fen\u00eatre avec le carton et pour un instrument donn\u00e9. void newVirtualBook (VirtualBook virtualBook, Instrument instrument, IssueCollection collection) cr\u00e9e une nouvelle fen\u00eatre avec le carton et pour un instrument donn\u00e9, avec \u00e9ventuellement un passage des erreurs (issuecollection) il est donc possible : de cr\u00e9er des fenetres, r\u00e9cup\u00e9rer la d\u00e9finition des instruments, cr\u00e9er une nouvelle fenetre de carton. L'ensemble des objets du logiciel sont \u00e9galement accessibles, pour par exemple : lire des fichiers midi \u00e9crire des carton cr\u00e9er des videos ... etc toutes les fonctionnalit\u00e9s du logiciel sont accessibles, il n'y a pas de restrictions. Console carton (quickscript) Cette console est \u00e9x\u00e9cut\u00e9e \u00e0 partir du bouton Groovy : ce bouton affiche une fenetre pour cr\u00e9er des scripts en lien avec le carton : Dans cette console, les variables pr\u00e9d\u00e9finies sont les suivantes : virtualbook : donne acc\u00e8s au carton pianoroll: donne acc\u00e8s au composant visuel (permettant de r\u00e9cup\u00e9rer par exemple une s\u00e9lection de trous \u00e0 modifier) currentinstrument : l'instrument courant Console dans l'instrument Cette console est accessible dans la description d'un instrument, \u00e0 cet endroit il est possible de cr\u00e9er des scripts d'import MIDI sp\u00e9cialis\u00e9s, ou des scripts d'export MIDI (pour l'\u00e9coute). cette console permet de red\u00e9finir la fa\u00e7on dont on ajoute des fichiers midi dans le logiciel et de pouvoir s'adapter \u00e0 des conventions d'arrangement ou r\u00e9cup\u00e9ration de pistes, canaux sp\u00e9cifiques, effectuer des transpositions .. etc ..","title":"Scripting"},{"location":"product/scripting/scripting/#scripting-avec-aprint","text":"Bien que le logiciel permette de r\u00e9aliser des cartons, certaines fonctionnalit\u00e9s n'ont pas \u00e9t\u00e9 pr\u00e9vues ou m\u00eame d\u00e9velopp\u00e9es. APrint et APrint Studio int\u00e8grent un langage de script permettant de prototyper ou combler des manques dans le programme initial. Dans l'activit\u00e9 d'arrangement de cartons, il est fr\u00e9quent de faire des manipulations qui n'ont pas \u00e9t\u00e9 pr\u00e9vues, le langage de script permet d'ajouter des fonctionnalit\u00e9s facilement sans \u00eatre d\u00e9veloppeur. Plusieurs consoles de script ont \u00e9t\u00e9 int\u00e9gr\u00e9es \u00e0 des endroits strat\u00e9giques du logiciel. Il est ainsi possible de manipuler les instruments, le carton, les exports vid\u00e9o, la g\u00e9n\u00e9ration de gamme et tous les objets utilis\u00e9s dans le logiciel. Il est \u00e9galement possible de cr\u00e9er des fen\u00eatres pour faciliter l'utilisation de ces nouvelles fonctionnalit\u00e9s. APrint utilise le language groovy comme moteur de scripts. Ce language simple \u00e0 apprendre a une multitude d'exemples, tutoriels, informations de r\u00e9f\u00e9rences sont disponibles sur le site de groovy \u00e0 cette adresse http://groovy.codehaus.org/ . Ce langage bas\u00e9 sur Java permet d'exploiter tous les objets du logiciel APrint L'utilisation du langage de script au sein du logiciel est r\u00e9alis\u00e9e dans des consoles, ces consoles donnent acc\u00e8s au contexte direct de l'application via des variables pr\u00e9d\u00e9finies qui permettent d'acc\u00e9der aux objets vivants de l'application (possibilit\u00e9 de piloter l'application). Il est \u00e9galement possible d'utiliser principalement le langage de script (utilisation de la console Groovy) et d'y ajouter en r\u00e9f\u00e9rence les objets du logiciel APrint. Plusieurs consoles sont disponibles dans le logiciel : Une console g\u00e9n\u00e9rale cette console permet la construction g\u00e9n\u00e9rale de scripts, non reli\u00e9e \u00e0 un carton donn\u00e9e Une console carton (quickscript) Cette console donne un acc\u00e8s au contenu du carton, des trous et permet de modifier le contenu directement, cet acc\u00e8s est souvent utilis\u00e9 pour des modifications en masse du contenu du carton Une console pour la partie instrument (export / import / transformations).","title":"Scripting avec APrint"},{"location":"product/scripting/scripting/#console-generale-daprint","text":"Situ\u00e9e dans le menu Outil, cette console permet d'effectuer des op\u00e9rations g\u00e9n\u00e9rales non forcement li\u00e9es \u00e0 un carton. cette console g\u00e9n\u00e9rale permet entre autres d'automatiser l'import du fichier MIDI ainsi que toutes les t\u00e2ches r\u00e9p\u00e9titives sur plusieurs objets du logiciel (instrument, cartons). la fenetre de scripting propose deux panneau pour cr\u00e9er les programme et visualiser le resultat : Dans l'\u00e9criture d'un programme, des variables importantes sont pr\u00e9-d\u00e9clar\u00e9es pour donner acc\u00e8s au logiciel, la premi\u00e8re variable d\u00e9finie est la variable services o\u00f9 le logiciel offre ses services au d\u00e9veloppeur. plusieurs m\u00e9thodes sont disponibles sur cette variable : Methode Description Object getOwnerForDialog () R\u00e9cup\u00e9ration de la fen\u00eatre globale, utilis\u00e9e pour les fen\u00eatres modales Repository2 getRepository () R\u00e9cup\u00e9ration de l'objet contenant les instruments void newVirtualBook (VirtualBook virtualBook, Instrument instrument) cr\u00e9e une nouvelle fen\u00eatre avec le carton et pour un instrument donn\u00e9. void newVirtualBook (VirtualBook virtualBook, Instrument instrument, IssueCollection collection) cr\u00e9e une nouvelle fen\u00eatre avec le carton et pour un instrument donn\u00e9, avec \u00e9ventuellement un passage des erreurs (issuecollection) il est donc possible : de cr\u00e9er des fenetres, r\u00e9cup\u00e9rer la d\u00e9finition des instruments, cr\u00e9er une nouvelle fenetre de carton. L'ensemble des objets du logiciel sont \u00e9galement accessibles, pour par exemple : lire des fichiers midi \u00e9crire des carton cr\u00e9er des videos ... etc toutes les fonctionnalit\u00e9s du logiciel sont accessibles, il n'y a pas de restrictions.","title":"Console g\u00e9n\u00e9rale d'APrint"},{"location":"product/scripting/scripting/#console-carton-quickscript","text":"Cette console est \u00e9x\u00e9cut\u00e9e \u00e0 partir du bouton Groovy : ce bouton affiche une fenetre pour cr\u00e9er des scripts en lien avec le carton : Dans cette console, les variables pr\u00e9d\u00e9finies sont les suivantes : virtualbook : donne acc\u00e8s au carton pianoroll: donne acc\u00e8s au composant visuel (permettant de r\u00e9cup\u00e9rer par exemple une s\u00e9lection de trous \u00e0 modifier) currentinstrument : l'instrument courant","title":"Console carton (quickscript)"},{"location":"product/scripting/scripting/#console-dans-linstrument","text":"Cette console est accessible dans la description d'un instrument, \u00e0 cet endroit il est possible de cr\u00e9er des scripts d'import MIDI sp\u00e9cialis\u00e9s, ou des scripts d'export MIDI (pour l'\u00e9coute). cette console permet de red\u00e9finir la fa\u00e7on dont on ajoute des fichiers midi dans le logiciel et de pouvoir s'adapter \u00e0 des conventions d'arrangement ou r\u00e9cup\u00e9ration de pistes, canaux sp\u00e9cifiques, effectuer des transpositions .. etc ..","title":"Console dans l'instrument"},{"location":"product/scripting/scripting_extended_using_java/","text":"Scripting Etendu avec Java Les fonctionnalit\u00e9s de scripting peuvent \u00eatre \u00e9tendues en utilisant Java, ainsi l'ensemble des fonctionnalit\u00e9s est accessible en utilisant ce langage. Cette Section pr\u00e9sente certaines parties permettant d'avancer fonctionnellement sur des parties non \"pr\u00e9mach\u00e9es\" ou simplifi\u00e9es en Groovy.","title":"Scripting extended using java"},{"location":"product/scripting/scripting_extended_using_java/#scripting-etendu-avec-java","text":"Les fonctionnalit\u00e9s de scripting peuvent \u00eatre \u00e9tendues en utilisant Java, ainsi l'ensemble des fonctionnalit\u00e9s est accessible en utilisant ce langage. Cette Section pr\u00e9sente certaines parties permettant d'avancer fonctionnellement sur des parties non \"pr\u00e9mach\u00e9es\" ou simplifi\u00e9es en Groovy.","title":"Scripting Etendu avec Java"},{"location":"product/scripting/scripting_first_steps_quickscripts/","text":"Premiers pas avec les quickscripts et la manipulation de cartons Les quickscripts permettent de manipuler le carton en automatique. Nous allons voir ci dessous les \u00e9l\u00e9ments principaux de l'utilisation de cette console. virtualbook La variable virtualbook contient le carton en cours de manipulation. On peut alors connaitre sur cet objet : La gamme (Scale) les trous (Hole) des \u00e9v\u00e8nements compl\u00e9mentaires (markers, mesures ..) Tutoriel 1 : lister les trous du carton lister les trous d'un carton : tapez virtualbook.getHolesCopy() dans la console, puis appuyez sur \"Executer ...\" le r\u00e9sultat apparait dans la partie du bas. la fonction appel\u00e9e retourne une liste contenant tous les trous, les trous sont caract\u00e9ris\u00e9s par: un no de piste dans le carton (de 0 au nombre de pistes) : track une date de d\u00e9but du trou (en microseconde depuis le d\u00e9but du carton ): timestamp une longueur de trou (en microseconde depuis le debut du trou) : length Commande : def c = virtualbook.getHolesCopy() print c[0] // on prends le premier Resultat : >> start script execution 900000 Note 44 Longueur 100000 micro Script executed in 0: 0: 43 null pour connaitre les proprietes du trou, vous pouvez utiliser la fonction \"dump\" : Commande : def d = virtualbook.getHolesCopy() d[0].dump() Resultat : >> start script execution 900000 Note 44 Longueur 100000 micro Script executed in 0: 0:105 <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> propri\u00e9t\u00e9s : \\ Pour acc\u00e9der aux propri\u00e9t\u00e9s il suffit de mentionner son nom. Commande : def d = virtualbook.getHolesCopy() def n = d[0] println n.dump() println n.piste println n.timestamp println n.length Resultat : >> start script execution <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> 44 900000 100000 Script executed in 0: 0: 84 null Tutoriel 2 : Ajouter / Modifier / Supprimer des trous Dans cette section, nous allons modifier les trous d'un carton, en modifiant le debut, la longueur ou en changeant la piste : Modifions le debut d'un trou Commande : import groovy.aprint.transform.* use(HoleCategory) { def d = virtualbook.getHolesCopy() def n = d[0] // on prends un trou println n.dump() // on l'affiche def h = n.beginAt(0) // on met le debut \u00e0 0 println h.dump() // on l'affiche virtualbook.removeHole(n) // on enleve le trou initial virtualbook.addHole(h) // on ajoute le nouveau trou modifi\u00e9 } Resultat : >> start script execution <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> <org.barrelorgandiscovery.virtualbook.Hole@1353d7 timestamp=0 length=100000 piste=44> Script executed in 0: 0: 32 null Aller plus loin la documentation complete de cet objet est disponible ici : Class org.barrelorgandiscovery.virtualbook.VirtualBook","title":"Premiers pas avec le scripting"},{"location":"product/scripting/scripting_first_steps_quickscripts/#premiers-pas-avec-les-quickscripts-et-la-manipulation-de-cartons","text":"Les quickscripts permettent de manipuler le carton en automatique. Nous allons voir ci dessous les \u00e9l\u00e9ments principaux de l'utilisation de cette console.","title":"Premiers pas avec les quickscripts et la manipulation de cartons"},{"location":"product/scripting/scripting_first_steps_quickscripts/#virtualbook","text":"La variable virtualbook contient le carton en cours de manipulation. On peut alors connaitre sur cet objet : La gamme (Scale) les trous (Hole) des \u00e9v\u00e8nements compl\u00e9mentaires (markers, mesures ..)","title":"virtualbook"},{"location":"product/scripting/scripting_first_steps_quickscripts/#tutoriel-1-lister-les-trous-du-carton","text":"lister les trous d'un carton : tapez virtualbook.getHolesCopy() dans la console, puis appuyez sur \"Executer ...\" le r\u00e9sultat apparait dans la partie du bas. la fonction appel\u00e9e retourne une liste contenant tous les trous, les trous sont caract\u00e9ris\u00e9s par: un no de piste dans le carton (de 0 au nombre de pistes) : track une date de d\u00e9but du trou (en microseconde depuis le d\u00e9but du carton ): timestamp une longueur de trou (en microseconde depuis le debut du trou) : length Commande : def c = virtualbook.getHolesCopy() print c[0] // on prends le premier Resultat : >> start script execution 900000 Note 44 Longueur 100000 micro Script executed in 0: 0: 43 null pour connaitre les proprietes du trou, vous pouvez utiliser la fonction \"dump\" : Commande : def d = virtualbook.getHolesCopy() d[0].dump() Resultat : >> start script execution 900000 Note 44 Longueur 100000 micro Script executed in 0: 0:105 <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> propri\u00e9t\u00e9s : \\ Pour acc\u00e9der aux propri\u00e9t\u00e9s il suffit de mentionner son nom. Commande : def d = virtualbook.getHolesCopy() def n = d[0] println n.dump() println n.piste println n.timestamp println n.length Resultat : >> start script execution <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> 44 900000 100000 Script executed in 0: 0: 84 null","title":"Tutoriel 1 : lister les trous du carton"},{"location":"product/scripting/scripting_first_steps_quickscripts/#tutoriel-2-ajouter-modifier-supprimer-des-trous","text":"Dans cette section, nous allons modifier les trous d'un carton, en modifiant le debut, la longueur ou en changeant la piste : Modifions le debut d'un trou Commande : import groovy.aprint.transform.* use(HoleCategory) { def d = virtualbook.getHolesCopy() def n = d[0] // on prends un trou println n.dump() // on l'affiche def h = n.beginAt(0) // on met le debut \u00e0 0 println h.dump() // on l'affiche virtualbook.removeHole(n) // on enleve le trou initial virtualbook.addHole(h) // on ajoute le nouveau trou modifi\u00e9 } Resultat : >> start script execution <org.barrelorgandiscovery.virtualbook.Hole@4983ae77 timestamp=900000 length=100000 piste=44> <org.barrelorgandiscovery.virtualbook.Hole@1353d7 timestamp=0 length=100000 piste=44> Script executed in 0: 0: 32 null","title":"Tutoriel 2 : Ajouter / Modifier / Supprimer des trous"},{"location":"product/scripting/scripting_first_steps_quickscripts/#aller-plus-loin","text":"la documentation complete de cet objet est disponible ici : Class org.barrelorgandiscovery.virtualbook.VirtualBook","title":"Aller plus loin"},{"location":"product/scripting/scripting_groovy/","text":"Scripting avec APrint en groovy Cette section d'aide vise \u00e0 donner des informations sur le scripting dans le logiciel. Le langage de scripting utilis\u00e9 est Groovy.","title":"Scripting groovy"},{"location":"product/scripting/scripting_groovy/#scripting-avec-aprint-en-groovy","text":"Cette section d'aide vise \u00e0 donner des informations sur le scripting dans le logiciel. Le langage de scripting utilis\u00e9 est Groovy.","title":"Scripting avec APrint en groovy"},{"location":"product/scripting/scripting_gui/","text":"Cr\u00e9ation de fen\u00eatres et d'interfaces Graphiques en Scripting GUI Creation using scripts Lorsque l'on cr\u00e9e des scripts, il est plus ais\u00e9 de proposer des fen\u00eatres pour la saisie des param\u00e8tres et proposer aux utilisateurs une aide associ\u00e9e pour acc\u00e9l\u00e9rer l'utilisation du logiciel. Cet article montre comment ajouter des fen\u00eatres dans un script APrint / APrint Studio. Une premi\u00e8re fen\u00eatre Ci dessous un petit exemple d'utilisation de la fonction showFrame pour la cr\u00e9ation d'une fen\u00eatre \u00e0 partir d'un script. L'objet SwingBuilder permet la cr\u00e9ation de composants pouvant \u00eatre ensuite utilis\u00e9s dans des scripts. Les composant sont pass\u00e9s \u00e0 la commande showFrame pour la cr\u00e9ation de la fen\u00eatre. La fen\u00eatre ici n'affiche qu'un label pour exemple. import groovy.aprint.tools.* import groovy.swing.* def sb = new SwingBuilder() def l = sb.label(text:\"hello\") def f = GUIHelper.showFrame([\"Premier param\u00e8tre\":l]) f.pack() f.visible=true Saisie de deux param\u00e8tres dans une fen\u00eatre Ci dessous un second exemple de saisie de deux param\u00e8tres sous forme libre et utilisation de ceux ci dans une fonction import groovy.aprint.tools.* import groovy.swing.* def sb = new SwingBuilder() def t1 = sb.textField(text:\"premier param\u00e8tre\", columns:30) def t2 = sb.textArea(text:\"second param\u00e8tre\", columns:30, rows:20) def b = sb.button(label:\"ok\", actionPerformed : { print \"hello window\" + t1.text + \"-\" + t2.text }) def f = GUIHelper.showFrame([\"1\":t1, \"2\" : t2], b) f.pack() f.visible=true Ce second exemple ajoute un bouton en bas de la fen\u00eatre, permettant d'afficher dans la console un message \"hello window\" et r\u00e9utilise la valeur des param\u00e8tres ci dessus.","title":"Creer une fen\u00eatre"},{"location":"product/scripting/scripting_gui/#creation-de-fenetres-et-dinterfaces-graphiques-en-scripting","text":"","title":"Cr\u00e9ation de fen\u00eatres et d'interfaces Graphiques en Scripting"},{"location":"product/scripting/scripting_gui/#gui-creation-using-scripts","text":"Lorsque l'on cr\u00e9e des scripts, il est plus ais\u00e9 de proposer des fen\u00eatres pour la saisie des param\u00e8tres et proposer aux utilisateurs une aide associ\u00e9e pour acc\u00e9l\u00e9rer l'utilisation du logiciel. Cet article montre comment ajouter des fen\u00eatres dans un script APrint / APrint Studio.","title":"GUI Creation using scripts"},{"location":"product/scripting/scripting_gui/#une-premiere-fenetre","text":"Ci dessous un petit exemple d'utilisation de la fonction showFrame pour la cr\u00e9ation d'une fen\u00eatre \u00e0 partir d'un script. L'objet SwingBuilder permet la cr\u00e9ation de composants pouvant \u00eatre ensuite utilis\u00e9s dans des scripts. Les composant sont pass\u00e9s \u00e0 la commande showFrame pour la cr\u00e9ation de la fen\u00eatre. La fen\u00eatre ici n'affiche qu'un label pour exemple. import groovy.aprint.tools.* import groovy.swing.* def sb = new SwingBuilder() def l = sb.label(text:\"hello\") def f = GUIHelper.showFrame([\"Premier param\u00e8tre\":l]) f.pack() f.visible=true","title":"Une premi\u00e8re fen\u00eatre"},{"location":"product/scripting/scripting_gui/#saisie-de-deux-parametres-dans-une-fenetre","text":"Ci dessous un second exemple de saisie de deux param\u00e8tres sous forme libre et utilisation de ceux ci dans une fonction import groovy.aprint.tools.* import groovy.swing.* def sb = new SwingBuilder() def t1 = sb.textField(text:\"premier param\u00e8tre\", columns:30) def t2 = sb.textArea(text:\"second param\u00e8tre\", columns:30, rows:20) def b = sb.button(label:\"ok\", actionPerformed : { print \"hello window\" + t1.text + \"-\" + t2.text }) def f = GUIHelper.showFrame([\"1\":t1, \"2\" : t2], b) f.pack() f.visible=true Ce second exemple ajoute un bouton en bas de la fen\u00eatre, permettant d'afficher dans la console un message \"hello window\" et r\u00e9utilise la valeur des param\u00e8tres ci dessus.","title":"Saisie de deux param\u00e8tres dans une fen\u00eatre"},{"location":"product/scripting/scripting_midiscripts/","text":"Manipuler des fichiers MIDI par script groovy On souhaite parfois effectuer des manipulations de fichiers MIDI pour effectuer diff\u00e9rentes op\u00e9rations (transposition, comptage de notes, voir d'ad\u00e9quation d'un morceau par rapport \u00e0 une gamme d'instrument). Le logiciel propose un ensemble de fonctions facilitant la manipulation des fichiers MIDI en quelques lignes de script (donc accessible par un non d\u00e9veloppeur). Ces scripts peuvent \u00e9galement \u00eatre stock\u00e9s dans la d\u00e9finition de l'instrument pour proposer des imports MIDI sp\u00e9cifiques. Sommaire Introduction Lecture d'un fichier Midi Filtrage du contenu d'un fichier midi Analyse d'un fichier midi Cr\u00e9ation d'un script d'import MIDI pour un instrument Introduction Le logiciel est impl\u00e9ment\u00e9 en Java. Java propose des objets standards de manipulation de fichiers midi, cependant leur modification n'est pas tr\u00e8s ais\u00e9e du fait de la pr\u00e9sence d'\"Ev\u00e8nements\" pouvant \u00eatre li\u00e9s. Par exemple les notes sont d\u00e9crites par un \u00e9v\u00e8nement NoteOn puis un second \u00e9v\u00e8nement NoteOff. Les dates ou timestamp de d\u00e9but de notes ne sont pas cod\u00e9s en absolu (c'est \u00e0 dire par rapport au d\u00e9but du morceau) mais en relatif. Chaque \u00e9v\u00e8nement est r\u00e9f\u00e9renc\u00e9 dans le temps par rapport \u00e0 l'\u00e9v\u00e8nement pr\u00e9c\u00e9dent (tick). Des objets plus simples ont \u00e9t\u00e9 mis en place pour permettre une manipulation plus simple des fichiers midi, du filtrage et de l'interpr\u00e9tation des \u00e9l\u00e9ments contenus dans le fichier. Des exemples suivent sur l'utilisation de ces objets, avec des exemples de mise en oeuvre. Lecture d'un fichier MIDI en 5 Lignes import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() } Le R\u00e9sultat de la console affiche la collection d'\u00e9v\u00e8nements MIDI lus dans le fichier Filtrage d'un fichier Midi Le bout de script suivant lit un fichier midi et filtre les notes du canal num\u00e9ro 1 import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filterChannel(0) // Ecriture dans un fichier midi de sortie resultatFiltrage.save(new File(\"c:\\\\temp\\\\test.mid\")) } Le r\u00e9sultat est un fichier MDI test.mid ne contenant que les \u00e9v\u00e8nements associ\u00e9s au canal 1. La fonction filterChannel filtre les \u00e9v\u00e8nements associ\u00e9s au canal concern\u00e9. D'autres fonctions de filtrage sont disponibles : Fonction / Description Exemple filterMidiTrack Filtre les \u00e9v\u00e8nements MIDI associ\u00e9s \u00e0 une piste dans le fichier midi import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filterMidiTrack(0) // Ecriture dans un fichier midi de sortie resultatFiltrage.save(new File(\"c:\\\\temp\\\\test.mid\")) } filter filtre g\u00e9n\u00e9rique pour filtrer le contenu avec une fonction utilisateur. Ceci permet de se faire sa propre fonction de filtrage. import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filter { evt -> if (evt.hasProperty(\"midiNote\")) { // on ne garde que les notes sup\u00e9rieures \u00e0 250ms if (evt.length > 250000) { return true // on la garde } } return false } } Fonctions d'\u00e9valuation du fichier midi Il est parfois int\u00e9ressant de pouvoir \u00e9valuer les notes pr\u00e9sentes dans le fichier MIDI pour effectuer une comparaison avec la gamme et permettre l'\u00e9valuation de transposition. Des fonctions ont \u00e9t\u00e9 ajout\u00e9es pour cela. listDistinctNotes() Cette fonction permet de lister les notes distinctes d'un fichier midi import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def notes = mf.listDistinctNotes() notes.each { note -> println note } } Le r\u00e9sultat affiche ceci : >> start script execution E3 G3 A3 C4 D4 E4 A4 B4 C5 D5 E5 F#5 G5 A5 A#5 B5 C6 C#6 D6 E6 F#6 G6 A6 A#6 B6 C7 C#7 D7 E7 Ces notes sont les notes rencontr\u00e9es dans le fichier MIDI int[] listTracks() Cette fonction permet de lister les pistes d'un fichier MIDI import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def tracks = mf.listTracks() tracks.each { track -> println track } } Le r\u00e9sultat affich\u00e9 est le suivant : >> start script execution 1 2 3 Script executed in 0: 0:846 Les pistes sont identifi\u00e9es par rapport \u00e0 un num\u00e9ro, c'est le num\u00e9ro pr\u00e9sent dans le fichier MIDI. Le nom de la piste est ensuite contenu dans un \u00e9v\u00e8nement associ\u00e9 \u00e0 la piste. countDistinctNotes() Cette fonction est particuli\u00e8rement int\u00e9ressante pour analyser la r\u00e9partition des notes dans un ensemble de notes. Cette fonction retourne par note, le nombre d'occurence de la note dans le groupe. import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def dnotes = mf.countDistinctNotes() dnotes.each { note, nombre -> println \"\" + note + \" - \" + nombre + \" fois\" } } Le r\u00e9sultat est le suivant : >> start script execution E6 - 61 fois C5 - 190 fois E5 - 69 fois C6 - 103 fois G5 - 82 fois E7 - 29 fois G6 - 151 fois D7 - 89 fois F#5 - 137 fois D5 - 336 fois A6 - 101 fois D6 - 182 fois A5 - 84 fois F#6 - 114 fois C7 - 70 fois B6 - 109 fois B5 - 93 fois A#6 - 5 fois A#5 - 1 fois D4 - 110 fois G3 - 82 fois B4 - 165 fois E4 - 5 fois C#6 - 7 fois C#7 - 6 fois A3 - 13 fois C4 - 20 fois E3 - 124 fois A4 - 26 fois Outil de transformation de fichiers MIDI en carton Il est possible \u00e0 partir du fichier midi d'effectuer une transformation en carton, la transformation commence par la lecture du fichier midi, en fonction de la gamme et de la capacit\u00e9 de l'instrument, certaines notes, percussions ou registres sont convertis en trous. L'association entre les deux peut \u00eatre r\u00e9alis\u00e9 \u00e0 la main en script, en parcourant les notes du fichier midi et en cr\u00e9ant les trous dans le carton virtuel. Une autre fa\u00e7on plus \u00e9volu\u00e9e et d\u00e9crite ici permet de cr\u00e9er des associations entre les notes midi et les pistes du carton, les trous sont alors cr\u00e9\u00e9s automatiquement en fonction des temps et des longueurs des notes dans le fichier MIDI. // exemple simple de script d'import de fichier midi import groovy.aprint.midi.* import groovy.aprint.transform.* use (MidiCategory, MidiFileCategory, NoteCategory, ScaleCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() def ins = services.repository.getInstrument(\"27 / 29 Flutes\") def scale = ins.scale def sh = scale.helper def t = mf.transformFor(scale) // on associe la note \"D5\" \u00e0 la piste de la gamme ayant la note D5 t.map(\"D5\".note, sh.find(\"D5\")) def result = t.doConvert() services.newVirtualBook(result.virtualbook, ins) }","title":"Scripts midi"},{"location":"product/scripting/scripting_midiscripts/#manipuler-des-fichiers-midi-par-script-groovy","text":"On souhaite parfois effectuer des manipulations de fichiers MIDI pour effectuer diff\u00e9rentes op\u00e9rations (transposition, comptage de notes, voir d'ad\u00e9quation d'un morceau par rapport \u00e0 une gamme d'instrument). Le logiciel propose un ensemble de fonctions facilitant la manipulation des fichiers MIDI en quelques lignes de script (donc accessible par un non d\u00e9veloppeur). Ces scripts peuvent \u00e9galement \u00eatre stock\u00e9s dans la d\u00e9finition de l'instrument pour proposer des imports MIDI sp\u00e9cifiques.","title":"Manipuler des fichiers MIDI par script groovy"},{"location":"product/scripting/scripting_midiscripts/#sommaire","text":"Introduction Lecture d'un fichier Midi Filtrage du contenu d'un fichier midi Analyse d'un fichier midi Cr\u00e9ation d'un script d'import MIDI pour un instrument","title":"Sommaire"},{"location":"product/scripting/scripting_midiscripts/#introduction","text":"Le logiciel est impl\u00e9ment\u00e9 en Java. Java propose des objets standards de manipulation de fichiers midi, cependant leur modification n'est pas tr\u00e8s ais\u00e9e du fait de la pr\u00e9sence d'\"Ev\u00e8nements\" pouvant \u00eatre li\u00e9s. Par exemple les notes sont d\u00e9crites par un \u00e9v\u00e8nement NoteOn puis un second \u00e9v\u00e8nement NoteOff. Les dates ou timestamp de d\u00e9but de notes ne sont pas cod\u00e9s en absolu (c'est \u00e0 dire par rapport au d\u00e9but du morceau) mais en relatif. Chaque \u00e9v\u00e8nement est r\u00e9f\u00e9renc\u00e9 dans le temps par rapport \u00e0 l'\u00e9v\u00e8nement pr\u00e9c\u00e9dent (tick). Des objets plus simples ont \u00e9t\u00e9 mis en place pour permettre une manipulation plus simple des fichiers midi, du filtrage et de l'interpr\u00e9tation des \u00e9l\u00e9ments contenus dans le fichier. Des exemples suivent sur l'utilisation de ces objets, avec des exemples de mise en oeuvre.","title":"Introduction"},{"location":"product/scripting/scripting_midiscripts/#lecture-dun-fichier-midi-en-5-lignes","text":"import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() } Le R\u00e9sultat de la console affiche la collection d'\u00e9v\u00e8nements MIDI lus dans le fichier","title":"Lecture d'un fichier MIDI en 5 Lignes"},{"location":"product/scripting/scripting_midiscripts/#filtrage-dun-fichier-midi","text":"Le bout de script suivant lit un fichier midi et filtre les notes du canal num\u00e9ro 1 import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filterChannel(0) // Ecriture dans un fichier midi de sortie resultatFiltrage.save(new File(\"c:\\\\temp\\\\test.mid\")) } Le r\u00e9sultat est un fichier MDI test.mid ne contenant que les \u00e9v\u00e8nements associ\u00e9s au canal 1. La fonction filterChannel filtre les \u00e9v\u00e8nements associ\u00e9s au canal concern\u00e9. D'autres fonctions de filtrage sont disponibles : Fonction / Description Exemple filterMidiTrack Filtre les \u00e9v\u00e8nements MIDI associ\u00e9s \u00e0 une piste dans le fichier midi import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filterMidiTrack(0) // Ecriture dans un fichier midi de sortie resultatFiltrage.save(new File(\"c:\\\\temp\\\\test.mid\")) } filter filtre g\u00e9n\u00e9rique pour filtrer le contenu avec une fonction utilisateur. Ceci permet de se faire sa propre fonction de filtrage. import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def resultatFiltrage = mf.filter { evt -> if (evt.hasProperty(\"midiNote\")) { // on ne garde que les notes sup\u00e9rieures \u00e0 250ms if (evt.length > 250000) { return true // on la garde } } return false } }","title":"Filtrage d'un fichier Midi"},{"location":"product/scripting/scripting_midiscripts/#fonctions-devaluation-du-fichier-midi","text":"Il est parfois int\u00e9ressant de pouvoir \u00e9valuer les notes pr\u00e9sentes dans le fichier MIDI pour effectuer une comparaison avec la gamme et permettre l'\u00e9valuation de transposition. Des fonctions ont \u00e9t\u00e9 ajout\u00e9es pour cela.","title":"Fonctions d'\u00e9valuation du fichier midi"},{"location":"product/scripting/scripting_midiscripts/#listdistinctnotes","text":"Cette fonction permet de lister les notes distinctes d'un fichier midi import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def notes = mf.listDistinctNotes() notes.each { note -> println note } } Le r\u00e9sultat affiche ceci : >> start script execution E3 G3 A3 C4 D4 E4 A4 B4 C5 D5 E5 F#5 G5 A5 A#5 B5 C6 C#6 D6 E6 F#6 G6 A6 A#6 B6 C7 C#7 D7 E7 Ces notes sont les notes rencontr\u00e9es dans le fichier MIDI","title":"listDistinctNotes()"},{"location":"product/scripting/scripting_midiscripts/#int-listtracks","text":"Cette fonction permet de lister les pistes d'un fichier MIDI import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def tracks = mf.listTracks() tracks.each { track -> println track } } Le r\u00e9sultat affich\u00e9 est le suivant : >> start script execution 1 2 3 Script executed in 0: 0:846 Les pistes sont identifi\u00e9es par rapport \u00e0 un num\u00e9ro, c'est le num\u00e9ro pr\u00e9sent dans le fichier MIDI. Le nom de la piste est ensuite contenu dans un \u00e9v\u00e8nement associ\u00e9 \u00e0 la piste.","title":"int[] listTracks()"},{"location":"product/scripting/scripting_midiscripts/#countdistinctnotes","text":"Cette fonction est particuli\u00e8rement int\u00e9ressante pour analyser la r\u00e9partition des notes dans un ensemble de notes. Cette fonction retourne par note, le nombre d'occurence de la note dans le groupe. import groovy.aprint.midi.* use (MidiCategory, MidiFileCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() // filtrage des \u00e9v\u00e8nements associ\u00e9 au canal (1), cad 0 si l'on commence la num\u00e9rotation \u00e0 0 def dnotes = mf.countDistinctNotes() dnotes.each { note, nombre -> println \"\" + note + \" - \" + nombre + \" fois\" } } Le r\u00e9sultat est le suivant : >> start script execution E6 - 61 fois C5 - 190 fois E5 - 69 fois C6 - 103 fois G5 - 82 fois E7 - 29 fois G6 - 151 fois D7 - 89 fois F#5 - 137 fois D5 - 336 fois A6 - 101 fois D6 - 182 fois A5 - 84 fois F#6 - 114 fois C7 - 70 fois B6 - 109 fois B5 - 93 fois A#6 - 5 fois A#5 - 1 fois D4 - 110 fois G3 - 82 fois B4 - 165 fois E4 - 5 fois C#6 - 7 fois C#7 - 6 fois A3 - 13 fois C4 - 20 fois E3 - 124 fois A4 - 26 fois","title":"countDistinctNotes()"},{"location":"product/scripting/scripting_midiscripts/#outil-de-transformation-de-fichiers-midi-en-carton","text":"Il est possible \u00e0 partir du fichier midi d'effectuer une transformation en carton, la transformation commence par la lecture du fichier midi, en fonction de la gamme et de la capacit\u00e9 de l'instrument, certaines notes, percussions ou registres sont convertis en trous. L'association entre les deux peut \u00eatre r\u00e9alis\u00e9 \u00e0 la main en script, en parcourant les notes du fichier midi et en cr\u00e9ant les trous dans le carton virtuel. Une autre fa\u00e7on plus \u00e9volu\u00e9e et d\u00e9crite ici permet de cr\u00e9er des associations entre les notes midi et les pistes du carton, les trous sont alors cr\u00e9\u00e9s automatiquement en fonction des temps et des longueurs des notes dans le fichier MIDI. // exemple simple de script d'import de fichier midi import groovy.aprint.midi.* import groovy.aprint.transform.* use (MidiCategory, MidiFileCategory, NoteCategory, ScaleCategory) { def mf = new File(\"C:\\\\Users\\\\use\\\\Dropbox\\\\Midi MM\\\\LeBateauDeTahiti.mid\").load() def ins = services.repository.getInstrument(\"27 / 29 Flutes\") def scale = ins.scale def sh = scale.helper def t = mf.transformFor(scale) // on associe la note \"D5\" \u00e0 la piste de la gamme ayant la note D5 t.map(\"D5\".note, sh.find(\"D5\")) def result = t.doConvert() services.newVirtualBook(result.virtualbook, ins) }","title":"Outil de transformation de fichiers MIDI en carton"},{"location":"product/scripting/scripting_midiwork/","text":"Travailler avec les fichiers midi en scripts Introduction L'Environnement groovy permet de travailler sur le contenu des fichiers midi. Cette manipulation de fichier midi permet de retravailler le contenu des fichiers midi et de mieux les adapter aux capacit\u00e9s de l'orgue de barbarie. En effet, certains fichiers midi sont utilis\u00e9s comme \"commande\" pour piloter des instruments midifi\u00e9s, par exemple certaines notes ou \u00e9v\u00e8nements n'ont rien \u00e0 voir avec la musique elle-m\u00eame mais plus sur des commandes ayant \u00e9t\u00e9 c\u00e2bl\u00e9es sur des notes de musique. La notion de carton virtuel est donc ici pour permettre une description adapt\u00e9e de la musique avec les notions prises en charge par les instruments d'orgue de barbarie (registres, percussions etc ..) Deux approches sont disponibles avec le logiciel : Transformer le fichier midi en carton virtuel Transformer le fichier midi pour un autre instrument Nous pr\u00e9senterons dans la suite, la m\u00e9thode simplifi\u00e9e, le dernier chapitre pr\u00e9cisera comment revenir \u00e0 une utilisation plus rigoureuse du fichier midi. Lire un fichier midi en scripting Un ensemble d'objets permet de lire et d'\u00e9crire le contenu d'un fichier midi de fa\u00e7on simplifi\u00e9e, ces outils simplifi\u00e9s ne donne pas acc\u00e8s \u00e0 l'ensemble des possibilit\u00e9s du midi mais permettent de couvrir beaucoup de cas d'utilisation. L'objet MidiFileIO du package org.barrelorgandiscovery.virtualbook.transformation.importer permet d'effectuer des lectures et \u00e9critures de fichiers midi la m\u00e9thode \" read \" permet la lecture du fichier midi. import org.barrelorgandiscovery.virtualbook.transformation.importer.* def folder = new File(\"C:\\\\Documents and Settings\\\\pfr\\\\midi\") def fichier_original = \"A tous les filles.mid\" def m = MidiFileIO.read(new File(folder, fichier_original)) -- ou directement avec les noms de r\u00e9pertoires / fichiers -- def m = MidiFileIO.read(new File(\"c:\\\\mes documents\\\\midi.mid\")) Le script ci dessus retourne dans la variable m un objet MidiFile contenant la liste des \u00e9l\u00e9ments du fichier midi ci dessous le r\u00e9sultat de la console apr\u00e8s ex\u00e9cution du programme >> start script execution Script executed in 0:10:828 >> MidiFile MidiNote piste:0, Channel : 15Timestamp:80645Note Midi:0Longueur:173387 MidiNote piste:0, Channel : 15Timestamp:673387Note Midi:0Longueur:173387 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:4Longueur:153225 MidiNote piste:0, Channel : 15Timestamp:842741Note Midi:121Longueur:96775 MidiNote piste:0, Channel : 15Timestamp:875000Note Midi:122Longueur:68548 MidiNote piste:0, Channel : 15Timestamp:907258Note Midi:116Longueur:96774 MidiNote piste:0, Channel : 4Timestamp:967742Note Midi:100Longueur:112903 MidiNote piste:0, Channel : 6Timestamp:967742Note Midi:93Longueur:120967 MidiNote piste:0, Channel : 6Timestamp:967742Note Midi:88Longueur:125000 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:13Longueur:370967 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:14Longueur:379032 MidiNote piste:0, Channel : 15Timestamp:778225Note Midi:12Longueur:383065 MidiNote piste:0, Channel : 4Timestamp:1088709Note Midi:90Longueur:76613 MidiNote piste:0, Channel : 15Timestamp:842741Note Midi:6Longueur:322581 MidiNote piste:0, Channel : 6Timestamp:1169354Note Midi:92Longueur:72581 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:93Longueur:120968 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:98Longueur:125000 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:102Longueur:125000 MidiNote piste:0, Channel : 1Timestamp:967742Note Midi:38Longueur:463709 MidiNote piste:0, Channel : 15Timestamp:1391129Note Midi:117Longueur:96774 ...... L'environnement de script affiche le contenu de l'objet MidiFile retourn\u00e9 Manipulation du fichier midi ... l'objet MidiFile est une collection d'objets MidiNote qui peut \u00eatre manipul\u00e9e directement. exemple de parcours de la liste des notes m.each { println \"Note : \" + it.midiNote + \" Channel : \" + it.channel + \" track : \" + it.track + \" debut : \" + it.timeStamp + \" longueur : \" + it.length } On parcourt ici l'ensemble des notes, en affichant le code midi, le \"channel\" de restitution et le track, le timing de d\u00e9but de la note (timestamp) en microsecondes et la longueur de la note en microsecondes. Les propri\u00e9t\u00e9s de chaque note peuvent \u00eatre modifi\u00e9es comme suit. m.each { it.midiNote = it.midiNote + 12 } Ici nous rajoutons une octave \u00e0 chaque note (une octave est constitu\u00e9e de 12 demi tons) Enregistrement du fichier midi une fois l'objet MidiFile modifi\u00e9, il est possible de l'enregistrer. La m\u00e9thode \" write_midi_0 \" de l'objet MidiFileIO permet d'enregistrer le r\u00e9sultat dans un fichier midi au format Midi 0 def m = MidiFileIO.read(new File(folder, fichier_original)) m.each { it.midiNote = it.midiNote + 12 } MidiFileIO.write_midi_0(m, new File(\"c:\\\\monnouveaufichier.mid\")) Le fichier \" monnouveaufichier.mid \" a \u00e9t\u00e9 sauvegard\u00e9. Outils suppl\u00e9mentaires pour la manipulation des fichiers midi D'autres outils sont disponibles pour faciliter la manipulation de fichiers midi. La classe MidiHelper permet de faciliter la manipulation des notes Ci dessous un exemple d'utilisation des diff\u00e9rentes m\u00e9thodes : import org.barrelorgandiscovery.tools.* println \"getMidiNote :\" + MidiHelper.getMidiNote(34) println \"midiLibelle :\" + MidiHelper.midiLibelle(34) println \"midiCode \" + MidiHelper.midiCode(\"C#3\") println \"getOctave \" + MidiHelper.getOctave(35) L'ex\u00e9cution de ce script retourne : >> start script execution getMidiNote :A# midiLibelle :A#2 midiCode 37 getOctave 2 Script executed in 0: 0: 47 >> (null) returned from evaluation Aller plus loin dans l'utilisation fine Midi \u00e0 partir de l'API Standard Java L'environnement Java contient un mod\u00e8le objet associ\u00e9 \u00e0 l'utilisation des fichiers midi, ceci est port\u00e9 par le package javax.sound.midi. Des exemples sont disponibles dans le javadoc associ\u00e9 \u00e0 l'API Java","title":"Scripting midiwork"},{"location":"product/scripting/scripting_midiwork/#travailler-avec-les-fichiers-midi-en-scripts","text":"","title":"Travailler avec les fichiers midi en scripts"},{"location":"product/scripting/scripting_midiwork/#introduction","text":"L'Environnement groovy permet de travailler sur le contenu des fichiers midi. Cette manipulation de fichier midi permet de retravailler le contenu des fichiers midi et de mieux les adapter aux capacit\u00e9s de l'orgue de barbarie. En effet, certains fichiers midi sont utilis\u00e9s comme \"commande\" pour piloter des instruments midifi\u00e9s, par exemple certaines notes ou \u00e9v\u00e8nements n'ont rien \u00e0 voir avec la musique elle-m\u00eame mais plus sur des commandes ayant \u00e9t\u00e9 c\u00e2bl\u00e9es sur des notes de musique. La notion de carton virtuel est donc ici pour permettre une description adapt\u00e9e de la musique avec les notions prises en charge par les instruments d'orgue de barbarie (registres, percussions etc ..) Deux approches sont disponibles avec le logiciel : Transformer le fichier midi en carton virtuel Transformer le fichier midi pour un autre instrument Nous pr\u00e9senterons dans la suite, la m\u00e9thode simplifi\u00e9e, le dernier chapitre pr\u00e9cisera comment revenir \u00e0 une utilisation plus rigoureuse du fichier midi.","title":"Introduction"},{"location":"product/scripting/scripting_midiwork/#lire-un-fichier-midi-en-scripting","text":"Un ensemble d'objets permet de lire et d'\u00e9crire le contenu d'un fichier midi de fa\u00e7on simplifi\u00e9e, ces outils simplifi\u00e9s ne donne pas acc\u00e8s \u00e0 l'ensemble des possibilit\u00e9s du midi mais permettent de couvrir beaucoup de cas d'utilisation. L'objet MidiFileIO du package org.barrelorgandiscovery.virtualbook.transformation.importer permet d'effectuer des lectures et \u00e9critures de fichiers midi la m\u00e9thode \" read \" permet la lecture du fichier midi. import org.barrelorgandiscovery.virtualbook.transformation.importer.* def folder = new File(\"C:\\\\Documents and Settings\\\\pfr\\\\midi\") def fichier_original = \"A tous les filles.mid\" def m = MidiFileIO.read(new File(folder, fichier_original)) -- ou directement avec les noms de r\u00e9pertoires / fichiers -- def m = MidiFileIO.read(new File(\"c:\\\\mes documents\\\\midi.mid\")) Le script ci dessus retourne dans la variable m un objet MidiFile contenant la liste des \u00e9l\u00e9ments du fichier midi ci dessous le r\u00e9sultat de la console apr\u00e8s ex\u00e9cution du programme >> start script execution Script executed in 0:10:828 >> MidiFile MidiNote piste:0, Channel : 15Timestamp:80645Note Midi:0Longueur:173387 MidiNote piste:0, Channel : 15Timestamp:673387Note Midi:0Longueur:173387 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:4Longueur:153225 MidiNote piste:0, Channel : 15Timestamp:842741Note Midi:121Longueur:96775 MidiNote piste:0, Channel : 15Timestamp:875000Note Midi:122Longueur:68548 MidiNote piste:0, Channel : 15Timestamp:907258Note Midi:116Longueur:96774 MidiNote piste:0, Channel : 4Timestamp:967742Note Midi:100Longueur:112903 MidiNote piste:0, Channel : 6Timestamp:967742Note Midi:93Longueur:120967 MidiNote piste:0, Channel : 6Timestamp:967742Note Midi:88Longueur:125000 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:13Longueur:370967 MidiNote piste:0, Channel : 15Timestamp:782258Note Midi:14Longueur:379032 MidiNote piste:0, Channel : 15Timestamp:778225Note Midi:12Longueur:383065 MidiNote piste:0, Channel : 4Timestamp:1088709Note Midi:90Longueur:76613 MidiNote piste:0, Channel : 15Timestamp:842741Note Midi:6Longueur:322581 MidiNote piste:0, Channel : 6Timestamp:1169354Note Midi:92Longueur:72581 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:93Longueur:120968 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:98Longueur:125000 MidiNote piste:0, Channel : 4Timestamp:1209677Note Midi:102Longueur:125000 MidiNote piste:0, Channel : 1Timestamp:967742Note Midi:38Longueur:463709 MidiNote piste:0, Channel : 15Timestamp:1391129Note Midi:117Longueur:96774 ...... L'environnement de script affiche le contenu de l'objet MidiFile retourn\u00e9","title":"Lire un fichier midi en scripting"},{"location":"product/scripting/scripting_midiwork/#manipulation-du-fichier-midi","text":"l'objet MidiFile est une collection d'objets MidiNote qui peut \u00eatre manipul\u00e9e directement. exemple de parcours de la liste des notes m.each { println \"Note : \" + it.midiNote + \" Channel : \" + it.channel + \" track : \" + it.track + \" debut : \" + it.timeStamp + \" longueur : \" + it.length } On parcourt ici l'ensemble des notes, en affichant le code midi, le \"channel\" de restitution et le track, le timing de d\u00e9but de la note (timestamp) en microsecondes et la longueur de la note en microsecondes. Les propri\u00e9t\u00e9s de chaque note peuvent \u00eatre modifi\u00e9es comme suit. m.each { it.midiNote = it.midiNote + 12 } Ici nous rajoutons une octave \u00e0 chaque note (une octave est constitu\u00e9e de 12 demi tons)","title":"Manipulation du fichier midi ..."},{"location":"product/scripting/scripting_midiwork/#enregistrement-du-fichier-midi","text":"une fois l'objet MidiFile modifi\u00e9, il est possible de l'enregistrer. La m\u00e9thode \" write_midi_0 \" de l'objet MidiFileIO permet d'enregistrer le r\u00e9sultat dans un fichier midi au format Midi 0 def m = MidiFileIO.read(new File(folder, fichier_original)) m.each { it.midiNote = it.midiNote + 12 } MidiFileIO.write_midi_0(m, new File(\"c:\\\\monnouveaufichier.mid\")) Le fichier \" monnouveaufichier.mid \" a \u00e9t\u00e9 sauvegard\u00e9.","title":"Enregistrement du fichier midi"},{"location":"product/scripting/scripting_midiwork/#outils-supplementaires-pour-la-manipulation-des-fichiers-midi","text":"D'autres outils sont disponibles pour faciliter la manipulation de fichiers midi. La classe MidiHelper permet de faciliter la manipulation des notes Ci dessous un exemple d'utilisation des diff\u00e9rentes m\u00e9thodes : import org.barrelorgandiscovery.tools.* println \"getMidiNote :\" + MidiHelper.getMidiNote(34) println \"midiLibelle :\" + MidiHelper.midiLibelle(34) println \"midiCode \" + MidiHelper.midiCode(\"C#3\") println \"getOctave \" + MidiHelper.getOctave(35) L'ex\u00e9cution de ce script retourne : >> start script execution getMidiNote :A# midiLibelle :A#2 midiCode 37 getOctave 2 Script executed in 0: 0: 47 >> (null) returned from evaluation","title":"Outils suppl\u00e9mentaires pour la manipulation des fichiers midi"},{"location":"product/scripting/scripting_midiwork/#aller-plus-loin-dans-lutilisation-fine-midi-a-partir-de-lapi-standard-java","text":"L'environnement Java contient un mod\u00e8le objet associ\u00e9 \u00e0 l'utilisation des fichiers midi, ceci est port\u00e9 par le package javax.sound.midi. Des exemples sont disponibles dans le javadoc associ\u00e9 \u00e0 l'API Java","title":"Aller plus loin dans l'utilisation fine Midi \u00e0 partir de l'API Standard Java"},{"location":"product/scripting/scripting_notehelper/","text":"Travailler en scripting avec les objets \"Note\" Lorsque l'on manipule les fichiers MIDI ou lorsque l'on \u00e9value un fichier MIDI pour le mettre en carton, on travaille souvent avec les notes en scripting. Cr\u00e9er une note \u00e0 partir d'une chaine de caract\u00e8re. import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note } Cr\u00e9er un tableau de notes (une plage de notes) \u00e0 partir de deux notes import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note.to(\"D8\".note) } les objets Note peuvent \u00eatre modifi\u00e9s avec un ajout de demi tons et moins de demi tons import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note + 4 // ajout de 4 demis tons println \"D5\".note + 12 // ajout d'une octave } start script execution F#5 [D5, D#5, E5, F5, F#5, G5, G#5, A5, A#5, B5, C6, C#6, D6, D#6, E6, F6, F#6, G6, G#6, A6, A#6, B6, C7, C#7, D7, D#7, E7, F7, F#7, G7, G#7, A7, A#7, B7, C8, C#8, D8] Script executed in 0: 0: 85","title":"Note Helper"},{"location":"product/scripting/scripting_notehelper/#travailler-en-scripting-avec-les-objets-note","text":"Lorsque l'on manipule les fichiers MIDI ou lorsque l'on \u00e9value un fichier MIDI pour le mettre en carton, on travaille souvent avec les notes en scripting. Cr\u00e9er une note \u00e0 partir d'une chaine de caract\u00e8re. import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note } Cr\u00e9er un tableau de notes (une plage de notes) \u00e0 partir de deux notes import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note.to(\"D8\".note) } les objets Note peuvent \u00eatre modifi\u00e9s avec un ajout de demi tons et moins de demi tons import groovy.aprint.midi.* import groovy.aprint.transform.* use (NoteCategory) { println \"D5\".note + 4 // ajout de 4 demis tons println \"D5\".note + 12 // ajout d'une octave } start script execution F#5 [D5, D#5, E5, F5, F#5, G5, G#5, A5, A#5, B5, C6, C#6, D6, D#6, E6, F6, F#6, G6, G#6, A6, A#6, B6, C7, C#7, D7, D#7, E7, F7, F#7, G7, G#7, A7, A#7, B7, C8, C#8, D8] Script executed in 0: 0: 85","title":"Travailler en scripting avec les objets \"Note\""},{"location":"product/scripting/scripting_scalehelper/","text":"Travailler en scripting avec le Scale Helper Lorsque l'on manipule les fichiers MIDI, que l'on fait des transformations sur les cartons, il est parfois n\u00e9cessaire de pouvoir travailler sur la d\u00e9finition de la gamme d'un instrument. Le scale helper permet de faire des recherches de notes dans une gamme ou de pistes assez ais\u00e9ment. Celui ci permet de gagner beaucoup de temps dans les transformations ou transpositions d'un instrument \u00e0 un autre. Le scale helper est une category groovy ajoutant la propri\u00e9t\u00e9 helper aux objet \"scale\" ou gamme. Ci dessous un exemple de mise en oeuvre : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory) { def ins = services.repository.getInstrument(\"27 / 29 Flutes\") def scaleHelper = ins.scale.helper } Que peut-on alors demander au scale helper? Si l'instrument poss\u00e8de une d\u00e9finition de partie Basse / Accompagnement / Chant, il est possible d'avoir les informations suivantes : Lister les pistes import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.tracks.each { println it.toString() } } On r\u00e9cup\u00e8re la d\u00e9finition de la gamme : >> start script execution Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 4.0 Track no 2 -> NoteDef - 89 - CHANT Track no 3 -> NoteDef - 88 - CHANT Track no 4 -> NoteDef - 86 - CHANT Track no 5 -> NoteDef - 85 - CHANT Track no 6 -> NoteDef - 84 - CHANT Track no 7 -> NoteDef - 83 - CHANT Track no 8 -> NoteDef - 82 - CHANT Track no 9 -> NoteDef - 81 - CHANT Track no 10 -> NoteDef - 80 - CHANT Track no 11 -> NoteDef - 79 - CHANT Track no 12 -> NoteDef - 78 - CHANT Track no 13 -> NoteDef - 77 - CHANT Track no 14 -> NoteDef - 76 - CHANT Track no 15 -> NoteDef - 75 - CHANT Track no 16 -> NoteDef - 74 - CHANT Track no 17 -> NoteDef - 73 - CHANT Track no 18 -> NoteDef - 72 - CHANT Track no 19 -> NoteDef - 71 - CHANT Track no 20 -> NoteDef - 70 - CHANT Track no 21 -> NoteDef - 69 - CHANT Track no 22 -> NoteDef - 68 - CHANT Track no 23 -> NoteDef - 67 - CHANT Track no 24 -> NoteDef - 66 - ACCOMPAGNEMENT Track no 25 -> NoteDef - 65 - ACCOMPAGNEMENT Track no 26 -> NoteDef - 64 - ACCOMPAGNEMENT Track no 27 -> NoteDef - 63 - ACCOMPAGNEMENT Track no 28 -> NoteDef - 62 - ACCOMPAGNEMENT Track no 29 -> NoteDef - 61 - ACCOMPAGNEMENT Track no 30 -> NoteDef - 60 - ACCOMPAGNEMENT Track no 31 -> NoteDef - 59 - ACCOMPAGNEMENT Track no 32 -> NoteDef - 58 - ACCOMPAGNEMENT Track no 33 -> NoteDef - 57 - ACCOMPAGNEMENT Track no 34 -> NoteDef - 55 - ACCOMPAGNEMENT Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Track no 43 -> null Track no 44 -> PercussionDef - 40 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Track no 46 -> null Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@fa385 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@b88448 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1f4ba51 Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1f45022 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@b8fba5 Script executed in 0: 1: 8 D\u00e9crire les notes des sections de registres Dans le cas o\u00f9 l'instrument dispose de section de registres, les informations peuvent \u00eatre r\u00e9cup\u00e9r\u00e9es par section de registres. import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.bass.notes.each { println it } println \"liste des pistes :\" scaleHelper.bass.tracks.each { println it } } le resultat de la console affiche : \u200b >> start script execution F4 E4 D4 C4 B4 A#4 A4 G4 liste des pistes : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Script executed in 0: 0:343 Rechercher une piste associ\u00e9e \u00e0 une note Il est possible de faire des recherches de notes sur la gamme : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.track(\"C5\".note) } Diverses autres variantes sont \u00e9galement disponibles pour effectuer des recherches. La fonction track peut prendre en param\u00e8tre la section de registre : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper // recherche d'un note dans la m\u00e9lodie scaleHelper.track(\"C6\".note, scaleHelper.MELODY) // on aurai pu mettre BASS ou ACCOMPAGNMENT, COUNTER_MELODY } Le r\u00e9sultat de la console affiche : >> start script execution \u200b Script executed in 0: 0: 63 >> Track no 18 -> NoteDef - 72 - CHANT","title":"Scale Helper"},{"location":"product/scripting/scripting_scalehelper/#travailler-en-scripting-avec-le-scale-helper","text":"Lorsque l'on manipule les fichiers MIDI, que l'on fait des transformations sur les cartons, il est parfois n\u00e9cessaire de pouvoir travailler sur la d\u00e9finition de la gamme d'un instrument. Le scale helper permet de faire des recherches de notes dans une gamme ou de pistes assez ais\u00e9ment. Celui ci permet de gagner beaucoup de temps dans les transformations ou transpositions d'un instrument \u00e0 un autre. Le scale helper est une category groovy ajoutant la propri\u00e9t\u00e9 helper aux objet \"scale\" ou gamme. Ci dessous un exemple de mise en oeuvre : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory) { def ins = services.repository.getInstrument(\"27 / 29 Flutes\") def scaleHelper = ins.scale.helper } Que peut-on alors demander au scale helper? Si l'instrument poss\u00e8de une d\u00e9finition de partie Basse / Accompagnement / Chant, il est possible d'avoir les informations suivantes :","title":"Travailler en scripting avec le Scale Helper"},{"location":"product/scripting/scripting_scalehelper/#lister-les-pistes","text":"import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.tracks.each { println it.toString() } } On r\u00e9cup\u00e8re la d\u00e9finition de la gamme : >> start script execution Track no 0 -> PercussionDef - 35 fixed length : 6.0 retard : 6.0 Track no 1 -> PercussionDef - 35 fixed length : 6.0 retard : 4.0 Track no 2 -> NoteDef - 89 - CHANT Track no 3 -> NoteDef - 88 - CHANT Track no 4 -> NoteDef - 86 - CHANT Track no 5 -> NoteDef - 85 - CHANT Track no 6 -> NoteDef - 84 - CHANT Track no 7 -> NoteDef - 83 - CHANT Track no 8 -> NoteDef - 82 - CHANT Track no 9 -> NoteDef - 81 - CHANT Track no 10 -> NoteDef - 80 - CHANT Track no 11 -> NoteDef - 79 - CHANT Track no 12 -> NoteDef - 78 - CHANT Track no 13 -> NoteDef - 77 - CHANT Track no 14 -> NoteDef - 76 - CHANT Track no 15 -> NoteDef - 75 - CHANT Track no 16 -> NoteDef - 74 - CHANT Track no 17 -> NoteDef - 73 - CHANT Track no 18 -> NoteDef - 72 - CHANT Track no 19 -> NoteDef - 71 - CHANT Track no 20 -> NoteDef - 70 - CHANT Track no 21 -> NoteDef - 69 - CHANT Track no 22 -> NoteDef - 68 - CHANT Track no 23 -> NoteDef - 67 - CHANT Track no 24 -> NoteDef - 66 - ACCOMPAGNEMENT Track no 25 -> NoteDef - 65 - ACCOMPAGNEMENT Track no 26 -> NoteDef - 64 - ACCOMPAGNEMENT Track no 27 -> NoteDef - 63 - ACCOMPAGNEMENT Track no 28 -> NoteDef - 62 - ACCOMPAGNEMENT Track no 29 -> NoteDef - 61 - ACCOMPAGNEMENT Track no 30 -> NoteDef - 60 - ACCOMPAGNEMENT Track no 31 -> NoteDef - 59 - ACCOMPAGNEMENT Track no 32 -> NoteDef - 58 - ACCOMPAGNEMENT Track no 33 -> NoteDef - 57 - ACCOMPAGNEMENT Track no 34 -> NoteDef - 55 - ACCOMPAGNEMENT Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Track no 43 -> null Track no 44 -> PercussionDef - 40 fixed length : 6.0 retard : 6.0 Track no 45 -> PercussionDef - 81 fixed length : 4.0 retard : 4.0 Track no 46 -> null Track no 47 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@fa385 Track no 48 -> org.barrelorgandiscovery.scale.RegisterSetCommandResetDef@b88448 Track no 49 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1f4ba51 Track no 50 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@1f45022 Track no 51 -> org.barrelorgandiscovery.scale.RegisterCommandStartDef@b8fba5 Script executed in 0: 1: 8","title":"Lister les pistes"},{"location":"product/scripting/scripting_scalehelper/#decrire-les-notes-des-sections-de-registres","text":"Dans le cas o\u00f9 l'instrument dispose de section de registres, les informations peuvent \u00eatre r\u00e9cup\u00e9r\u00e9es par section de registres. import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.bass.notes.each { println it } println \"liste des pistes :\" scaleHelper.bass.tracks.each { println it } } le resultat de la console affiche : \u200b >> start script execution F4 E4 D4 C4 B4 A#4 A4 G4 liste des pistes : Track no 35 -> NoteDef - 53 - BASSE Track no 36 -> NoteDef - 52 - BASSE Track no 37 -> NoteDef - 50 - BASSE Track no 38 -> NoteDef - 48 - BASSE Track no 39 -> NoteDef - 59 - BASSE Track no 40 -> NoteDef - 58 - BASSE Track no 41 -> NoteDef - 57 - BASSE Track no 42 -> NoteDef - 55 - BASSE Script executed in 0: 0:343","title":"D\u00e9crire les notes des sections de registres"},{"location":"product/scripting/scripting_scalehelper/#rechercher-une-piste-associee-a-une-note","text":"Il est possible de faire des recherches de notes sur la gamme : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper scaleHelper.track(\"C5\".note) } Diverses autres variantes sont \u00e9galement disponibles pour effectuer des recherches. La fonction track peut prendre en param\u00e8tre la section de registre : import groovy.aprint.transform.* import groovy.aprint.midi.* use (ScaleCategory, NoteCategory) { def ins = services.repository.getInstrument(\"52 Limonaire Origine\") def scaleHelper = ins.scale.helper // recherche d'un note dans la m\u00e9lodie scaleHelper.track(\"C6\".note, scaleHelper.MELODY) // on aurai pu mettre BASS ou ACCOMPAGNMENT, COUNTER_MELODY } Le r\u00e9sultat de la console affiche : >> start script execution \u200b Script executed in 0: 0: 63 >> Track no 18 -> NoteDef - 72 - CHANT","title":"Rechercher une piste associ\u00e9e \u00e0 une note"},{"location":"product/whatsnew/","text":"Nouveaut\u00e9s des derni\u00e8res versions Version 2020 \"G\u00e9rard et Ludwig\" Version 2019 \"Freddy\" Version 2018 \"Jean Pierre\" Version 2017 APrint Studio \u00e9volue au rythme de une \u00e0 deux versions par an. Pour ceux qui ont l'habitude d'utiliser le logiciel, une synth\u00e8se r\u00e9alis\u00e9e par nos soins est pr\u00e9sent\u00e9e ci dessous. Les sont not\u00e9es avec l'ann\u00e9e de sortie, ainsi que des noms de contributeurs importants ayant particip\u00e9s significativement \u00e0 l'am\u00e9lioration du logiciel, pour le bonheur de tous. D'autres contributeurs participent \u00e9galement et leurs attributions sont indiqu\u00e9es dans les diff\u00e9rents domaines (Bank de sons, instruments .. etc ). Nos excuses si des oublis ont \u00e9t\u00e9 not\u00e9s, ce n'est pas notre volont\u00e9, signalez le nous, nous corrigerons.","title":"Introduction"},{"location":"product/whatsnew/#nouveautes-des-dernieres-versions","text":"Version 2020 \"G\u00e9rard et Ludwig\" Version 2019 \"Freddy\" Version 2018 \"Jean Pierre\" Version 2017 APrint Studio \u00e9volue au rythme de une \u00e0 deux versions par an. Pour ceux qui ont l'habitude d'utiliser le logiciel, une synth\u00e8se r\u00e9alis\u00e9e par nos soins est pr\u00e9sent\u00e9e ci dessous. Les sont not\u00e9es avec l'ann\u00e9e de sortie, ainsi que des noms de contributeurs importants ayant particip\u00e9s significativement \u00e0 l'am\u00e9lioration du logiciel, pour le bonheur de tous. D'autres contributeurs participent \u00e9galement et leurs attributions sont indiqu\u00e9es dans les diff\u00e9rents domaines (Bank de sons, instruments .. etc ). Nos excuses si des oublis ont \u00e9t\u00e9 not\u00e9s, ce n'est pas notre volont\u00e9, signalez le nous, nous corrigerons.","title":"Nouveaut\u00e9s des derni\u00e8res versions"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/","text":"APrint Studio - 2017 Patrice Freydiere - Novembre 2017 Introduction Cette version majeure 2017 introduit les fonctionnalit\u00e9s et d\u00e9veloppements r\u00e9alis\u00e9s cette ann\u00e9e 2016-2017 ainsi que des \u00e9volutions sur des d\u00e9veloppements initi\u00e9s en 2016. APrint Studio 2017 progresse sur la partie r\u00e9cup\u00e9ration de cartons d'origine, et manipulation de transformations sur les cartons. Des am\u00e9liorations sont \u00e9galement r\u00e9alis\u00e9es sur l'utilisation quotidienne et occasionnelle. Nouvelles fonctionnalit\u00e9s Reconnaissance de cartons d'orgues de barbarie Cette extension majeure permet \u00e0 un utilisateur \u00e9quip\u00e9 d'un scanner ou d'images num\u00e9ris\u00e9e d'un carton, de pouvoir transformer ces \u00e9l\u00e9ments en fichiers book, exportables en fichiers Midi. Accessible \u00e0 partir de la page principale, cette premi\u00e8re version propose un assistant guidant l'utilisateur sur les diff\u00e9rentes phases de num\u00e9risation. Vous trouverez plus d'informations dans l'aide en ligne du logiciel, avec un guide vous permettant de r\u00e9aliser en toute autonomie les op\u00e9rations une par une. Une fois maitris\u00e9e, il ne faut que quelques minutes pour r\u00e9aliser l'op\u00e9ration. Une rubrique d'aide complete dans l'aide, documente l'utilisation de la fonction. Copier / coller entre diff\u00e9rentes fen\u00eatres. La manipulation de plusieurs contenus de fenetre et d'\u00e9change entre les fenetre a \u00e9t\u00e9 simplifi\u00e9 en mettant en place la possibilit\u00e9 de copier / coller des notes ou des trous d'un m\u00eame instrument dans une autre fen\u00eatre. Cette fonctionnalit\u00e9 permet de pouvoir rabouter, diff\u00e9rents cartons virtuels, pour un assemblage, cas d'utilisation : Faire des rouleaux papier avec plusieurs morceaux Rabouter des reconnaissances de cartons \u00e0 partir de plusieurs images Cette fonction peut \u00e9galement compl\u00e9ter les fonctions de gestion de marquage et de sections de cartons. Ajout d'un choix de tempo au cours du jeu Une fonctionnalit\u00e9 tr\u00e8s demand\u00e9e \u00e9tait de pouvoir r\u00e9gler la vitesse de jeu du carton, ceci est maintenant possible La molette situ\u00e9e au centre, propose un jeu dans la vitesse de l'instrument, en d\u00e9pla\u00e7ant \u00e0 gauche le curseur il est possible de ralentir le jeu. En d\u00e9pla\u00e7ant \u00e0 droite le curseur, le jeu du carton s'acc\u00e9l\u00e8re. Nouvel optimiseur pour le per\u00e7age La version 2017 propose une nouvelle m\u00e9thode d'optimisation, sp\u00e9cialement d\u00e9di\u00e9e au perforation papier. Cette optimisation permet d'\u00e9viter un balayement complet de la t\u00eate de perforation, en perforant en remontant ou en redescendant. Ce choix d'optimisation est une am\u00e9lioration du 1er optimiseur (\"Optimis\u00e9 en d\u00e9placement\"), en r\u00e9duisant les d\u00e9placements, donc en acc\u00e9l\u00e9rant l'op\u00e9ration de per\u00e7age. Am\u00e9liorations sur les fonctions existantes Simplification de l'interface L'interface principale a \u00e9t\u00e9 simplifi\u00e9e, en enlevant les textes inutiles, am\u00e9liorant la lisibilit\u00e9 de l'application. L'infobulle permettant la description de la fonction en survol est conserv\u00e9e. Aide en ligne L'aide en ligne suit les versions des logiciels, avec la documentation et des informations compl\u00e9mentaires associ\u00e9es au logiciel. Cette aide en ligne est directement accessible \u00e0 partie du logiciel. Cette nouvelle interface d'aide, demande un acc\u00e8s internet pour fonctionner. Am\u00e9liorations - Evolutions Proposition d'acc\u00e8s aux scripts \u00e0 partir du menu principal Pour les d\u00e9veloppeurs, il est possible maintenant de proposer des scripts, directement accessibles depuis la page principale APrint, un article dans l'aide en ligne a \u00e9t\u00e9 ajout\u00e9 pour d\u00e9tailler l'installation et la cr\u00e9ation de ces scripts. pour plus d'information r\u00e9f\u00e9rez vous \u00e0 la rubrique de d\u00e9veloppement associ\u00e9es.","title":"2017"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#aprint-studio-2017","text":"Patrice Freydiere - Novembre 2017","title":"APrint Studio - 2017"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#introduction","text":"Cette version majeure 2017 introduit les fonctionnalit\u00e9s et d\u00e9veloppements r\u00e9alis\u00e9s cette ann\u00e9e 2016-2017 ainsi que des \u00e9volutions sur des d\u00e9veloppements initi\u00e9s en 2016. APrint Studio 2017 progresse sur la partie r\u00e9cup\u00e9ration de cartons d'origine, et manipulation de transformations sur les cartons. Des am\u00e9liorations sont \u00e9galement r\u00e9alis\u00e9es sur l'utilisation quotidienne et occasionnelle.","title":"Introduction"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#nouvelles-fonctionnalites","text":"","title":"Nouvelles fonctionnalit\u00e9s"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#reconnaissance-de-cartons-dorgues-de-barbarie","text":"Cette extension majeure permet \u00e0 un utilisateur \u00e9quip\u00e9 d'un scanner ou d'images num\u00e9ris\u00e9e d'un carton, de pouvoir transformer ces \u00e9l\u00e9ments en fichiers book, exportables en fichiers Midi. Accessible \u00e0 partir de la page principale, cette premi\u00e8re version propose un assistant guidant l'utilisateur sur les diff\u00e9rentes phases de num\u00e9risation. Vous trouverez plus d'informations dans l'aide en ligne du logiciel, avec un guide vous permettant de r\u00e9aliser en toute autonomie les op\u00e9rations une par une. Une fois maitris\u00e9e, il ne faut que quelques minutes pour r\u00e9aliser l'op\u00e9ration. Une rubrique d'aide complete dans l'aide, documente l'utilisation de la fonction.","title":"Reconnaissance de cartons d'orgues de barbarie"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#copier-coller-entre-differentes-fenetres","text":"La manipulation de plusieurs contenus de fenetre et d'\u00e9change entre les fenetre a \u00e9t\u00e9 simplifi\u00e9 en mettant en place la possibilit\u00e9 de copier / coller des notes ou des trous d'un m\u00eame instrument dans une autre fen\u00eatre. Cette fonctionnalit\u00e9 permet de pouvoir rabouter, diff\u00e9rents cartons virtuels, pour un assemblage, cas d'utilisation : Faire des rouleaux papier avec plusieurs morceaux Rabouter des reconnaissances de cartons \u00e0 partir de plusieurs images Cette fonction peut \u00e9galement compl\u00e9ter les fonctions de gestion de marquage et de sections de cartons.","title":"Copier / coller entre diff\u00e9rentes fen\u00eatres."},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#ajout-dun-choix-de-tempo-au-cours-du-jeu","text":"Une fonctionnalit\u00e9 tr\u00e8s demand\u00e9e \u00e9tait de pouvoir r\u00e9gler la vitesse de jeu du carton, ceci est maintenant possible La molette situ\u00e9e au centre, propose un jeu dans la vitesse de l'instrument, en d\u00e9pla\u00e7ant \u00e0 gauche le curseur il est possible de ralentir le jeu. En d\u00e9pla\u00e7ant \u00e0 droite le curseur, le jeu du carton s'acc\u00e9l\u00e8re.","title":"Ajout d'un choix de tempo au cours du jeu"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#nouvel-optimiseur-pour-le-percage","text":"La version 2017 propose une nouvelle m\u00e9thode d'optimisation, sp\u00e9cialement d\u00e9di\u00e9e au perforation papier. Cette optimisation permet d'\u00e9viter un balayement complet de la t\u00eate de perforation, en perforant en remontant ou en redescendant. Ce choix d'optimisation est une am\u00e9lioration du 1er optimiseur (\"Optimis\u00e9 en d\u00e9placement\"), en r\u00e9duisant les d\u00e9placements, donc en acc\u00e9l\u00e9rant l'op\u00e9ration de per\u00e7age.","title":"Nouvel optimiseur pour le per\u00e7age"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#ameliorations-sur-les-fonctions-existantes","text":"","title":"Am\u00e9liorations sur les fonctions existantes"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#simplification-de-linterface","text":"L'interface principale a \u00e9t\u00e9 simplifi\u00e9e, en enlevant les textes inutiles, am\u00e9liorant la lisibilit\u00e9 de l'application. L'infobulle permettant la description de la fonction en survol est conserv\u00e9e.","title":"Simplification de l'interface"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#aide-en-ligne","text":"L'aide en ligne suit les versions des logiciels, avec la documentation et des informations compl\u00e9mentaires associ\u00e9es au logiciel. Cette aide en ligne est directement accessible \u00e0 partie du logiciel. Cette nouvelle interface d'aide, demande un acc\u00e8s internet pour fonctionner.","title":"Aide en ligne"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#ameliorations-evolutions","text":"","title":"Am\u00e9liorations - Evolutions"},{"location":"product/whatsnew/2017/Whats_new_APrintStudio_2017/#proposition-dacces-aux-scripts-a-partir-du-menu-principal","text":"Pour les d\u00e9veloppeurs, il est possible maintenant de proposer des scripts, directement accessibles depuis la page principale APrint, un article dans l'aide en ligne a \u00e9t\u00e9 ajout\u00e9 pour d\u00e9tailler l'installation et la cr\u00e9ation de ces scripts. pour plus d'information r\u00e9f\u00e9rez vous \u00e0 la rubrique de d\u00e9veloppement associ\u00e9es.","title":"Proposition d'acc\u00e8s aux scripts \u00e0 partir du menu principal"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/","text":"APrint Studio - 2018 - \"Freddy version\" Patrice Freydiere - Juin 2018 Introduction 2018 annonce une maturit\u00e9 sur un ensemble de fonctionnalit\u00e9s, ainsi que quelques nouveaut\u00e9s int\u00e9ressantes en cours d'\u00e9volution. Nous innovons toujours autours, ainsi cette version propose une premi\u00e8re impl\u00e9mentation du model editor. Les \u00e9volutions et am\u00e9lioration ont \u00e9t\u00e9 beaucoup travaill\u00e9es par Freddy, notamment sur la partie perforation, traduction en allemand, et retours sur l'utilisation. Ainsi nos amis germain pourront utiliser cette version dans leur langue maternelle, et peut \u00eatre faire des retours sur l'utilisation. Et une bonne maturit\u00e9 sur la partie per\u00e7age. Traduction en Allemand APrint Studio 2018 spricht deutsch Cr\u00e9ation de carton vierge. Il manquait une fonction simple de cr\u00e9ation d'un carton vierge. Bien que APrint Studio propose des fonctionnalit\u00e9s de conversion en carton d'orgue et que le point de d\u00e9part est g\u00e9n\u00e9ralement un arrangement (donc un fichier MIDI), la cr\u00e9ation d'un carton vierge est int\u00e9ressante pour plusieurs usages : La cr\u00e9ation d'une gamme d'essai un copier coller de notes pour \u00e0 partir d'un autre carton, des exp\u00e9rimentations simple Cette fonction est accessible \u00e0 partir du menu principal , et propose le choix d'un instrument, avec sa gamme associ\u00e9e. Perforation de cartons Nouveaux types de commande pour les machines Des am\u00e9liorations ont \u00e9t\u00e9 conduites sur la perforation de carton, d'autres types de commande sont maintenant support\u00e9es : Commande de moteur pas \u00e0 pas pour le poin\u00e7on Commande \u00e9lectrique avec un seul capteur situ\u00e9 en haut. Ces nouvelle possibilit\u00e9s sont accessible dans la nouvelle version du middleware GRBL Punch. Nouvelle strat\u00e9gie de perforation Demand\u00e9e par les utilisateurs cette strat\u00e9gie propose une perforation en U, sans retour en arri\u00e8re pour le carton ou le papier. Ce type de strat\u00e9gie de per\u00e7age, bien que gourmande en d\u00e9placement de machine, permet d'utiliser le logiciel sur des machines ayant des rattrapages de jeu importants, ou ne permettant pas de faire d\u00e9filer le carton en arri\u00e8re. la fen\u00eatre de pilotage de la perforation se voit maintenant dot\u00e9e d'un bouton de r\u00e9initialisation de la communication. Ainsi lorsque la machine ou l'arduino de pilotage ne r\u00e9pond plus, il est possible de le r\u00e9initialiser, puis continuer la perforation. Nous avons \u00e9galement eu de bon retours d'utilisateurs, sur la capacit\u00e9 \u00e0 CONTINUER un carton s'\u00e9tant interrompu dans le per\u00e7age. la capacit\u00e9 \u00e0 positionner le poin\u00e7on \u00e0 un endroit permet de pouvoir reprendre la perforation lors d'une erreur ou d'une coupure de courant. Transformation visuelle de cartons Le Model Editor est une nouvelle fonctionnalit\u00e9 d'APrint Studio 2018, cette premi\u00e8re version \u00e9voluera certainement avec les utilisateurs. Fort des difficult\u00e9s pour effectuer des scripts, (n\u00e9cessite un apprentissage du language de script), le model editor vise \u00e0 proposer une fa\u00e7on visuelle d'effectuer des transformations sur les cartons, et elles sont nombreuses : Changement d'instrument / test d'arrangement Lecture de fichiers exotiques Passage d'une gamme \u00e0 une autre changement de tempo, changement de registration, ... Une nouvelle section dans l'aide en ligne vous propose une documentation plus pr\u00e9cise que cette introduction. Aide en ligne Et toujours une am\u00e9lioration sur la partie aide en ligne, permettant de simplifier l'utilisation, et servant de r\u00e9f\u00e9rence sur l'utilisation, compr\u00e9hension du fonctionnement. Et toujours, de petites am\u00e9liorations Le jeu du morceau maintenant se termine de fa\u00e7on moins abrupte Bouton \"refaire\", pour permettre de revenir \u00e0 l'\u00e9tat apr\u00e8s annulation Corrections sur la fermetures des fenetres Meilleures m\u00e9triques sur le per\u00e7age de cartons Prise en charge de commandes \u00e9lectrique pour les machines de perforation.","title":"2018"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#aprint-studio-2018-freddy-version","text":"Patrice Freydiere - Juin 2018","title":"APrint Studio - 2018 - \"Freddy version\""},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#introduction","text":"2018 annonce une maturit\u00e9 sur un ensemble de fonctionnalit\u00e9s, ainsi que quelques nouveaut\u00e9s int\u00e9ressantes en cours d'\u00e9volution. Nous innovons toujours autours, ainsi cette version propose une premi\u00e8re impl\u00e9mentation du model editor. Les \u00e9volutions et am\u00e9lioration ont \u00e9t\u00e9 beaucoup travaill\u00e9es par Freddy, notamment sur la partie perforation, traduction en allemand, et retours sur l'utilisation. Ainsi nos amis germain pourront utiliser cette version dans leur langue maternelle, et peut \u00eatre faire des retours sur l'utilisation. Et une bonne maturit\u00e9 sur la partie per\u00e7age.","title":"Introduction"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#traduction-en-allemand","text":"APrint Studio 2018 spricht deutsch","title":"Traduction en Allemand"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#creation-de-carton-vierge","text":"Il manquait une fonction simple de cr\u00e9ation d'un carton vierge. Bien que APrint Studio propose des fonctionnalit\u00e9s de conversion en carton d'orgue et que le point de d\u00e9part est g\u00e9n\u00e9ralement un arrangement (donc un fichier MIDI), la cr\u00e9ation d'un carton vierge est int\u00e9ressante pour plusieurs usages : La cr\u00e9ation d'une gamme d'essai un copier coller de notes pour \u00e0 partir d'un autre carton, des exp\u00e9rimentations simple Cette fonction est accessible \u00e0 partir du menu principal , et propose le choix d'un instrument, avec sa gamme associ\u00e9e.","title":"Cr\u00e9ation de carton vierge."},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#perforation-de-cartons","text":"","title":"Perforation de cartons"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#nouveaux-types-de-commande-pour-les-machines","text":"Des am\u00e9liorations ont \u00e9t\u00e9 conduites sur la perforation de carton, d'autres types de commande sont maintenant support\u00e9es : Commande de moteur pas \u00e0 pas pour le poin\u00e7on Commande \u00e9lectrique avec un seul capteur situ\u00e9 en haut. Ces nouvelle possibilit\u00e9s sont accessible dans la nouvelle version du middleware GRBL Punch.","title":"Nouveaux types de commande pour les machines"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#nouvelle-strategie-de-perforation","text":"Demand\u00e9e par les utilisateurs cette strat\u00e9gie propose une perforation en U, sans retour en arri\u00e8re pour le carton ou le papier. Ce type de strat\u00e9gie de per\u00e7age, bien que gourmande en d\u00e9placement de machine, permet d'utiliser le logiciel sur des machines ayant des rattrapages de jeu importants, ou ne permettant pas de faire d\u00e9filer le carton en arri\u00e8re. la fen\u00eatre de pilotage de la perforation se voit maintenant dot\u00e9e d'un bouton de r\u00e9initialisation de la communication. Ainsi lorsque la machine ou l'arduino de pilotage ne r\u00e9pond plus, il est possible de le r\u00e9initialiser, puis continuer la perforation. Nous avons \u00e9galement eu de bon retours d'utilisateurs, sur la capacit\u00e9 \u00e0 CONTINUER un carton s'\u00e9tant interrompu dans le per\u00e7age. la capacit\u00e9 \u00e0 positionner le poin\u00e7on \u00e0 un endroit permet de pouvoir reprendre la perforation lors d'une erreur ou d'une coupure de courant.","title":"Nouvelle strat\u00e9gie de perforation"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#transformation-visuelle-de-cartons","text":"Le Model Editor est une nouvelle fonctionnalit\u00e9 d'APrint Studio 2018, cette premi\u00e8re version \u00e9voluera certainement avec les utilisateurs. Fort des difficult\u00e9s pour effectuer des scripts, (n\u00e9cessite un apprentissage du language de script), le model editor vise \u00e0 proposer une fa\u00e7on visuelle d'effectuer des transformations sur les cartons, et elles sont nombreuses : Changement d'instrument / test d'arrangement Lecture de fichiers exotiques Passage d'une gamme \u00e0 une autre changement de tempo, changement de registration, ... Une nouvelle section dans l'aide en ligne vous propose une documentation plus pr\u00e9cise que cette introduction.","title":"Transformation visuelle de cartons"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#aide-en-ligne","text":"Et toujours une am\u00e9lioration sur la partie aide en ligne, permettant de simplifier l'utilisation, et servant de r\u00e9f\u00e9rence sur l'utilisation, compr\u00e9hension du fonctionnement.","title":"Aide en ligne"},{"location":"product/whatsnew/2018/Whats_new_APrintStudio_2018/#et-toujours-de-petites-ameliorations","text":"Le jeu du morceau maintenant se termine de fa\u00e7on moins abrupte Bouton \"refaire\", pour permettre de revenir \u00e0 l'\u00e9tat apr\u00e8s annulation Corrections sur la fermetures des fenetres Meilleures m\u00e9triques sur le per\u00e7age de cartons Prise en charge de commandes \u00e9lectrique pour les machines de perforation.","title":"Et toujours, de petites am\u00e9liorations"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/","text":"APrint Studio - 2019 - \"Jean Pierre version\" Patrice Freydiere - Janvier 2019 Introduction APrint 2019, int\u00e8gre maintenant des fonctionnalit\u00e9s permettant la num\u00e9risation de cartons d'orgue. Ces nouvelles fonctions permettent de pouvoir construire une version num\u00e9rique d'un carton \u00e0 partir de prises de vues fixes ou vid\u00e9os. APrint 2019 int\u00e8gre \u00e9galement de nombreuses am\u00e9liorations, simplifiant l'utilisation occasionnelle et quotidienne. Premiers pas sur la num\u00e9risation de cartons Une nouvelle extension propose deux options : reconstruction d'une image de carton \u00e0 partir de diff\u00e9rentes prises de vues la cr\u00e9ation de prises de vues avec une webcam. La premi\u00e8re possibilit\u00e9 de fusion d'images, permet \u00e0 partir des prises de vues, de reconstruit une image compl\u00e8te du carton. Une vision interactive permet de r\u00e9gler les diff\u00e9rents param\u00e8tres, ainsi que de sauvegarder une image unique du carton. Il est alors plus ais\u00e9 de construire une biblioth\u00e8que d'images de cartons. Dans le panneau de l'extension, la seconde option propose une num\u00e9risation directe en utilisant une webcam directement connect\u00e9e \u00e0 l'ordinateur. Dans la num\u00e9risation, l'avancement du carton peut \u00eatre r\u00e9gl\u00e9 sur une base de temps. Si l'ordinateur est connect\u00e9 \u00e0 la machine de perforation, il est possible de r\u00e9utiliser l'avancement automatique de celle ci pour les prises de vues. Reconnaissance de carton Pour simplifier les \u00e9tapes de reconnaissance de carton, l'ergonomie a \u00e9t\u00e9 am\u00e9lior\u00e9e. La mise en place de grille sur le vision carton, ainsi que les info bulles associ\u00e9es, permettent de mieux comprendre l'orientation et le calibrage. L'outil a \u00e9t\u00e9 \u00e9galement ouvert pour permettre le choix d'un mod\u00e8le algorithmique de vision personnalis\u00e9. Cette ouverture, permet de personnaliser et d'am\u00e9liorer la reconnaissance, dans des cas de prises de vues sp\u00e9cifiques. Ainsi avec cette sp\u00e9cialisation du mod\u00e8le algorithmique de vision, les op\u00e9rations de retouche manuelles sont largement diminu\u00e9es, voir, supprim\u00e9es. Model Editor De nouvelles am\u00e9liorations sur le model editor. Aide en ligne Des am\u00e9liorations et compl\u00e9ments sur la partie aide en ligne, permettant de simplifier l'utilisation, et servant de r\u00e9f\u00e9rence sur l'utilisation, compr\u00e9hension du fonctionnement. Et toujours de petites \u00e9volutions ... Le jeu du morceau se termine de fa\u00e7on moins abrupte (la fonction \"play\") Un nouveau Bouton \"refaire\", permettre de remettre en place des op\u00e9rations annul\u00e9es Des corrections sur la fermeture des fen\u00eatres Meilleures m\u00e9triques sur le per\u00e7age de cartons (\u00e9volution sur la fen\u00eatre de perforation) Prise en charge des commandes \u00e9lectriques pour les machines de perforation. (via GRBL) Utilisation possible de moteurs pas \u00e0 pas ou \u00e9lectriques dans la performation","title":"2019"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#aprint-studio-2019-jean-pierre-version","text":"Patrice Freydiere - Janvier 2019","title":"APrint Studio - 2019 - \"Jean Pierre version\""},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#introduction","text":"APrint 2019, int\u00e8gre maintenant des fonctionnalit\u00e9s permettant la num\u00e9risation de cartons d'orgue. Ces nouvelles fonctions permettent de pouvoir construire une version num\u00e9rique d'un carton \u00e0 partir de prises de vues fixes ou vid\u00e9os. APrint 2019 int\u00e8gre \u00e9galement de nombreuses am\u00e9liorations, simplifiant l'utilisation occasionnelle et quotidienne.","title":"Introduction"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#premiers-pas-sur-la-numerisation-de-cartons","text":"Une nouvelle extension propose deux options : reconstruction d'une image de carton \u00e0 partir de diff\u00e9rentes prises de vues la cr\u00e9ation de prises de vues avec une webcam. La premi\u00e8re possibilit\u00e9 de fusion d'images, permet \u00e0 partir des prises de vues, de reconstruit une image compl\u00e8te du carton. Une vision interactive permet de r\u00e9gler les diff\u00e9rents param\u00e8tres, ainsi que de sauvegarder une image unique du carton. Il est alors plus ais\u00e9 de construire une biblioth\u00e8que d'images de cartons. Dans le panneau de l'extension, la seconde option propose une num\u00e9risation directe en utilisant une webcam directement connect\u00e9e \u00e0 l'ordinateur. Dans la num\u00e9risation, l'avancement du carton peut \u00eatre r\u00e9gl\u00e9 sur une base de temps. Si l'ordinateur est connect\u00e9 \u00e0 la machine de perforation, il est possible de r\u00e9utiliser l'avancement automatique de celle ci pour les prises de vues.","title":"Premiers pas sur la num\u00e9risation de cartons"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#reconnaissance-de-carton","text":"Pour simplifier les \u00e9tapes de reconnaissance de carton, l'ergonomie a \u00e9t\u00e9 am\u00e9lior\u00e9e. La mise en place de grille sur le vision carton, ainsi que les info bulles associ\u00e9es, permettent de mieux comprendre l'orientation et le calibrage. L'outil a \u00e9t\u00e9 \u00e9galement ouvert pour permettre le choix d'un mod\u00e8le algorithmique de vision personnalis\u00e9. Cette ouverture, permet de personnaliser et d'am\u00e9liorer la reconnaissance, dans des cas de prises de vues sp\u00e9cifiques. Ainsi avec cette sp\u00e9cialisation du mod\u00e8le algorithmique de vision, les op\u00e9rations de retouche manuelles sont largement diminu\u00e9es, voir, supprim\u00e9es.","title":"Reconnaissance de carton"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#model-editor","text":"De nouvelles am\u00e9liorations sur le model editor.","title":"Model Editor"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#aide-en-ligne","text":"Des am\u00e9liorations et compl\u00e9ments sur la partie aide en ligne, permettant de simplifier l'utilisation, et servant de r\u00e9f\u00e9rence sur l'utilisation, compr\u00e9hension du fonctionnement.","title":"Aide en ligne"},{"location":"product/whatsnew/2019/Whats_new_APrintStudio_2019/#et-toujours-de-petites-evolutions","text":"Le jeu du morceau se termine de fa\u00e7on moins abrupte (la fonction \"play\") Un nouveau Bouton \"refaire\", permettre de remettre en place des op\u00e9rations annul\u00e9es Des corrections sur la fermeture des fen\u00eatres Meilleures m\u00e9triques sur le per\u00e7age de cartons (\u00e9volution sur la fen\u00eatre de perforation) Prise en charge des commandes \u00e9lectriques pour les machines de perforation. (via GRBL) Utilisation possible de moteurs pas \u00e0 pas ou \u00e9lectriques dans la performation","title":"Et toujours de petites \u00e9volutions ..."},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/","text":"APrint Studio - 2020 - \"G\u00e9rard et Ludwig\" Patrice Freydiere - Novembre 2020 Introduction APrint 2020 , est une mise \u00e0 jour importante, avec de nouvelles fonctionnalit\u00e9s clefs. Support des machines \u00e0 pilotage Lazer , int\u00e9gr\u00e9, aussi simple \u00e0 utiliser que la version punch, int\u00e9grant Export CAD (DXF et SVG) De multiples param\u00e8tres pour les diff\u00e9rents cas d'utilisation (plusieures passes, support des pliures, reglage des puissances ... ) Am\u00e9lioration de l'ergonomie de l'explorateur de fichier . Ajout de bookmark, permettant de naviguer plus facilement dans vos arborescences Support simplifi\u00e9 du scan par webcam et Video Possibilit\u00e9 d'utiliser des vid\u00e9os au format mp4, avi, ... Simplification de la reconstruction de carton (1-Click) Visualisation de la gamme de destination .... etc ... APrint 2020, supporte d\u00e9sormais les nouvelles versions de java , son utilisation depuis les plateformes MacOS, Linux, est donc simplifi\u00e9. APrint 2020, porte le nom de \"G\u00e9rard et Ludwig\" , qui ont apport\u00e9s \u00e9norm\u00e9ment de choses \u00e0 l'initiative Barrel Organ Discovery, et ont lib\u00e9r\u00e9 une partie du code \u00e9crit pour la perforation lazer d\u00e9velopp\u00e9 pour eux il y a quelques ann\u00e9es. Ce code initial a largement \u00e9t\u00e9 retravaill\u00e9 pour simplifier l'ensemble des \u00e9tapes et rentre cela utilisable pour les sp\u00e9cificit\u00e9s des CNC actuelles (GRBL 1.1 lazer). L'ensemble de ces nouvelles fonctionnalit\u00e9s sont d\u00e9crites ci dessous, vous pouvez egalement vous r\u00e9f\u00e9rer aux pages de documentation pour plus d'informations. Export CAD et prise en charge perforation Laser Cette \u00e9volution fait partie des ajouts majeurs de cette version, propuls\u00e9 par les tests de Yann et Jean Pierre, ceci a permis de largement simplifier l'utilisation et la mise en oeuvre et ainsi de d\u00e9marrer en quelques heures. Une \u00e9volution appliqu\u00e9e, permet maintenant d'introduire de nouveaux types de machine. Ainsi, APrint propose avec les m\u00eame facilit\u00e9 d'utilisation, de nouveaux types de dialects machine. Perforation Laser et Export CAD Bien que possible depuis quelques ann\u00e9es. Cette possibilit\u00e9 a \u00e9t\u00e9 lib\u00e9r\u00e9e par G\u00e9rard et Ludwig . Initialement d\u00e9velopp\u00e9e pour eux, cette extension est maintenant disponible dans le produit. N\u00e9anmoins, des am\u00e9lioration significatives ont \u00e9t\u00e9 apport\u00e9es pour int\u00e9grer le noyau logiciel d'APrint. Le middleware GRBL 1.1 a \u00e9t\u00e9 cibl\u00e9e pour cette premi\u00e8re int\u00e9gration (tr\u00e8s utilis\u00e9), il est possible par d\u00e9veloppement d'en ajouter d'autres. et des am\u00e9liorations : nouvelle communication machine, nouveau \"dialect GCODE\", permettant de g\u00e9rer plus finement le GCODE g\u00e9n\u00e9r\u00e9. Et s'adapter en fonction des machines (Krunch, GRBL 1.1). Export SVG, DXF Pour ceux qui disposent d'une machine externe, il est possible d'exporter la d\u00e9coupe d'un carton dans un fichier SVG ou DXF pour per\u00e7age externe. Ceci permet de pr\u00e9parer un fichier externe, pour une perforation dans un logiciel de gravage lazer externe. Pilotage GRBL 1.1 - Lazer direct Plusieures nouvelles machines ont \u00e9t\u00e9 ajout\u00e9es dans l'extension de punch. Initialement concu pour les machines \u00e0 poin\u00e7ons, cette extension s'est vu reconstruite pour prendre en charge les d\u00e9coupes lin\u00e9aires de carton, ceci avec les m\u00eames \u00e9crans de pilotages. L' utilisation reste aussi simple que la perforation, une fois la machine connect\u00e9e. La reprise apr\u00e8s panne est \u00e9galement disponible, ainsi que les statistiques. Extensibilit\u00e9 machine Une nouvelle possibilit\u00e9 offerte pour les d\u00e9veloppeurs, et permettre l'ajout de nouvelles machine de perforation (lazer, punch ou autre), par extension. La mise en place d'une extension .machine permet l'ajout d'une machine de perforation non pr\u00e9vue initialement, de g\u00e9rer son pilotage, tout en r\u00e9cup\u00e9rant les logiques d'optimisation et de calcul de plan de perforation. Amelioration de la num\u00e9risation de cartons Nouveau format de fichier bookimage Cette version 2020 _Q2, apporte un nouveau format de fichier: le fichier bookimage . Ce format de fichier permet de stocker une images visuelle de carton, permettant de faire des retouches interactives sur une num\u00e9risation. Ces images sont supperposables sur la vue carton, pour retouche ou num\u00e9risation manuelle, ou assist\u00e9e. Num\u00e9risation,\u00e0 partir de fichiers video mp4 L'utilisation de telephone ou webcam, permet de cr\u00e9er des videos du d\u00e9filement du carton. Ces video peuvent maintenant \u00eatre utilis\u00e9e pour construire une image compl\u00e8te du carton, au format BookImage L'interface de reconstruction a \u00e9t\u00e9 largement am\u00e9lior\u00e9e pour SIMPLIFIER l'utilisation, quelques clicks suffisent pour reconstruire le scan. Evolutions sur la simplification d'utilisation Vers une utilisation r\u00e9seau, fa\u00e7ilitant le partage et l'\u00e9change de fichiers num\u00e9riques Pour permettre une collaboration plus directe entre les utilisateurs ou en reseau, et permettre un \u00e9change simplifi\u00e9 des cr\u00e9ation libres, une \u00e9volution a \u00e9t\u00e9 r\u00e9alis\u00e9e pour supporter d'autres mode de lecture (notamment reseau). Ainsi lors de la lecture de fichiers, il est possible de cibler maintenant des sites FTP, HTTP, WEBDav, ... etc. Les utilisateurs ayant plusieurs postes, ou souhaitant partager leur fichiers, ne sont plus forc\u00e9 d'envoyer les \u00e9l\u00e9ments par mail. Ils peuvent utiliser en lecture et \u00e9criture un site FTP distant ou HTTP WebDav. L'authentification vers ces connexions r\u00e9seau est \u00e9galement prise en charge. Ceci facilite \u00e9galement la r\u00e9cup\u00e9ration et l'\u00e9change de d\u00e9finition d'instruments. En utilisant une URL, le fichier est directement r\u00e9cup\u00e9r\u00e9 par APrint et utilisable directement. Pour les utilisateurs qui ne souhaitent pas partager ou mettre des \u00e9l\u00e9ments sur le reseau, ceci ne change rien pour eux. Nouvel explorateur de fichier Une nouvel explorateur de fichier permet de simplifier l'utilisation, et pour aller plus vite dans diff\u00e9rents r\u00e9pertoire. L'explorateur s'est dot\u00e9 de marque pages, permettant de m\u00e9moriser rapidement plusieurs emplacement. un double click sur le marque page positionne l'explorateur au bon endoit. Ceci est particuli\u00e8rement pratique lorsque l'on navigue \u00e0 plusieurs emplacements. Nouvelle fenetre lat\u00e9rale de description de carton Les propri\u00e9t\u00e9s du carton (m\u00e9tadonn\u00e9es), sont maintenant accessibles plus facilement avec le panneau lat\u00e9ral. Cette mise en valeur, permet le renseignement des \u00e9l\u00e9ments du carton, la g\u00e9n\u00e8re, les dates associ\u00e9es. Ces informations sont toujours utilis\u00e9es dans les fonctions d'indexation et de recherche. La saisie de ces \u00e9l\u00e9ments permet d'informer les utilisateurs du carton des \u00e9l\u00e9ments de provenance, arrangeur, .. etc Model Editor Le Model editor permet d'automatiser certaines taches de transformation de cartons, et simplifie le passage de fichiers midi ou de transposition. Pour plus d'information sur cet outil, consultez la page de documentation, pour apprendre \u00e0 l'utiliser et cr\u00e9\u00e9r vos propres transformations. Dans cette version des am\u00e9liorations ont \u00e9t\u00e9 apport\u00e9es : S\u00e9lection visuelles et interactives sur les instruments. Il n'est plus n\u00e9cessaire d\u00e9sormait de connaitre le nom de l'instrument avec pr\u00e9cision, ce choix est r\u00e9alis\u00e9 de fa\u00e7on interactive. Aide en ligne Nouvelle pr\u00e9sentation de l'aide en ligne. Cette \u00e9volution a \u00e9t\u00e9 propos\u00e9e pour permettre des traductions automatiques plus simple dans les diff\u00e9rentes langues. D'autre part, l'aide en ligne est maintenant modifiable par tous. Pour cela il vous suffit d'avoir un compte Github (plateforme h\u00e9bergeant le code source) L'aide en ligne est automatiquement publi\u00e9e sur https://barrelorgandiscovery.github.io/APrintDoc/ . Sur chaque Page un icone \"crayon\", vous permet d'annoter et proposer des corrections pour tous. Compatibilit\u00e9 Java 9+, 11,12,13,14 Un travail sur le logiciel a \u00e9t\u00e9 r\u00e9alis\u00e9 pour prendre en charge les nouvelles versions de java. Cette \u00e9volution ne touche pas les utilisateurs Windows, qui ne sont par impact\u00e9s (la version de java est embarqu\u00e9e dans l'installation, et ne d\u00e9pends pas du syst\u00e8me). En revanche cela simplifie l'utilisation pour les utilisateurs MacOS (forc\u00e9s de passer sur les dernni\u00e8res version). Des \u00e9volutions techniques Passage \u00e0 la version XML book 2016 Cette nouvelle version de xml, (toujours normalis\u00e9e), int\u00e8gre, entre autre l'orientation de d\u00e9placement du carton. (droite \u00e0 gauche ou gauche \u00e0 droite). Une r\u00e9organisation technique permet maintenant de pouvoir avoir un descriptif XML des commandes de perforation. Ceci pour am\u00e9liorer les \u00e9l\u00e9ments techniques de perforation et permettre la sauvegarde de plan de perforation pour une utilisation en production, pr\u00e9pr\u00e9par\u00e9e. Et toujours des \u00e9volutions de qualit\u00e9 logicielle Fix sur la partie sonore, un bug remont\u00e9 par Yann Baraffe a permit d'am\u00e9liorer l'\u00e9coute lorsque l'instrument a beaucoup de registres. Les soundbank SF2 g\u00e9n\u00e9r\u00e9e dupliquaient les d\u00e9finitions de mapping, provoquant de multiple jeux dans les logiciels. Ceci a \u00e9t\u00e9 corrig\u00e9. Breaking Changes - Changements impactants Cette version int\u00e8gre une nouvelle version de la reconnaissance de carton, les mod\u00e8les de reconnaissance cr\u00e9\u00e9 avec l'ancienne version ne seront pas compatible avec celle ci. Il sera donc n\u00e9cessaire de les reconstruire. Pour simplifier, une version associ\u00e9e de Fiji est disponible maintenant dans l'installation d'aprint. Contributions sur cette version Yann Baraffe : test pilotage laser, + extension machine (pour la mise en place dans les atelier Baraffe Charial) Pierre Louis Freydiere, sur la partie reconnaissance (num\u00e9risation d'une base de 80 poncifs d'origin limonaire, patrimoine r\u00e9cup\u00e9r\u00e9 avec ces outils). Jean Pierre Rosset : test sur la machine laser + documents sur la mise en place laser. Joseph Loiseau , sur des retours associ\u00e9s au logiciels et les tests sur sa perfo laser Gerard et Ludwig !! ...","title":"2020"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#aprint-studio-2020-gerard-et-ludwig","text":"Patrice Freydiere - Novembre 2020","title":"APrint Studio - 2020 - \"G\u00e9rard et Ludwig\""},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#introduction","text":"APrint 2020 , est une mise \u00e0 jour importante, avec de nouvelles fonctionnalit\u00e9s clefs. Support des machines \u00e0 pilotage Lazer , int\u00e9gr\u00e9, aussi simple \u00e0 utiliser que la version punch, int\u00e9grant Export CAD (DXF et SVG) De multiples param\u00e8tres pour les diff\u00e9rents cas d'utilisation (plusieures passes, support des pliures, reglage des puissances ... ) Am\u00e9lioration de l'ergonomie de l'explorateur de fichier . Ajout de bookmark, permettant de naviguer plus facilement dans vos arborescences Support simplifi\u00e9 du scan par webcam et Video Possibilit\u00e9 d'utiliser des vid\u00e9os au format mp4, avi, ... Simplification de la reconstruction de carton (1-Click) Visualisation de la gamme de destination .... etc ... APrint 2020, supporte d\u00e9sormais les nouvelles versions de java , son utilisation depuis les plateformes MacOS, Linux, est donc simplifi\u00e9. APrint 2020, porte le nom de \"G\u00e9rard et Ludwig\" , qui ont apport\u00e9s \u00e9norm\u00e9ment de choses \u00e0 l'initiative Barrel Organ Discovery, et ont lib\u00e9r\u00e9 une partie du code \u00e9crit pour la perforation lazer d\u00e9velopp\u00e9 pour eux il y a quelques ann\u00e9es. Ce code initial a largement \u00e9t\u00e9 retravaill\u00e9 pour simplifier l'ensemble des \u00e9tapes et rentre cela utilisable pour les sp\u00e9cificit\u00e9s des CNC actuelles (GRBL 1.1 lazer). L'ensemble de ces nouvelles fonctionnalit\u00e9s sont d\u00e9crites ci dessous, vous pouvez egalement vous r\u00e9f\u00e9rer aux pages de documentation pour plus d'informations.","title":"Introduction"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#export-cad-et-prise-en-charge-perforation-laser","text":"Cette \u00e9volution fait partie des ajouts majeurs de cette version, propuls\u00e9 par les tests de Yann et Jean Pierre, ceci a permis de largement simplifier l'utilisation et la mise en oeuvre et ainsi de d\u00e9marrer en quelques heures. Une \u00e9volution appliqu\u00e9e, permet maintenant d'introduire de nouveaux types de machine. Ainsi, APrint propose avec les m\u00eame facilit\u00e9 d'utilisation, de nouveaux types de dialects machine.","title":"Export CAD et prise en charge perforation Laser"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#perforation-laser-et-export-cad","text":"Bien que possible depuis quelques ann\u00e9es. Cette possibilit\u00e9 a \u00e9t\u00e9 lib\u00e9r\u00e9e par G\u00e9rard et Ludwig . Initialement d\u00e9velopp\u00e9e pour eux, cette extension est maintenant disponible dans le produit. N\u00e9anmoins, des am\u00e9lioration significatives ont \u00e9t\u00e9 apport\u00e9es pour int\u00e9grer le noyau logiciel d'APrint. Le middleware GRBL 1.1 a \u00e9t\u00e9 cibl\u00e9e pour cette premi\u00e8re int\u00e9gration (tr\u00e8s utilis\u00e9), il est possible par d\u00e9veloppement d'en ajouter d'autres. et des am\u00e9liorations : nouvelle communication machine, nouveau \"dialect GCODE\", permettant de g\u00e9rer plus finement le GCODE g\u00e9n\u00e9r\u00e9. Et s'adapter en fonction des machines (Krunch, GRBL 1.1).","title":"Perforation Laser et Export CAD"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#export-svg-dxf","text":"Pour ceux qui disposent d'une machine externe, il est possible d'exporter la d\u00e9coupe d'un carton dans un fichier SVG ou DXF pour per\u00e7age externe. Ceci permet de pr\u00e9parer un fichier externe, pour une perforation dans un logiciel de gravage lazer externe.","title":"Export SVG, DXF"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#pilotage-grbl-11-lazer-direct","text":"Plusieures nouvelles machines ont \u00e9t\u00e9 ajout\u00e9es dans l'extension de punch. Initialement concu pour les machines \u00e0 poin\u00e7ons, cette extension s'est vu reconstruite pour prendre en charge les d\u00e9coupes lin\u00e9aires de carton, ceci avec les m\u00eames \u00e9crans de pilotages. L' utilisation reste aussi simple que la perforation, une fois la machine connect\u00e9e. La reprise apr\u00e8s panne est \u00e9galement disponible, ainsi que les statistiques.","title":"Pilotage GRBL 1.1 - Lazer direct"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#extensibilite-machine","text":"Une nouvelle possibilit\u00e9 offerte pour les d\u00e9veloppeurs, et permettre l'ajout de nouvelles machine de perforation (lazer, punch ou autre), par extension. La mise en place d'une extension .machine permet l'ajout d'une machine de perforation non pr\u00e9vue initialement, de g\u00e9rer son pilotage, tout en r\u00e9cup\u00e9rant les logiques d'optimisation et de calcul de plan de perforation.","title":"Extensibilit\u00e9 machine"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#amelioration-de-la-numerisation-de-cartons","text":"","title":"Amelioration de la num\u00e9risation de cartons"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#nouveau-format-de-fichier-bookimage","text":"Cette version 2020 _Q2, apporte un nouveau format de fichier: le fichier bookimage . Ce format de fichier permet de stocker une images visuelle de carton, permettant de faire des retouches interactives sur une num\u00e9risation. Ces images sont supperposables sur la vue carton, pour retouche ou num\u00e9risation manuelle, ou assist\u00e9e.","title":"Nouveau format de fichier bookimage"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#numerisationa-partir-de-fichiers-video-mp4","text":"L'utilisation de telephone ou webcam, permet de cr\u00e9er des videos du d\u00e9filement du carton. Ces video peuvent maintenant \u00eatre utilis\u00e9e pour construire une image compl\u00e8te du carton, au format BookImage L'interface de reconstruction a \u00e9t\u00e9 largement am\u00e9lior\u00e9e pour SIMPLIFIER l'utilisation, quelques clicks suffisent pour reconstruire le scan.","title":"Num\u00e9risation,\u00e0 partir de fichiers video mp4"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#evolutions-sur-la-simplification-dutilisation","text":"","title":"Evolutions sur la simplification d'utilisation"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#vers-une-utilisation-reseau-facilitant-le-partage-et-lechange-de-fichiers-numeriques","text":"Pour permettre une collaboration plus directe entre les utilisateurs ou en reseau, et permettre un \u00e9change simplifi\u00e9 des cr\u00e9ation libres, une \u00e9volution a \u00e9t\u00e9 r\u00e9alis\u00e9e pour supporter d'autres mode de lecture (notamment reseau). Ainsi lors de la lecture de fichiers, il est possible de cibler maintenant des sites FTP, HTTP, WEBDav, ... etc. Les utilisateurs ayant plusieurs postes, ou souhaitant partager leur fichiers, ne sont plus forc\u00e9 d'envoyer les \u00e9l\u00e9ments par mail. Ils peuvent utiliser en lecture et \u00e9criture un site FTP distant ou HTTP WebDav. L'authentification vers ces connexions r\u00e9seau est \u00e9galement prise en charge. Ceci facilite \u00e9galement la r\u00e9cup\u00e9ration et l'\u00e9change de d\u00e9finition d'instruments. En utilisant une URL, le fichier est directement r\u00e9cup\u00e9r\u00e9 par APrint et utilisable directement. Pour les utilisateurs qui ne souhaitent pas partager ou mettre des \u00e9l\u00e9ments sur le reseau, ceci ne change rien pour eux.","title":"Vers une utilisation r\u00e9seau, fa\u00e7ilitant le partage et l'\u00e9change de fichiers num\u00e9riques"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#nouvel-explorateur-de-fichier","text":"Une nouvel explorateur de fichier permet de simplifier l'utilisation, et pour aller plus vite dans diff\u00e9rents r\u00e9pertoire. L'explorateur s'est dot\u00e9 de marque pages, permettant de m\u00e9moriser rapidement plusieurs emplacement. un double click sur le marque page positionne l'explorateur au bon endoit. Ceci est particuli\u00e8rement pratique lorsque l'on navigue \u00e0 plusieurs emplacements.","title":"Nouvel explorateur de fichier"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#nouvelle-fenetre-laterale-de-description-de-carton","text":"Les propri\u00e9t\u00e9s du carton (m\u00e9tadonn\u00e9es), sont maintenant accessibles plus facilement avec le panneau lat\u00e9ral. Cette mise en valeur, permet le renseignement des \u00e9l\u00e9ments du carton, la g\u00e9n\u00e8re, les dates associ\u00e9es. Ces informations sont toujours utilis\u00e9es dans les fonctions d'indexation et de recherche. La saisie de ces \u00e9l\u00e9ments permet d'informer les utilisateurs du carton des \u00e9l\u00e9ments de provenance, arrangeur, .. etc","title":"Nouvelle fenetre lat\u00e9rale de description de carton"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#model-editor","text":"Le Model editor permet d'automatiser certaines taches de transformation de cartons, et simplifie le passage de fichiers midi ou de transposition. Pour plus d'information sur cet outil, consultez la page de documentation, pour apprendre \u00e0 l'utiliser et cr\u00e9\u00e9r vos propres transformations. Dans cette version des am\u00e9liorations ont \u00e9t\u00e9 apport\u00e9es : S\u00e9lection visuelles et interactives sur les instruments. Il n'est plus n\u00e9cessaire d\u00e9sormait de connaitre le nom de l'instrument avec pr\u00e9cision, ce choix est r\u00e9alis\u00e9 de fa\u00e7on interactive.","title":"Model Editor"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#aide-en-ligne","text":"Nouvelle pr\u00e9sentation de l'aide en ligne. Cette \u00e9volution a \u00e9t\u00e9 propos\u00e9e pour permettre des traductions automatiques plus simple dans les diff\u00e9rentes langues. D'autre part, l'aide en ligne est maintenant modifiable par tous. Pour cela il vous suffit d'avoir un compte Github (plateforme h\u00e9bergeant le code source) L'aide en ligne est automatiquement publi\u00e9e sur https://barrelorgandiscovery.github.io/APrintDoc/ . Sur chaque Page un icone \"crayon\", vous permet d'annoter et proposer des corrections pour tous.","title":"Aide en ligne"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#compatibilite-java-9-11121314","text":"Un travail sur le logiciel a \u00e9t\u00e9 r\u00e9alis\u00e9 pour prendre en charge les nouvelles versions de java. Cette \u00e9volution ne touche pas les utilisateurs Windows, qui ne sont par impact\u00e9s (la version de java est embarqu\u00e9e dans l'installation, et ne d\u00e9pends pas du syst\u00e8me). En revanche cela simplifie l'utilisation pour les utilisateurs MacOS (forc\u00e9s de passer sur les dernni\u00e8res version).","title":"Compatibilit\u00e9 Java 9+, 11,12,13,14"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#des-evolutions-techniques","text":"","title":"Des \u00e9volutions techniques"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#passage-a-la-version-xml-book-2016","text":"Cette nouvelle version de xml, (toujours normalis\u00e9e), int\u00e8gre, entre autre l'orientation de d\u00e9placement du carton. (droite \u00e0 gauche ou gauche \u00e0 droite). Une r\u00e9organisation technique permet maintenant de pouvoir avoir un descriptif XML des commandes de perforation. Ceci pour am\u00e9liorer les \u00e9l\u00e9ments techniques de perforation et permettre la sauvegarde de plan de perforation pour une utilisation en production, pr\u00e9pr\u00e9par\u00e9e.","title":"Passage \u00e0 la version XML book 2016"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#et-toujours-des-evolutions-de-qualite-logicielle","text":"Fix sur la partie sonore, un bug remont\u00e9 par Yann Baraffe a permit d'am\u00e9liorer l'\u00e9coute lorsque l'instrument a beaucoup de registres. Les soundbank SF2 g\u00e9n\u00e9r\u00e9e dupliquaient les d\u00e9finitions de mapping, provoquant de multiple jeux dans les logiciels. Ceci a \u00e9t\u00e9 corrig\u00e9.","title":"Et toujours des \u00e9volutions de qualit\u00e9 logicielle"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#breaking-changes-changements-impactants","text":"Cette version int\u00e8gre une nouvelle version de la reconnaissance de carton, les mod\u00e8les de reconnaissance cr\u00e9\u00e9 avec l'ancienne version ne seront pas compatible avec celle ci. Il sera donc n\u00e9cessaire de les reconstruire. Pour simplifier, une version associ\u00e9e de Fiji est disponible maintenant dans l'installation d'aprint.","title":"Breaking Changes - Changements impactants"},{"location":"product/whatsnew/2020/Whats_new_APrintStudio_2020_q2/#contributions-sur-cette-version","text":"Yann Baraffe : test pilotage laser, + extension machine (pour la mise en place dans les atelier Baraffe Charial) Pierre Louis Freydiere, sur la partie reconnaissance (num\u00e9risation d'une base de 80 poncifs d'origin limonaire, patrimoine r\u00e9cup\u00e9r\u00e9 avec ces outils). Jean Pierre Rosset : test sur la machine laser + documents sur la mise en place laser. Joseph Loiseau , sur des retours associ\u00e9s au logiciels et les tests sur sa perfo laser Gerard et Ludwig !! ...","title":"Contributions sur cette version"}]}